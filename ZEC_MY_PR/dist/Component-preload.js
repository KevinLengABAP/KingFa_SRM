//@ui5-bundle ZEC_MY_REQUIREMENTS/Component-preload.js
sap.ui.predefine("ZEC_MY_REQUIREMENTS/Component", ["sap/ui/core/UIComponent","sap/ui/Device","ZEC_MY_REQUIREMENTS/model/models"],function(e,t,i){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.setModel(sap.ui.getCore().getMessageManager().getMessageModel(),"message");this.setModel(i.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/BaseController", ["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/odata/ODataModel","sap/ui/model/json/JSONModel"],function(e,t,o,n,r,a){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.controller.BaseController",{getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},convPathToOrder:function(e){return e.substring(e.lastIndexOf("/")+1)},confirmNavBack:function(e,t){if(JSON.stringify(e)!==JSON.stringify(t)){n.show("数据已经变更，确定要退出吗？",{icon:n.Icon.WARNING,title:"退出确认",actions:[n.Action.OK,n.Action.CANCEL],onClose:function(e){if(e===n.Action.OK){this.onNavBack()}}.bind(this)})}else{this.onNavBack()}},onNavBack:function(){var e=t.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{var o=true;this.getRouter().navTo("main",{},o)}},getGlobalVar:function(e){var t;if(this.getOwnerComponent()){t=this.getOwnerComponent().getModel("globalVar");return t.getProperty("/"+e)}else{return this.getParentView(this.getView()).getController().getGlobalVar(e)}},setGlobalVar:function(e,t){var o;if(this.getOwnerComponent()){o=this.getOwnerComponent().getModel("globalVar");return o.setProperty("/"+e,t)}else{return this.getParentView(this.getView()).getController().setGlobalVar(e,t)}},handleComboChange:function(e){var t=e.getSource();var o=e.getSource().data("message");t.setValueState("None");if(!t.getSelectedKey()&&e.getParameters().value){if(t.getRequired){t.setValueState("Error");if(o){t.setValueStateText(o)}}else{t.setValueState("Warning")}}},onMessagePopover:function(e){this._getMessagePopover().openBy(e.getSource())},onClearMessage:function(){sap.ui.getCore().getMessageManager().removeAllMessages()},_getMessagePopover:function(){if(!this._oMessagePopover){this._oMessagePopover=sap.ui.xmlfragment(this.getView().getId(),"ZEC_MY_REQUIREMENTS.view.MessagePopover",this);this.getView().addDependent(this._oMessagePopover)}return this._oMessagePopover},showErrorMessage:function(e){if(e.responseText){if(e.headers["Content-Type"].indexOf("application/json")>-1){sap.m.MessageToast.show(JSON.parse(e.responseText).error.message.value)}else{var t=new DOMParser;var o=t.parseFromString(e.responseText,"text/xml");var n=o.getElementsByTagName("message");var r=[];for(var a=0;a<n.length;a++){r[r.length]=n[a].innerHTML}sap.m.MessageToast.show(r)}}},getParentView:function(e){var t=e;while(t&&t.getParent){t=t.getParent();if(t instanceof sap.ui.core.mvc.View){return t}}},compareDate:function(e,t){var o=false;if(e.getFullYear()>t.getFullYear()){o=true}else if(e.getFullYear()==t.getFullYear()){if(e.getMonth()>t.getMonth()){o=true}else if(e.getMonth()==t.getMonth()){if(e.getDate()>t.getDate()){o=true}}}return o},convPicUrl:function(e){var t;var o=window.location.origin;if(o.indexOf("localhost")!==-1){o="http:///srmdevapp.kingfa.com.cn:8800"}if(e.ProductId){t=o+"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='',Lifnr='"+e.Lifnr+"',Matnr='"+e.ProductId+"',ZimageDesc='1')/$value"}else{t=o+"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='"+e.CatalogGuid+"',Lifnr='',Matnr='',ZimageDesc='1')/$value"}return t}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/BatchEditPo.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/model/Filter","ZEC_MY_REQUIREMENTS/utils/Validator","ZEC_MY_REQUIREMENTS/utils/ValueHelpHelper"],function(e,t,i,s,l,a,r){"use strict";var o=new t([]);return e.extend("ZEC_PO_CATALOG.controller.BatchEditPo",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("batchEdit").attachPatternMatched(this._onRequestEditMatched,this);this.getView().setModel(o,"BatchEdit")},_onRequestEditMatched:function(e){o.setData({});if(this.getGlobalVar("Bsart")==="KF30"){this.setFieldAttr("A");this.getView().byId("Knttp").setSelectedKey("A");this.getView().byId("Knttp").setEditable(false)}else{this.setFieldAttr("I");this.getView().byId("Knttp").setSelectedKey("I");this.getView().byId("Knttp").setEditable(true)}},handleChangeKnttp:function(e){var t=e.getParameter("selectedItem").getProperty("key");this.setFieldAttr(t)},setFieldAttr:function(e){switch(e){case"A":this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);break;case"I":this.getView().byId("Label_Lgort").setVisible(true);this.getView().byId("Lgort").setVisible(true);this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);break;case"K":this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);this.getView().byId("Label_Hkont").setVisible(true);this.getView().byId("Hkont").setVisible(true);this.getView().byId("Label_Kostl").setVisible(true);this.getView().byId("Kostl").setVisible(true);break}},onWerksChange:function(e){var t=this.getView().byId("Lgort");this.getModel("BatchEdit").setProperty("Lgort",null);t.setValue("")},handleLgortValueHelp:function(e){var t=e.getSource();var i=this.getView().getModel();var s=this.getView().byId("WERKS").getSelectedKey();var a="ZshLgortSet";var o=[new l("Werks",sap.ui.model.FilterOperator.EQ,s)];this.valuehelp=new r(i);this.valuehelp.excludeFilters(["Werks"]);this.valuehelp.excludeColumns(["Werks"]);this.valuehelp.initFilters(o);this.valuehelp.openValueHelp(a,"Lgort","LgortTxt",function(e,i,s){t.setValue(e)})},onApply:function(e){var t=new a;var s=this.byId("CheckLayout");var l=this.getView().getModel("BatchEdit").getData();if(l.Menge!==undefined){if(isNaN(l.Menge)){i.show("数量请输入数字类型");return}if(l.Menge.toString().length>10){i.show("数量长度不得超过10位");return}}if(t.validate(s)){var r=this.getOwnerComponent().getEventBus();r.publish("applyChange",l);this.onNavBack()}},onRequireDetailNavBack:function(){var e=this.getView().getModel("BatchEdit").getData();this.confirmNavBack(e,{})}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/Home.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.controller.Home",{onInit:function(){var e,o,n=this.getView().getBusyIndicatorDelay();e=new t({busy:true,delay:0});this.setModel(e,"appView");o=function(){e.setProperty("/busy",false);e.setProperty("/delay",n)};this.getOwnerComponent().getModel().metadataLoaded().then(o);this.getOwnerComponent().getModel().attachMetadataFailed(o)}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/Main.controller", ["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.controller.Main",{handleLinkPress:function(e){var t=e.getSource().getText();sap.ui.getCore().cartmodel=undefined;this.getOwnerComponent().getRouter().navTo("requirementsPo",{ObjectId:t})}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/Myhome.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/GroupHeaderListItem","sap/ui/core/Priority","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/core/mvc/Controller","ZEC_MY_REQUIREMENTS/utils/Validator"],function(e,t,r,i,a,o,s,n){"use strict";var u=new t([]);var g=[];var d=[];var l=new t([]);return e.extend("ZEC_MY_REQUIREMENTS.controller.Myhome",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("Myhome").attachPatternMatched(this._onRequestMatched,this)},_onRequestMatched:function(e){debugger;var r=this.getView().getModel("requirementsPo");var i=e.getParameters()["arguments"].ObjectId;l={ObjectId:i};var a=new t(l);this.getView().setModel(a,"RequireHead")},onEditPress:function(e){var t=e.getSource().getParent().getBindingContext("PrList").getObject();g.push(t);this.onItemDisData(g,t);if(t.ProductId.length<=0){this.getOwnerComponent().getRouter().navTo("requireEdit",{ProductId:t.Maktx})}else{this.getOwnerComponent().getRouter().navTo("requireEdit",{ProductId:t.ProductId})}},onItemDisData:function(e,t){if(sap.ui.getCore().requireDetailEdit){for(var r=0;r<sap.ui.getCore().requireDetailEdit.length;r++){if(t.Posnr===sap.ui.getCore().requireDetailEdit[r].Posnr){for(var i=0;i<e.length;i++){for(var a=i+1;a<e.length;a++){if(e[i].Posnr===e[a].Posnr){e.splice(r,1)}}}e.forEach(function(t,i,a){if(t.Posnr===sap.ui.getCore().requireDetailEdit[r].Posnr){e[i]["DelivDate"]=sap.ui.getCore().requireDetailEdit[r].DelivDate;e[i]["Ekorg"]=sap.ui.getCore().requireDetailEdit[r].Ekorg;e[i]["Matkl"]=sap.ui.getCore().requireDetailEdit[r].Matkl;e[i]["Note"]=sap.ui.getCore().requireDetailEdit[r].Note;e[i]["Werks"]=sap.ui.getCore().requireDetailEdit[r].Werks;e[i]["Ekgrp"]=sap.ui.getCore().requireDetailEdit[r].Ekgrp;e[i]["Knttp"]=sap.ui.getCore().requireDetailEdit[r].Knttp;e[i]["Asset"]=sap.ui.getCore().requireDetailEdit[r].Asset;e[i]["Hkont"]=sap.ui.getCore().requireDetailEdit[r].Hkont;e[i]["Kostl"]=sap.ui.getCore().requireDetailEdit[r].Kostl;e[i]["wbs"]=sap.ui.getCore().requireDetailEdit[r].wbs;e[i]["Lgort"]=sap.ui.getCore().requireDetailEdit[r].Lgort;sap.ui.getCore().edititem=t}})}else{sap.ui.getCore().edititem=t}}}else{sap.ui.getCore().edititem=t}},calculateTotal:function(e){var t=0,r;if(e.length>0){for(var i=0;i<e.length;i++){t=t+e[i].Price*e[i].Quantity;r=e[i].CurrencyCode}this.getView().byId("sum").setText(t+r)}else{this.getView().byId("sum").setText(t)}},onChange:function(e){var t=e.getSource().getParent().getBindingContext("PrList").getObject();t.Dmbtr=t.Quantity*t.Price;var r=this.getView().getModel("PrList").getData();this.calculateTotal(r);sap.ui.getCore().cartmodel=this.getView().getModel("PrList")},onAfterRendering:function(){},onDelete:function(e){var t=this;var r=this.getView().byId("ObjectId").getText();this.getModel().callFunction("/DeleteCartData",{method:"POST",urlParameters:{ObjectId:r},success:function(e,r){a.show("删除成功");sap.ui.getCore().cartmodel.setData([]);t.getModel().refresh()},error:function(e){a.show("删除失败")}})},onMultipleDelete:function(e){var t=this;var r=this.getView().byId("ObjectId").getText();var i=this.byId("PrTable").getSelectedIndices();if(i.length===0){a.show("请至少选择一行进行删除");return}if(r!==undefined&&r!==""){this.getModel().callFunction("/DeleteCartItemData",{method:"POST",urlParameters:{ObjectId:r,Posnr:i},success:function(e,r){var o=sap.ui.getCore().cartmodel.getData();if(i.length===o.length){o.splice(0,o.length)}else{for(var s=0;s<i.length;s++){o.splice(i[s],1)}}u.setData(o);sap.ui.getCore().cartmodel=this.getView().getModel("PrList");t.getModel().refresh();a.show("行项目删除成功")},error:function(e){a.show("行项目删除失败")}})}else{a.show("请先保存数据")}},onSubmit:function(e){var t=this.getView().byId("ObjectId").getText();var r=this;if(t!==undefined){this.getModel().callFunction("/SubmitCartData",{method:"POST",urlParameters:{ObjectId:t},success:function(e,t){a.show("提交OA成功");r.getModel().refresh()},error:function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.show("提交失败,消息:"&&r)}})}else{a.show("请先保存")}},onContinue:function(e){this.getOwnerComponent().getRouter().navTo("catalogSearchDetails",{})},onBatchUpdate:function(e){var t=this.byId("PrTable").getSelectedIndices();if(t.length===0){a.show("请至少选择一行进行批量修改");return}else{this.getOwnerComponent().getRouter().navTo("BatchEdit",{})}},onItemPress:function(e){var t=e.getSource().getBindingContext("PrList").getObject();d.push(t);this.onItemDisData(d,t);this.getOwnerComponent().getRouter().navTo("requireDetail",{ProductId:t.ProductId})},onSave:function(e){var t=new n;var r=this.byId("ObjectPageLayout");if(t.validate(r)){var i=this.getView().getModel("RequireHead").getData();var o=[];if(this.getView().getModel("PrList")!==undefined){var s=sap.ui.getCore().cartmodel.getData();var u=this.getView().getModel("PrList").getData();var g=sap.ui.getCore().requireDetailEdit;if(s===undefined&&g===undefined){a.show("请先编辑明细数据");return}else if(g!==undefined){for(var d=0;d<u.length;d++){var l;var c=g[d].Knttp;if(c==="A"){l=g[d].Asset}else if(c==="K"){l=g[d].Kostl}else if(c==="P"){l=g[d].wbs}var h={Posnr:u[d].Posnr.toString(),ProductId:u[d].Matnr,Description:u[d].Maktx,Menge:u[d].Quantity.toString(),Meins:u[d].Meins,Netpr:u[d].Price,Lifnr:u[d].Lifnr,LifnrNam:u[d].NameGp,Value:u[d].Dmbtr.toString(),Waers:u[d].CurrencyCode,CategoryId:u[d].CategoryId,CategoryTxt:u[d].Category,Matkl:u[d].Matkl,Hkont:g[0].Hkont,DelivDate:g[0].DelivDate,Ekgrp:g[0].Ekgrp,Werks:g[0].Werks,Note:g[0].Note,Knttp:g[0].Knttp,Lgort:g[0].Lgort,KnValue:l,Mwskz:u[d].Mwskz,Peinh:u[d].Peinh.toString(),Ekorg:i.Ekorg,Bukrs:i.Bukrs};o.push(h)}}else if(s!==undefined){for(var d=0;d<s.length;d++){if(s[d].DelivDate===undefined||s[d].Werks===undefined){a.show("请先输入必输项");return}var l;var c=s[d].Knttp;if(c==="A"){l=s[d].Asset}else if(c==="K"){if(s[d].Kostl===undefined){a.show("请先输入必输项");return}l=s[d].Kostl}var h={Posnr:s[d].Posnr.toString(),ProductId:s[d].Matnr,Description:s[d].Maktx,Menge:s[d].Quantity.toString(),Meins:s[d].Meins,Netpr:s[d].Price,Lifnr:s[d].Lifnr,LifnrNam:s[d].NameGp,Value:s[d].Dmbtr.toString(),Waers:s[d].CurrencyCode,CategoryId:s[d].CategoryId,CategoryTxt:s[d].Category,Matkl:s[d].Matkl,Hkont:s[d].Hkont,DelivDate:s[d].DelivDate,Ekgrp:s[d].Ekgrp,Werks:s[d].Werks,Note:s[d].Note,Knttp:s[d].Knttp,Lgort:s[d].Lgort,KnValue:l,Mwskz:s[d].Mwskz,Peinh:s[d].Peinh.toString(),Ekorg:i.Ekorg,Bukrs:i.Bukrs};o.push(h)}}var f={ObjectId:i.ObjectId,Description:i.Description,Ernam:i.Ernam,Bukrs:i.Bukrs,Ekorg:i.Ekorg,Remark:i.Remark,Stat:"10",GrAddr:i.GrAddr,Bsart:i.Bsart,CartItemSet:o};var v=this;var p=this.getView().byId("ObjectId").getText();if(p===""){var D="创建成功"}else{var D="更新成功"}this.getModel().create("/CartSet",f,{async:false,success:function(e,t){v.getView().byId("ObjectId").setText(e.ObjectId);v.getView().byId("Ernam").setText(e.Ernam);a.show("PR号"+e.ObjectId+D)},error:function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.show("PR号创建失败,消息:"&&r)}})}}},onRequestNavBack:function(){var e=o.getInstance().getPreviousHash();var r=new t([]);var e=o.getInstance().getPreviousHash();var i=sap.ui.getCore().requireDetailEdit;var a=this;var s=this.getView().getModel("RequireHead").getData();if(s.ObjectId!==undefined){sap.ui.getCore().cartmodel.setData([]);if(i!==undefined){for(var n=0;n<i.length;n++){i[n].Werks="";i[n].Lgort="";i[n].Kostl="";i[n].Hoknt="";i[n].Note="";sap.ui.getCore().requireDetailEdit=i}}var u={Bukrs:s.Bukrs,Ekorg:s.Ekorg};r.setData(u);this.getView().setModel(r,"RequireHead");this.getView().setModel(r,"PrList");this.getView().setModel(r,"BatchEdit")}if(e!==undefined){history.go(-1)}else{var g=true;this.getRouter().navTo("Home",{},g)}}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/PoDetial.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/GroupHeaderListItem","sap/ui/core/Priority","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,s,r,a,n,l,o){"use strict";var u=new t;var i=new t;return e.extend("ZEC_MY_REQUIREMENTS.controller.PoDetial",{onInit:function(){this.getRouter().getRoute("PoDetial").attachPatternMatched(this._onRequestMatched,this);this.getView().setModel(u,"ZPoList");this.getView().setModel(i,"PoDetial")},_onRequestMatched:function(e){var t=e.getParameters()["arguments"].ObjectId;var s=[];s.push(new l("ObjectId",o.EQ,t));var r=this.getOwnerComponent().getModel();r.setUseBatch(false);var a=[];var n=this;r.read("/Zpo_listSet",{filters:s,success:function(e,t){for(var s=0;s<e.results.length;s++){var r={ObjectId:e.results[s].ObjectId,Ebeln:e.results[s].Ebeln,Bukrs:e.results[s].Bukrs,Ekorg:e.results[s].Ekorg,Ekgrp:e.results[s].Ekgrp,Wgbez:e.results[s].Wgbez,Lifnr:e.results[s].Lifnr,LifnrNam:e.results[s].LifnrNam,PoStat:e.results[s].PoStat,PoStatTxt:e.results[s].PoStatTxt,Value:e.results[s].Value,Waers:e.results[s].Waers,Eindt:e.results[s].Eindt,MengeSh:e.results[s].MengeSh,MsgTxt:e.results[s].MsgTxt};a.push(r);var l=n.getGlobalVar("Stat");if(e.results[s].Ebeln.indexOf("#TMP")!==-1&&l!=="30"){n.byId("OnRegeneratePo").setEnabled(true)}}u.setData(a)},error:function(e){}})},onGeneratePo:function(e){var t=this.getView().getModel("ZPoList").getData();var s=this.byId("PolistTable").getSelectedIndex();if(s<0){a.show("请至少选择一行进行采购订单生成");return}var r=this.getOwnerComponent().getModel();var n=this;r.setUseBatch(false);r.callFunction("/onGeneratePo",{method:"POST",urlParameters:{Ebeln:t[s].Ebeln,ObjectId:t[s].ObjectId},success:function(r,l){for(var o=0;o<t.length;o++){if(o===s){t[s].Ebeln=r.Ebeln}}u.setData(t);n.onSelectionChange(e);n.getModel().refresh();a.show("采购订单重新生成成功!")},error:function(e){var t=JSON.parse(e.responseText);var s=t.error.message.value;a.show("失败,消息:"&&s)}})},onSelectionChange:function(e){var t=this.getView().getModel("ZPoList").getData();var s=this.byId("PolistTable").getSelectedIndex();var r=[];var a=t[s].Ebeln;if(a.length>0){r.push(new l("Ebeln",o.EQ,a));r.push(new l("ObjectId",o.EQ,t[s].ObjectId))}var n=this.getOwnerComponent().getModel();var u=[];var g=this;n.setUseBatch(false);n.read("/Zpo_detialSet",{filters:r,success:function(e,t){for(var s=0;s<e.results.length;s++){var r={Ebelp:e.results[s].Ebelp,Loekz:e.results[s].Loekz,Knttp:e.results[s].Knttp,Werks:e.results[s].Werks,Matnr:e.results[s].Matnr,Maktx:e.results[s].Maktx,Matkl:e.results[s].Matkl,Wgbez:e.results[s].Wgbez,MengeDd:e.results[s].MengeDd,MengeSh:e.results[s].MengeSh,Meins:e.results[s].Meins,Netpr:e.results[s].Netpr,Peinh:e.results[s].Peinh,Value:e.results[s].Value.toString(),Waers:e.results[s].Waers,Eindt:e.results[s].Eindt,Lgort:e.results[s].Lgort,PoStat:e.results[s].PoStat,PoStatTxt:e.results[s].PoStatTxt};u.push(r)}i.setData(u)},error:function(e){}})}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/RequireDetailEditPo.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/GroupHeaderListItem","sap/ui/core/Priority","sap/m/MessageToast","sap/ui/model/Filter","sap/ui/core/routing/History","sap/ui/model/odata/ODataModel","sap/ui/core/Core","sap/ui/core/mvc/Controller","ZEC_MY_REQUIREMENTS/utils/Validator","ZEC_MY_REQUIREMENTS/utils/ValueHelpHelper"],function(e,t,i,s,l,a,r,o,n,g,d,h){"use strict";var u=new t;return e.extend("ZEC_MY_REQUIREMENTS.controller.RequireDetailEditPo",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("requireEditPo").attachPatternMatched(this._onRequestEditMatched,this);this.getView().setModel(u,"RequireDetailEdit")},_onRequestEditMatched:function(e){var t=new Date;var i={};if(sap.ui.getCore().edititem){$.extend(i,sap.ui.getCore().edititem);if(i.Ekgrp){this.getView().byId("EKGRP").setEditable(false)}if(!i.Knttp){i.Knttp="I"}if(!i.DelivDate){i.DelivDate=t}u.setData(i);this.setFieldAttr(i.Knttp);if(this.getGlobalVar("Bsart")==="KF30"){this.setFieldAttr("A");this.getView().byId("Knttp").setSelectedKey("A");this.getView().byId("Knttp").setEditable(false)}else{this.getView().byId("Knttp").setEditable(true)}}else{this.getOwnerComponent().getRouter().navTo("main")}},handleChangeKnttp:function(e){var t=e.getParameter("selectedItem").getProperty("key");this.setFieldAttr(t)},handleLgortValueHelp:function(e){var t=e.getSource();var i=this.getView().getModel();var s=this.getView().byId("WERKS").getSelectedKey();var l="ZshLgortSet";var r=[];r=[new a("Werks",sap.ui.model.FilterOperator.EQ,s)];this.valuehelp=new h(i);this.valuehelp.excludeFilters(["Werks"]);this.valuehelp.excludeColumns(["Werks"]);this.valuehelp.initFilters(r);this.valuehelp.openValueHelp(l,"Lgort","LgortTxt",function(e,i,s){t.setValue(e)})},setFieldAttr:function(e){switch(e){case"A":this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Hkont").setValue("");this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);this.getView().byId("Kostl").setValue("");this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);this.getView().byId("Lgort").setValue("");break;case"I":this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Hkont").setValue("");this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);this.getView().byId("Kostl").setValue("");this.getView().byId("Label_Lgort").setVisible(true);this.getView().byId("Lgort").setVisible(true);break;case"K":this.getView().byId("Label_Hkont").setVisible(true);this.getView().byId("Hkont").setVisible(true);this.getView().byId("Label_Kostl").setVisible(true);this.getView().byId("Kostl").setVisible(true);this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);this.getView().byId("Lgort").setValue("");break}},onWerksChange:function(e){var t=this.getView().byId("Lgort");this.getModel("RequireDetailEdit").setProperty("Lgort",null);t.setValue("")},onApply:function(e){var t=new d;var i=this.byId("CheckLayout");if(t.validate(i)){var s=this.getView().getModel("RequireDetailEdit").getData();s.Knttp=this.getView().byId("Knttp").getSelectedKey();var a=s.Menge;if(a<=0){l.show("行"+s.Posnr+"数量大于等于1");return}if(a.toString().length>10){l.show("行号"+s.Posnr+"数量长度不得超过10位");return}var r=this.getOwnerComponent().getEventBus();r.publish("applyChange",s);this.onNavBack()}},onRequireDetailNavBack:function(){var e=this.getView().getModel("RequireDetailEdit").getData();this.confirmNavBack(e,sap.ui.getCore().edititem)}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/controller/RequirementsPo.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/core/mvc/Controller","ZEC_MY_REQUIREMENTS/utils/Validator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/ColumnListItem"],function(e,t,r,a,s,i,n,o,l){"use strict";var u=new t([]);var g=[];var h=new t;return e.extend("ZEC_MY_REQUIREMENTS.controller.RequirementsPo",{onInit:function(){this.getRouter().getRoute("requirementsPo").attachPatternMatched(this._onRequestMatched,this);var e=this.getOwnerComponent().getEventBus();e.subscribe("applyChange",this.applyChange,this);this.getView().setModel(h,"RequireHead");this.getView().setModel(u,"PrList")},_onRequestMatched:function(e){var t=e.getParameters().arguments.ObjectId;var r=this;var a=this.getView().byId("Bsart");var s=this.getGlobalVar("CurObjId");if(!s||s!==t){this.setGlobalVar("CurObjId",t);this.getModel().read("/CartSet('"+t+"')",{async:false,success:function(e,t){h.setData(e);r.setGlobalVar("Stat",e.Stat);r.getGlobalVar("Bsart",e.Bsart);var s=r.getGlobalVar("Bsart");if(s){a.setSelectedKey(s);a.setEditable(false)}if(e.Stat!=="10"&&e.Stat!=="20"){r.setGlobalVar("isEdit",false)}else{r.setGlobalVar("isEdit",true)}},error:function(e){}});var i=[];var l=[];var d=true;i.push(new n("ObjectId",o.EQ,t));this.getModel().read("/CartItemSet",{filters:i,success:function(e,t){if(e.results){var a={};var s;for(var i in e.results){if(e.results[i].Ebeln!==undefined&&e.results[i].Ebeln!==""){d=false}a=e.results[i];if(a.Knttp==="A"){a.Asset=a.KnValue}else if(a.Knttp==="K"){a.Kostl=a.KnValue}l.push(a)}}u.setData(l);r.getView().byId("text").setText("总共"+l.length+"个项目");r.calculateTotal(l);r.getModel("PrList").refresh();sap.ui.getCore().cartmodel=u;if(r.getGlobalVar("Stat")==="25"&&d===true){r.byId("delbtn").setEnabled(true)}},error:function(e){}})}else{var c=u.getData();this.byId("PrTable").removeSelections();g=[];this.getModel().refresh();this.getView().byId("text").setText("总共"+c.length+"个项目");this.calculateTotal(c)}this.byId("PrTable").removeSelections()},onEditPress:function(e){var t=e.getSource().getBindingContext("PrList");var r=t.getObject();var a=t.getPath();g=[];g.push(this.convPathToOrder(a));sap.ui.getCore().edititem=r;this.getOwnerComponent().getRouter().navTo("requireEditPo",{guid:r.GuidI})},calculateTotal:function(e){var t=0,r;if(e.length>0){for(var a=0;a<e.length;a++){t=t+parseFloat(e[a].Value);r=e[a].Waers}this.getView().byId("sum").setText(parseFloat(t).toFixed(2)+r)}else{this.getView().byId("sum").setText(parseFloat(t).toFixed(2))}},onDelete:function(e){var t=this;var a=this.getView().byId("ObjectId").getText();this.getModel().callFunction("/DeleteCartData",{method:"POST",urlParameters:{ObjectId:a},success:function(e,a){r.show("删除成功");t.getModel().refresh();t.onNavBack()},error:function(e){r.show("删除失败")}})},onGoPO:function(e){var t=this.getView().byId("ObjectId").getText();if(t){this.getOwnerComponent().getRouter().navTo("PoDetial",{ObjectId:t})}},onMultipleDelete:function(e){var t=this;var a=this.getView().byId("ObjectId").getText();var s=[],i,n,o=[],l=[];var g=this.byId("PrTable").getSelectedItems();if(g.length===0){r.show("请至少选择一行进行删除");return}for(var h=0;h<g.length;h++){i=g[h].getBindingContext("PrList").getPath();l.push(this.convPathToOrder(i))}for(var d=0;d<g.length;d++){n=g[d].getBindingContext("PrList").getObject().Posnr;o.push(n)}o.sort();if(a!==undefined&&a!==""){this.getModel().callFunction("/DeleteCartItemData",{method:"POST",urlParameters:{ObjectId:a,Posnr:o},success:function(e,a){var i=t.getView().getModel("PrList").getData();if(l.length===i.length){i.splice(0,i.length);s.push(i)}else{for(var n=l.length-1;n>=0;n--){s.push(i[l[n]]);i.splice(l[n],1)}}u.setData(i);t.getModel().refresh();r.show("行项目删除成功")},error:function(e){r.show("行项目删除失败")}})}else{var c=this.getView().getModel("PrList").getData();if(l.length===c.length){c.splice(0,c.length)}else{for(var f=l.length-1;f>=0;f--){c.splice(l[f],1)}}u.setData(c);t.getModel().refresh();r.show("行项目删除成功")}},applyChange:function(e,t,r){var a=u.getData();var s;for(var i=0;i<g.length;i++){s=g[i];for(var n in r){a[s][n]=r[n]}if(r.Menge){a[s].Value=a[s].Menge*a[s].Netpr/a[s].Peinh}}u.setData(a);this.calculateTotal(a);this.byId("PrTable").removeSelections();g=[]},onBatchUpdate:function(e){var t=this.byId("PrTable").getSelectedItems();if(t.length===0){r.show("请至少选择一行进行批量修改");return}else{var a;for(var s=0;s<t.length;s++){a=t[s].getBindingContext("PrList").getPath();g.push(this.convPathToOrder(a))}this.getOwnerComponent().getRouter().navTo("batchEdit",{})}},onSave:function(e){this.onSaveandsubmit(false)},onSubmit:function(e){this.onSaveandsubmit(true)},onSaveandsubmit:function(e){var t=new i;var a=this.byId("CheckLayout");if(t.validate(a)){var s=this.getView().getModel("RequireHead").getData();var n=[];var o=this.getView().getModel("PrList").getData();var l=new Date;if(o&&o.length>0){var g;var h;var d;for(var c=0;c<o.length;c++){if(!o[c].Werks){r.show("行号"+o[c].Posnr+"输入必输项,工厂必输");return}if(!d){d=o[c].Werks}else if(d!==o[c].Werks){r.show("行号"+o[c].Posnr+"工厂不一致");return}if(o[c].Menge.length>10){r.show("行号"+o[c].Posnr+"数量长度不得超过10位");return}if(!o[c].DelivDate){r.show("行号"+o[c].Posnr+"维护交货日期");return}if(this.compareDate(l,o[c].DelivDate)){r.show("行号"+o[c].Posnr+"交货日期不能是在过去");return}if(!o[c].Knttp){r.show("行号"+o[c].Posnr+"维护账户分配");return}if(!g){g=o[c].Knttp}else if(g!==o[c].Knttp){r.show("需求明细账户分配(库存/成本中心)不一致!");return}if(g==="A"){h=o[c].Asset}else if(g==="K"){if(!o[c].Kostl||!o[c].Hkont){r.show("请先输入必输项,成本中心和科目必输");return}h=o[c].Kostl}var f={Posnr:o[c].Posnr.toString(),ProductId:o[c].ProductId,Description:o[c].Description,Menge:o[c].Menge.toString(),Meins:o[c].Meins,Netpr:o[c].Netpr,Lifnr:o[c].Lifnr,LifnrNam:o[c].LifnrNam,GuidH:o[c].GuidH?o[c].GuidH.toUpperCase().replaceAll("-",""):"",GuidI:o[c].GuidI?o[c].GuidI.toUpperCase().replaceAll("-",""):"",CatalogGuid:o[c].CatalogGuid?o[c].CatalogGuid.toUpperCase().replaceAll("-",""):"",Value:o[c].Value.toString(),Waers:o[c].Waers,CategoryId:o[c].CategoryId,CategoryTxt:o[c].CategoryTxt,Matkl:o[c].Matkl,Hkont:o[c].Hkont,DelivDate:o[c].DelivDate,Ekgrp:o[c].Ekgrp,Werks:o[c].Werks,Note:o[c].Note,Knttp:o[c].Knttp,Lgort:o[c].Lgort,KnValue:h,Mwskz:o[c].Mwskz,Peinh:o[c].Peinh.toString(),Ekorg:s.Ekorg,Bukrs:s.Bukrs};n.push(f)}}if(!n||n.length===0){r.show("保存行项目数据不能为空!");return}var v={ObjectId:s.ObjectId,Description:s.Description,Ernam:s.Ernam,Bukrs:s.Bukrs,Ekorg:s.Ekorg,Remark:s.Remark,Stat:"10",GrAddr:s.GrAddr,GrTel:s.GrTel,Bsart:s.Bsart,CartItemSet:n};var b=this;if(!s.ObjectId){var p="创建成功"}else{p="更新成功"}this.setGlobalVar("busy",true);this.getModel().create("/CartSet",v,{async:false,success:function(t,a){b.getView().byId("ObjectId").setText(t.ObjectId);b.getView().byId("Ernam").setText(t.Ernam);var s={};var i=[];for(c=0;c<t.CartItemSet.results.length;c++){s=t.CartItemSet.results[c];if(s.Knttp==="A"){s.Asset=s.KnValue}else if(s.Knttp==="K"){s.Kostl=s.KnValue}i.push(s)}u.setData(i);r.show("PR号"+t.ObjectId+p);if(e){var n=b.getView().byId("ObjectId").getText();if(n){b.getModel().callFunction("/SubmitCartData",{method:"POST",urlParameters:{ObjectId:n},success:function(e,t){r.show("提交OA成功");b.getModel().refresh();b.setGlobalVar("busy",false);b.onNavBack()},error:function(e){b.setGlobalVar("busy",false);var t=JSON.parse(e.responseText);var a=t.error.message.value;r.show("提交失败,消息:"&&a)}})}}else{b.setGlobalVar("busy",false)}}.bind(this),error:function(e){b.setGlobalVar("busy",false);var t=JSON.parse(e.responseText);var a=t.error.message.value;r.show("PR号创建失败,消息:"&&a)}})}},onExit:function(){var e=this.getOwnerComponent().getEventBus();e.unsubscribe("applyChange")}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/utils/Validator", ["sap/ui/core/message/Message","sap/ui/core/MessageType"],function(e,t){"use strict";var i=function(){this._isValid=true;this._isValidationPerformed=false};i.prototype.isValid=function(){return this._isValidationPerformed&&this._isValid};i.prototype.validate=function(e){this._isValid=true;sap.ui.getCore().getMessageManager().removeAllMessages();this._validate(e);return this.isValid()};i.prototype._validate=function(i){var s=["sections","subSections","blocks","rows","cells","items","content","form","formContainers","formElements","fields"],a=null,g=null,n=["value","selectedKey","text"],r=false,o,l,d,f;if(i instanceof sap.ui.core.Control||i instanceof sap.ui.layout.form.FormContainer||i instanceof sap.ui.layout.form.FormElement){if(i.getVisible()){for(d=0;d<n.length;d+=1){if(i.getBinding(n[d])){if(i.getMetadata().getName()==="sap.m.Select"){if(i.getForceSelection()&&!i.getSelectedKey()){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:"必输项不能为空",type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}));continue}}else if(i.isA("sap.m.InputBase")){if(i.getRequired()&&!i.getBinding(n[d]).getValue()){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:"必输项不能为空",type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}));continue}}if(i.getBinding(n[d]).getType()){try{g=i.getBinding(n[d]);o=i.getProperty(n[d]);l=g.getType().parseValue(o,g.sInternalType);g.getType().validateValue(l)}catch(s){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:s.message,type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}))}r=true}}}if(!r){for(d=0;d<s.length;d+=1){a=i.getAggregation(s[d]);if(a){if(a instanceof Array){for(f=0;f<a.length;f+=1){this._validate(a[f])}}else{this._validate(a)}}}}}}this._isValidationPerformed=true};return i});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/utils/ValueHelpHelper", ["sap/ui/base/Object","sap/ui/comp/valuehelpdialog/ValueHelpDialog","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/ODataModel","sap/ui/model/json/JSONModel","sap/ui/comp/filterbar/FilterBar","sap/ui/comp/filterbar/FilterGroupItem","sap/m/Input","sap/m/SearchField"],function(e,t,i,n,a,r,l,s,o,u){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.utils.ValueHelpHelper",{onInit:function(){},constructor:function(e){this.model=e},initFilters:function(e){this._aInitFilters=e},excludeFilters:function(e){this._aFilterFields=e},excludeColumns:function(e){this._aColumnsFields=e},setModel:function(e,t){var i=this.model.getServiceMetadata().dataServices.schema[0];var n=i.entityContainer[0].entitySet.find(function(t){return t.name===e});var a=n.entityType.lastIndexOf(".")+1;var r=i.entityType.find(function(e){return e.name===n.entityType.substring(a)});this.oColModel={cols:[]};this.aFilterGroup=[];var l;for(l=0;l<r.property.length;l++){if(this._aColumnsFields){if(this._aColumnsFields.indexOf(r.property[l].name)>=0){continue}}var u=r.property[l].extensions.find(function(e){return e.name==="label"});var p={label:u.value,template:r.property[l].name};if(r.property[l].type==="Edm.DateTime"){p.type="date";p.oType=new sap.ui.model.odata.type.Date}this.oColModel.cols.push(p);if(t===r.property[l].name){this.sTitle=u.value}if(this._aFilterFields){if(this._aFilterFields.indexOf(r.property[l].name)>=0){continue}}this.aFilterGroup.push(new s({groupTitle:"More Fields",groupName:"gn1",name:r.property[l].name,label:u.value,control:new o(r.property[l].name),visibleInFilterBar:true}))}},openValueHelp:function(e,a,s,o){var u=this;this.binding="/"+e;this.col={};this.setModel(e,a);var p=new t({title:this.sTitle||"Search",supportMultiselect:false,supportRanges:false,supportRangesOnly:false,key:a,descriptionKey:s||"",ok:function(e){var t=e.getParameter("tokens")[0];var i=t.getProperty("key");var n=t.getProperty("text");var a=t.data("row");p.close();o.call(this,i,n,a)},cancel:function(e){p.close()},afterClose:function(){p.destroy()}});p.getTableAsync().then(function(e){e.setModel(new r(u.oColModel),"columns");e.setModel(u.model);var t=[];if(u._aInitFilters){t=u._aInitFilters}if(e.bindRows){e.bindRows({path:u.binding,filters:t})}if(e.bindItems){e.bindAggregation("items",u.binding,function(t,i){var n=e.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:n.map(function(e){var t=e.template;return new sap.m.Label({text:"{"+t+"}"})})})},"",t)}});var d=new l({advancedMode:true,filterBarExpanded:true,filterGroupItems:this.aFilterGroup,search:function(e){var t=[];if(u._aInitFilters){for(var a in u._aInitFilters){t[a]=u._aInitFilters[a]}}$.each(arguments[0].getParameter("selectionSet"),function(e,a){if(a.getValue()){t.push(new i(a.getId(),n.Contains,a.getValue()))}});if(p.getTable()instanceof sap.m.Table){p.getTable().bindAggregation("items",u.binding,function(e,t){var i=p.getTable().getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:i.map(function(e){var t=e.template;return new sap.m.Label({text:"{"+t+"}"})})})},"",t)}else{p.getTable().bindRows({path:u.binding,filters:t,and:true})}},clear:function(e){sap.m.MessageToast.show("Clear pressed")}});p.setFilterBar(d);p.open()}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/Component", ["sap/ui/core/UIComponent","sap/ui/Device","ZEC_MY_REQUIREMENTS/model/models"],function(e,t,i){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.Component",{metadata:{manifest:"json"},init:function(){e.prototype.init.apply(this,arguments);this.setModel(sap.ui.getCore().getMessageManager().getMessageModel(),"message");this.setModel(i.createDeviceModel(),"device");this.getRouter().initialize()}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/BaseController", ["sap/ui/core/mvc/Controller","sap/ui/core/routing/History","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/odata/ODataModel","sap/ui/model/json/JSONModel"],function(e,t,o,n,r,a){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.controller.BaseController",{getRouter:function(){return sap.ui.core.UIComponent.getRouterFor(this)},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){return this.getView().setModel(e,t)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},convPathToOrder:function(e){return e.substring(e.lastIndexOf("/")+1)},confirmNavBack:function(e,t){if(JSON.stringify(e)!==JSON.stringify(t)){n.show("数据已经变更，确定要退出吗？",{icon:n.Icon.WARNING,title:"退出确认",actions:[n.Action.OK,n.Action.CANCEL],onClose:function(e){if(e===n.Action.OK){this.onNavBack()}}.bind(this)})}else{this.onNavBack()}},onNavBack:function(){var e=t.getInstance().getPreviousHash();if(e!==undefined){history.go(-1)}else{var o=true;this.getRouter().navTo("main",{},o)}},getGlobalVar:function(e){var t;if(this.getOwnerComponent()){t=this.getOwnerComponent().getModel("globalVar");return t.getProperty("/"+e)}else{return this.getParentView(this.getView()).getController().getGlobalVar(e)}},setGlobalVar:function(e,t){var o;if(this.getOwnerComponent()){o=this.getOwnerComponent().getModel("globalVar");return o.setProperty("/"+e,t)}else{return this.getParentView(this.getView()).getController().setGlobalVar(e,t)}},handleComboChange:function(e){var t=e.getSource();var o=e.getSource().data("message");t.setValueState("None");if(!t.getSelectedKey()&&e.getParameters().value){if(t.getRequired){t.setValueState("Error");if(o){t.setValueStateText(o)}}else{t.setValueState("Warning")}}},onMessagePopover:function(e){this._getMessagePopover().openBy(e.getSource())},onClearMessage:function(){sap.ui.getCore().getMessageManager().removeAllMessages()},_getMessagePopover:function(){if(!this._oMessagePopover){this._oMessagePopover=sap.ui.xmlfragment(this.getView().getId(),"ZEC_MY_REQUIREMENTS.view.MessagePopover",this);this.getView().addDependent(this._oMessagePopover)}return this._oMessagePopover},showErrorMessage:function(e){if(e.responseText){if(e.headers["Content-Type"].indexOf("application/json")>-1){sap.m.MessageToast.show(JSON.parse(e.responseText).error.message.value)}else{var t=new DOMParser;var o=t.parseFromString(e.responseText,"text/xml");var n=o.getElementsByTagName("message");var r=[];for(var a=0;a<n.length;a++){r[r.length]=n[a].innerHTML}sap.m.MessageToast.show(r)}}},getParentView:function(e){var t=e;while(t&&t.getParent){t=t.getParent();if(t instanceof sap.ui.core.mvc.View){return t}}},compareDate:function(e,t){var o=false;if(e.getFullYear()>t.getFullYear()){o=true}else if(e.getFullYear()==t.getFullYear()){if(e.getMonth()>t.getMonth()){o=true}else if(e.getMonth()==t.getMonth()){if(e.getDate()>t.getDate()){o=true}}}return o},convPicUrl:function(e){var t;var o=window.location.origin;if(o.indexOf("localhost")!==-1){o="http:///srmdevapp.kingfa.com.cn:8800"}if(e.ProductId){t=o+"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='',Lifnr='"+e.Lifnr+"',Matnr='"+e.ProductId+"',ZimageDesc='1')/$value"}else{t=o+"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='"+e.CatalogGuid+"',Lifnr='',Matnr='',ZimageDesc='1')/$value"}return t}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/BatchEditPo.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/model/Filter","ZEC_MY_REQUIREMENTS/utils/Validator","ZEC_MY_REQUIREMENTS/utils/ValueHelpHelper"],function(e,t,i,s,l,a,r){"use strict";var o=new t([]);return e.extend("ZEC_PO_CATALOG.controller.BatchEditPo",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("batchEdit").attachPatternMatched(this._onRequestEditMatched,this);this.getView().setModel(o,"BatchEdit")},_onRequestEditMatched:function(e){o.setData({});if(this.getGlobalVar("Bsart")==="KF30"){this.setFieldAttr("A");this.getView().byId("Knttp").setSelectedKey("A");this.getView().byId("Knttp").setEditable(false)}else{this.setFieldAttr("I");this.getView().byId("Knttp").setSelectedKey("I");this.getView().byId("Knttp").setEditable(true)}},handleChangeKnttp:function(e){var t=e.getParameter("selectedItem").getProperty("key");this.setFieldAttr(t)},setFieldAttr:function(e){switch(e){case"A":this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);break;case"I":this.getView().byId("Label_Lgort").setVisible(true);this.getView().byId("Lgort").setVisible(true);this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);break;case"K":this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);this.getView().byId("Label_Hkont").setVisible(true);this.getView().byId("Hkont").setVisible(true);this.getView().byId("Label_Kostl").setVisible(true);this.getView().byId("Kostl").setVisible(true);break}},onWerksChange:function(e){var t=this.getView().byId("Lgort");this.getModel("BatchEdit").setProperty("Lgort",null);t.setValue("")},handleLgortValueHelp:function(e){var t=e.getSource();var i=this.getView().getModel();var s=this.getView().byId("WERKS").getSelectedKey();var a="ZshLgortSet";var o=[new l("Werks",sap.ui.model.FilterOperator.EQ,s)];this.valuehelp=new r(i);this.valuehelp.excludeFilters(["Werks"]);this.valuehelp.excludeColumns(["Werks"]);this.valuehelp.initFilters(o);this.valuehelp.openValueHelp(a,"Lgort","LgortTxt",function(e,i,s){t.setValue(e)})},onApply:function(e){var t=new a;var s=this.byId("CheckLayout");var l=this.getView().getModel("BatchEdit").getData();if(l.Menge!==undefined){if(isNaN(l.Menge)){i.show("数量请输入数字类型");return}if(l.Menge.toString().length>10){i.show("数量长度不得超过10位");return}}if(t.validate(s)){var r=this.getOwnerComponent().getEventBus();r.publish("applyChange",l);this.onNavBack()}},onRequireDetailNavBack:function(){var e=this.getView().getModel("BatchEdit").getData();this.confirmNavBack(e,{})}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/Home.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.controller.Home",{onInit:function(){var e,o,n=this.getView().getBusyIndicatorDelay();e=new t({busy:true,delay:0});this.setModel(e,"appView");o=function(){e.setProperty("/busy",false);e.setProperty("/delay",n)};this.getOwnerComponent().getModel().metadataLoaded().then(o);this.getOwnerComponent().getModel().attachMetadataFailed(o)}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/Main.controller", ["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.controller.Main",{handleLinkPress:function(e){var t=e.getSource().getText();sap.ui.getCore().cartmodel=undefined;this.getOwnerComponent().getRouter().navTo("requirementsPo",{ObjectId:t})}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/Myhome.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/GroupHeaderListItem","sap/ui/core/Priority","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/core/mvc/Controller","ZEC_MY_REQUIREMENTS/utils/Validator"],function(e,t,r,i,a,o,s,n){"use strict";var u=new t([]);var g=[];var d=[];var l=new t([]);return e.extend("ZEC_MY_REQUIREMENTS.controller.Myhome",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("Myhome").attachPatternMatched(this._onRequestMatched,this)},_onRequestMatched:function(e){debugger;var r=this.getView().getModel("requirementsPo");var i=e.getParameters()["arguments"].ObjectId;l={ObjectId:i};var a=new t(l);this.getView().setModel(a,"RequireHead")},onEditPress:function(e){var t=e.getSource().getParent().getBindingContext("PrList").getObject();g.push(t);this.onItemDisData(g,t);if(t.ProductId.length<=0){this.getOwnerComponent().getRouter().navTo("requireEdit",{ProductId:t.Maktx})}else{this.getOwnerComponent().getRouter().navTo("requireEdit",{ProductId:t.ProductId})}},onItemDisData:function(e,t){if(sap.ui.getCore().requireDetailEdit){for(var r=0;r<sap.ui.getCore().requireDetailEdit.length;r++){if(t.Posnr===sap.ui.getCore().requireDetailEdit[r].Posnr){for(var i=0;i<e.length;i++){for(var a=i+1;a<e.length;a++){if(e[i].Posnr===e[a].Posnr){e.splice(r,1)}}}e.forEach(function(t,i,a){if(t.Posnr===sap.ui.getCore().requireDetailEdit[r].Posnr){e[i]["DelivDate"]=sap.ui.getCore().requireDetailEdit[r].DelivDate;e[i]["Ekorg"]=sap.ui.getCore().requireDetailEdit[r].Ekorg;e[i]["Matkl"]=sap.ui.getCore().requireDetailEdit[r].Matkl;e[i]["Note"]=sap.ui.getCore().requireDetailEdit[r].Note;e[i]["Werks"]=sap.ui.getCore().requireDetailEdit[r].Werks;e[i]["Ekgrp"]=sap.ui.getCore().requireDetailEdit[r].Ekgrp;e[i]["Knttp"]=sap.ui.getCore().requireDetailEdit[r].Knttp;e[i]["Asset"]=sap.ui.getCore().requireDetailEdit[r].Asset;e[i]["Hkont"]=sap.ui.getCore().requireDetailEdit[r].Hkont;e[i]["Kostl"]=sap.ui.getCore().requireDetailEdit[r].Kostl;e[i]["wbs"]=sap.ui.getCore().requireDetailEdit[r].wbs;e[i]["Lgort"]=sap.ui.getCore().requireDetailEdit[r].Lgort;sap.ui.getCore().edititem=t}})}else{sap.ui.getCore().edititem=t}}}else{sap.ui.getCore().edititem=t}},calculateTotal:function(e){var t=0,r;if(e.length>0){for(var i=0;i<e.length;i++){t=t+e[i].Price*e[i].Quantity;r=e[i].CurrencyCode}this.getView().byId("sum").setText(t+r)}else{this.getView().byId("sum").setText(t)}},onChange:function(e){var t=e.getSource().getParent().getBindingContext("PrList").getObject();t.Dmbtr=t.Quantity*t.Price;var r=this.getView().getModel("PrList").getData();this.calculateTotal(r);sap.ui.getCore().cartmodel=this.getView().getModel("PrList")},onAfterRendering:function(){},onDelete:function(e){var t=this;var r=this.getView().byId("ObjectId").getText();this.getModel().callFunction("/DeleteCartData",{method:"POST",urlParameters:{ObjectId:r},success:function(e,r){a.show("删除成功");sap.ui.getCore().cartmodel.setData([]);t.getModel().refresh()},error:function(e){a.show("删除失败")}})},onMultipleDelete:function(e){var t=this;var r=this.getView().byId("ObjectId").getText();var i=this.byId("PrTable").getSelectedIndices();if(i.length===0){a.show("请至少选择一行进行删除");return}if(r!==undefined&&r!==""){this.getModel().callFunction("/DeleteCartItemData",{method:"POST",urlParameters:{ObjectId:r,Posnr:i},success:function(e,r){var o=sap.ui.getCore().cartmodel.getData();if(i.length===o.length){o.splice(0,o.length)}else{for(var s=0;s<i.length;s++){o.splice(i[s],1)}}u.setData(o);sap.ui.getCore().cartmodel=this.getView().getModel("PrList");t.getModel().refresh();a.show("行项目删除成功")},error:function(e){a.show("行项目删除失败")}})}else{a.show("请先保存数据")}},onSubmit:function(e){var t=this.getView().byId("ObjectId").getText();var r=this;if(t!==undefined){this.getModel().callFunction("/SubmitCartData",{method:"POST",urlParameters:{ObjectId:t},success:function(e,t){a.show("提交OA成功");r.getModel().refresh()},error:function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.show("提交失败,消息:"&&r)}})}else{a.show("请先保存")}},onContinue:function(e){this.getOwnerComponent().getRouter().navTo("catalogSearchDetails",{})},onBatchUpdate:function(e){var t=this.byId("PrTable").getSelectedIndices();if(t.length===0){a.show("请至少选择一行进行批量修改");return}else{this.getOwnerComponent().getRouter().navTo("BatchEdit",{})}},onItemPress:function(e){var t=e.getSource().getBindingContext("PrList").getObject();d.push(t);this.onItemDisData(d,t);this.getOwnerComponent().getRouter().navTo("requireDetail",{ProductId:t.ProductId})},onSave:function(e){var t=new n;var r=this.byId("ObjectPageLayout");if(t.validate(r)){var i=this.getView().getModel("RequireHead").getData();var o=[];if(this.getView().getModel("PrList")!==undefined){var s=sap.ui.getCore().cartmodel.getData();var u=this.getView().getModel("PrList").getData();var g=sap.ui.getCore().requireDetailEdit;if(s===undefined&&g===undefined){a.show("请先编辑明细数据");return}else if(g!==undefined){for(var d=0;d<u.length;d++){var l;var c=g[d].Knttp;if(c==="A"){l=g[d].Asset}else if(c==="K"){l=g[d].Kostl}else if(c==="P"){l=g[d].wbs}var h={Posnr:u[d].Posnr.toString(),ProductId:u[d].Matnr,Description:u[d].Maktx,Menge:u[d].Quantity.toString(),Meins:u[d].Meins,Netpr:u[d].Price,Lifnr:u[d].Lifnr,LifnrNam:u[d].NameGp,Value:u[d].Dmbtr.toString(),Waers:u[d].CurrencyCode,CategoryId:u[d].CategoryId,CategoryTxt:u[d].Category,Matkl:u[d].Matkl,Hkont:g[0].Hkont,DelivDate:g[0].DelivDate,Ekgrp:g[0].Ekgrp,Werks:g[0].Werks,Note:g[0].Note,Knttp:g[0].Knttp,Lgort:g[0].Lgort,KnValue:l,Mwskz:u[d].Mwskz,Peinh:u[d].Peinh.toString(),Ekorg:i.Ekorg,Bukrs:i.Bukrs};o.push(h)}}else if(s!==undefined){for(var d=0;d<s.length;d++){if(s[d].DelivDate===undefined||s[d].Werks===undefined){a.show("请先输入必输项");return}var l;var c=s[d].Knttp;if(c==="A"){l=s[d].Asset}else if(c==="K"){if(s[d].Kostl===undefined){a.show("请先输入必输项");return}l=s[d].Kostl}var h={Posnr:s[d].Posnr.toString(),ProductId:s[d].Matnr,Description:s[d].Maktx,Menge:s[d].Quantity.toString(),Meins:s[d].Meins,Netpr:s[d].Price,Lifnr:s[d].Lifnr,LifnrNam:s[d].NameGp,Value:s[d].Dmbtr.toString(),Waers:s[d].CurrencyCode,CategoryId:s[d].CategoryId,CategoryTxt:s[d].Category,Matkl:s[d].Matkl,Hkont:s[d].Hkont,DelivDate:s[d].DelivDate,Ekgrp:s[d].Ekgrp,Werks:s[d].Werks,Note:s[d].Note,Knttp:s[d].Knttp,Lgort:s[d].Lgort,KnValue:l,Mwskz:s[d].Mwskz,Peinh:s[d].Peinh.toString(),Ekorg:i.Ekorg,Bukrs:i.Bukrs};o.push(h)}}var f={ObjectId:i.ObjectId,Description:i.Description,Ernam:i.Ernam,Bukrs:i.Bukrs,Ekorg:i.Ekorg,Remark:i.Remark,Stat:"10",GrAddr:i.GrAddr,Bsart:i.Bsart,CartItemSet:o};var v=this;var p=this.getView().byId("ObjectId").getText();if(p===""){var D="创建成功"}else{var D="更新成功"}this.getModel().create("/CartSet",f,{async:false,success:function(e,t){v.getView().byId("ObjectId").setText(e.ObjectId);v.getView().byId("Ernam").setText(e.Ernam);a.show("PR号"+e.ObjectId+D)},error:function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.show("PR号创建失败,消息:"&&r)}})}}},onRequestNavBack:function(){var e=o.getInstance().getPreviousHash();var r=new t([]);var e=o.getInstance().getPreviousHash();var i=sap.ui.getCore().requireDetailEdit;var a=this;var s=this.getView().getModel("RequireHead").getData();if(s.ObjectId!==undefined){sap.ui.getCore().cartmodel.setData([]);if(i!==undefined){for(var n=0;n<i.length;n++){i[n].Werks="";i[n].Lgort="";i[n].Kostl="";i[n].Hoknt="";i[n].Note="";sap.ui.getCore().requireDetailEdit=i}}var u={Bukrs:s.Bukrs,Ekorg:s.Ekorg};r.setData(u);this.getView().setModel(r,"RequireHead");this.getView().setModel(r,"PrList");this.getView().setModel(r,"BatchEdit")}if(e!==undefined){history.go(-1)}else{var g=true;this.getRouter().navTo("Home",{},g)}}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/PoDetial.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/GroupHeaderListItem","sap/ui/core/Priority","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,s,r,a,n,l,o){"use strict";var u=new t;var i=new t;return e.extend("ZEC_MY_REQUIREMENTS.controller.PoDetial",{onInit:function(){this.getRouter().getRoute("PoDetial").attachPatternMatched(this._onRequestMatched,this);this.getView().setModel(u,"ZPoList");this.getView().setModel(i,"PoDetial")},_onRequestMatched:function(e){var t=e.getParameters()["arguments"].ObjectId;var s=[];s.push(new l("ObjectId",o.EQ,t));var r=this.getOwnerComponent().getModel();r.setUseBatch(false);var a=[];var n=this;r.read("/Zpo_listSet",{filters:s,success:function(e,t){for(var s=0;s<e.results.length;s++){var r={ObjectId:e.results[s].ObjectId,Ebeln:e.results[s].Ebeln,Bukrs:e.results[s].Bukrs,Ekorg:e.results[s].Ekorg,Ekgrp:e.results[s].Ekgrp,Wgbez:e.results[s].Wgbez,Lifnr:e.results[s].Lifnr,LifnrNam:e.results[s].LifnrNam,PoStat:e.results[s].PoStat,PoStatTxt:e.results[s].PoStatTxt,Value:e.results[s].Value,Waers:e.results[s].Waers,Eindt:e.results[s].Eindt,MengeSh:e.results[s].MengeSh,MsgTxt:e.results[s].MsgTxt};a.push(r);var l=n.getGlobalVar("Stat");if(e.results[s].Ebeln.indexOf("#TMP")!==-1&&l!=="30"){n.byId("OnRegeneratePo").setEnabled(true)}}u.setData(a)},error:function(e){}})},onGeneratePo:function(e){var t=this.getView().getModel("ZPoList").getData();var s=this.byId("PolistTable").getSelectedIndex();if(s<0){a.show("请至少选择一行进行采购订单生成");return}var r=this.getOwnerComponent().getModel();var n=this;r.setUseBatch(false);r.callFunction("/onGeneratePo",{method:"POST",urlParameters:{Ebeln:t[s].Ebeln,ObjectId:t[s].ObjectId},success:function(r,l){for(var o=0;o<t.length;o++){if(o===s){t[s].Ebeln=r.Ebeln}}u.setData(t);n.onSelectionChange(e);n.getModel().refresh();a.show("采购订单重新生成成功!")},error:function(e){var t=JSON.parse(e.responseText);var s=t.error.message.value;a.show("失败,消息:"&&s)}})},onSelectionChange:function(e){var t=this.getView().getModel("ZPoList").getData();var s=this.byId("PolistTable").getSelectedIndex();var r=[];var a=t[s].Ebeln;if(a.length>0){r.push(new l("Ebeln",o.EQ,a));r.push(new l("ObjectId",o.EQ,t[s].ObjectId))}var n=this.getOwnerComponent().getModel();var u=[];var g=this;n.setUseBatch(false);n.read("/Zpo_detialSet",{filters:r,success:function(e,t){for(var s=0;s<e.results.length;s++){var r={Ebelp:e.results[s].Ebelp,Loekz:e.results[s].Loekz,Knttp:e.results[s].Knttp,Werks:e.results[s].Werks,Matnr:e.results[s].Matnr,Maktx:e.results[s].Maktx,Matkl:e.results[s].Matkl,Wgbez:e.results[s].Wgbez,MengeDd:e.results[s].MengeDd,MengeSh:e.results[s].MengeSh,Meins:e.results[s].Meins,Netpr:e.results[s].Netpr,Peinh:e.results[s].Peinh,Value:e.results[s].Value.toString(),Waers:e.results[s].Waers,Eindt:e.results[s].Eindt,Lgort:e.results[s].Lgort,PoStat:e.results[s].PoStat,PoStatTxt:e.results[s].PoStatTxt};u.push(r)}i.setData(u)},error:function(e){}})}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/RequireDetailEditPo.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/GroupHeaderListItem","sap/ui/core/Priority","sap/m/MessageToast","sap/ui/model/Filter","sap/ui/core/routing/History","sap/ui/model/odata/ODataModel","sap/ui/core/Core","sap/ui/core/mvc/Controller","ZEC_MY_REQUIREMENTS/utils/Validator","ZEC_MY_REQUIREMENTS/utils/ValueHelpHelper"],function(e,t,i,s,l,a,r,o,n,g,d,h){"use strict";var u=new t;return e.extend("ZEC_MY_REQUIREMENTS.controller.RequireDetailEditPo",{onInit:function(){this.getOwnerComponent().getRouter().getRoute("requireEditPo").attachPatternMatched(this._onRequestEditMatched,this);this.getView().setModel(u,"RequireDetailEdit")},_onRequestEditMatched:function(e){var t=new Date;var i={};if(sap.ui.getCore().edititem){$.extend(i,sap.ui.getCore().edititem);if(i.Ekgrp){this.getView().byId("EKGRP").setEditable(false)}if(!i.Knttp){i.Knttp="I"}if(!i.DelivDate){i.DelivDate=t}u.setData(i);this.setFieldAttr(i.Knttp);if(this.getGlobalVar("Bsart")==="KF30"){this.setFieldAttr("A");this.getView().byId("Knttp").setSelectedKey("A");this.getView().byId("Knttp").setEditable(false)}else{this.getView().byId("Knttp").setEditable(true)}}else{this.getOwnerComponent().getRouter().navTo("main")}},handleChangeKnttp:function(e){var t=e.getParameter("selectedItem").getProperty("key");this.setFieldAttr(t)},handleLgortValueHelp:function(e){var t=e.getSource();var i=this.getView().getModel();var s=this.getView().byId("WERKS").getSelectedKey();var l="ZshLgortSet";var r=[];r=[new a("Werks",sap.ui.model.FilterOperator.EQ,s)];this.valuehelp=new h(i);this.valuehelp.excludeFilters(["Werks"]);this.valuehelp.excludeColumns(["Werks"]);this.valuehelp.initFilters(r);this.valuehelp.openValueHelp(l,"Lgort","LgortTxt",function(e,i,s){t.setValue(e)})},setFieldAttr:function(e){switch(e){case"A":this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Hkont").setValue("");this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);this.getView().byId("Kostl").setValue("");this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);this.getView().byId("Lgort").setValue("");break;case"I":this.getView().byId("Label_Hkont").setVisible(false);this.getView().byId("Hkont").setVisible(false);this.getView().byId("Hkont").setValue("");this.getView().byId("Label_Kostl").setVisible(false);this.getView().byId("Kostl").setVisible(false);this.getView().byId("Kostl").setValue("");this.getView().byId("Label_Lgort").setVisible(true);this.getView().byId("Lgort").setVisible(true);break;case"K":this.getView().byId("Label_Hkont").setVisible(true);this.getView().byId("Hkont").setVisible(true);this.getView().byId("Label_Kostl").setVisible(true);this.getView().byId("Kostl").setVisible(true);this.getView().byId("Label_Lgort").setVisible(false);this.getView().byId("Lgort").setVisible(false);this.getView().byId("Lgort").setValue("");break}},onWerksChange:function(e){var t=this.getView().byId("Lgort");this.getModel("RequireDetailEdit").setProperty("Lgort",null);t.setValue("")},onApply:function(e){var t=new d;var i=this.byId("CheckLayout");if(t.validate(i)){var s=this.getView().getModel("RequireDetailEdit").getData();s.Knttp=this.getView().byId("Knttp").getSelectedKey();var a=s.Menge;if(a<=0){l.show("行"+s.Posnr+"数量大于等于1");return}if(a.toString().length>10){l.show("行号"+s.Posnr+"数量长度不得超过10位");return}var r=this.getOwnerComponent().getEventBus();r.publish("applyChange",s);this.onNavBack()}},onRequireDetailNavBack:function(){var e=this.getView().getModel("RequireDetailEdit").getData();this.confirmNavBack(e,sap.ui.getCore().edititem)}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/controller/RequirementsPo.controller", ["ZEC_MY_REQUIREMENTS/controller/BaseController","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/ui/core/routing/History","sap/ui/core/mvc/Controller","ZEC_MY_REQUIREMENTS/utils/Validator","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/ColumnListItem"],function(e,t,r,a,s,i,n,o,l){"use strict";var u=new t([]);var g=[];var h=new t;return e.extend("ZEC_MY_REQUIREMENTS.controller.RequirementsPo",{onInit:function(){this.getRouter().getRoute("requirementsPo").attachPatternMatched(this._onRequestMatched,this);var e=this.getOwnerComponent().getEventBus();e.subscribe("applyChange",this.applyChange,this);this.getView().setModel(h,"RequireHead");this.getView().setModel(u,"PrList")},_onRequestMatched:function(e){var t=e.getParameters().arguments.ObjectId;var r=this;var a=this.getView().byId("Bsart");var s=this.getGlobalVar("CurObjId");if(!s||s!==t){this.setGlobalVar("CurObjId",t);this.getModel().read("/CartSet('"+t+"')",{async:false,success:function(e,t){h.setData(e);r.setGlobalVar("Stat",e.Stat);r.getGlobalVar("Bsart",e.Bsart);var s=r.getGlobalVar("Bsart");if(s){a.setSelectedKey(s);a.setEditable(false)}if(e.Stat!=="10"&&e.Stat!=="20"){r.setGlobalVar("isEdit",false)}else{r.setGlobalVar("isEdit",true)}},error:function(e){}});var i=[];var l=[];var d=true;i.push(new n("ObjectId",o.EQ,t));this.getModel().read("/CartItemSet",{filters:i,success:function(e,t){if(e.results){var a={};var s;for(var i in e.results){if(e.results[i].Ebeln!==undefined&&e.results[i].Ebeln!==""){d=false}a=e.results[i];if(a.Knttp==="A"){a.Asset=a.KnValue}else if(a.Knttp==="K"){a.Kostl=a.KnValue}l.push(a)}}u.setData(l);r.getView().byId("text").setText("总共"+l.length+"个项目");r.calculateTotal(l);r.getModel("PrList").refresh();sap.ui.getCore().cartmodel=u;if(r.getGlobalVar("Stat")==="25"&&d===true){r.byId("delbtn").setEnabled(true)}},error:function(e){}})}else{var c=u.getData();this.byId("PrTable").removeSelections();g=[];this.getModel().refresh();this.getView().byId("text").setText("总共"+c.length+"个项目");this.calculateTotal(c)}this.byId("PrTable").removeSelections()},onEditPress:function(e){var t=e.getSource().getBindingContext("PrList");var r=t.getObject();var a=t.getPath();g=[];g.push(this.convPathToOrder(a));sap.ui.getCore().edititem=r;this.getOwnerComponent().getRouter().navTo("requireEditPo",{guid:r.GuidI})},calculateTotal:function(e){var t=0,r;if(e.length>0){for(var a=0;a<e.length;a++){t=t+parseFloat(e[a].Value);r=e[a].Waers}this.getView().byId("sum").setText(parseFloat(t).toFixed(2)+r)}else{this.getView().byId("sum").setText(parseFloat(t).toFixed(2))}},onDelete:function(e){var t=this;var a=this.getView().byId("ObjectId").getText();this.getModel().callFunction("/DeleteCartData",{method:"POST",urlParameters:{ObjectId:a},success:function(e,a){r.show("删除成功");t.getModel().refresh();t.onNavBack()},error:function(e){r.show("删除失败")}})},onGoPO:function(e){var t=this.getView().byId("ObjectId").getText();if(t){this.getOwnerComponent().getRouter().navTo("PoDetial",{ObjectId:t})}},onMultipleDelete:function(e){var t=this;var a=this.getView().byId("ObjectId").getText();var s=[],i,n,o=[],l=[];var g=this.byId("PrTable").getSelectedItems();if(g.length===0){r.show("请至少选择一行进行删除");return}for(var h=0;h<g.length;h++){i=g[h].getBindingContext("PrList").getPath();l.push(this.convPathToOrder(i))}for(var d=0;d<g.length;d++){n=g[d].getBindingContext("PrList").getObject().Posnr;o.push(n)}o.sort();if(a!==undefined&&a!==""){this.getModel().callFunction("/DeleteCartItemData",{method:"POST",urlParameters:{ObjectId:a,Posnr:o},success:function(e,a){var i=t.getView().getModel("PrList").getData();if(l.length===i.length){i.splice(0,i.length);s.push(i)}else{for(var n=l.length-1;n>=0;n--){s.push(i[l[n]]);i.splice(l[n],1)}}u.setData(i);t.getModel().refresh();r.show("行项目删除成功")},error:function(e){r.show("行项目删除失败")}})}else{var c=this.getView().getModel("PrList").getData();if(l.length===c.length){c.splice(0,c.length)}else{for(var f=l.length-1;f>=0;f--){c.splice(l[f],1)}}u.setData(c);t.getModel().refresh();r.show("行项目删除成功")}},applyChange:function(e,t,r){var a=u.getData();var s;for(var i=0;i<g.length;i++){s=g[i];for(var n in r){a[s][n]=r[n]}if(r.Menge){a[s].Value=a[s].Menge*a[s].Netpr/a[s].Peinh}}u.setData(a);this.calculateTotal(a);this.byId("PrTable").removeSelections();g=[]},onBatchUpdate:function(e){var t=this.byId("PrTable").getSelectedItems();if(t.length===0){r.show("请至少选择一行进行批量修改");return}else{var a;for(var s=0;s<t.length;s++){a=t[s].getBindingContext("PrList").getPath();g.push(this.convPathToOrder(a))}this.getOwnerComponent().getRouter().navTo("batchEdit",{})}},onSave:function(e){this.onSaveandsubmit(false)},onSubmit:function(e){this.onSaveandsubmit(true)},onSaveandsubmit:function(e){var t=new i;var a=this.byId("CheckLayout");if(t.validate(a)){var s=this.getView().getModel("RequireHead").getData();var n=[];var o=this.getView().getModel("PrList").getData();var l=new Date;if(o&&o.length>0){var g;var h;var d;for(var c=0;c<o.length;c++){if(!o[c].Werks){r.show("行号"+o[c].Posnr+"输入必输项,工厂必输");return}if(!d){d=o[c].Werks}else if(d!==o[c].Werks){r.show("行号"+o[c].Posnr+"工厂不一致");return}if(o[c].Menge.length>10){r.show("行号"+o[c].Posnr+"数量长度不得超过10位");return}if(!o[c].DelivDate){r.show("行号"+o[c].Posnr+"维护交货日期");return}if(this.compareDate(l,o[c].DelivDate)){r.show("行号"+o[c].Posnr+"交货日期不能是在过去");return}if(!o[c].Knttp){r.show("行号"+o[c].Posnr+"维护账户分配");return}if(!g){g=o[c].Knttp}else if(g!==o[c].Knttp){r.show("需求明细账户分配(库存/成本中心)不一致!");return}if(g==="A"){h=o[c].Asset}else if(g==="K"){if(!o[c].Kostl||!o[c].Hkont){r.show("请先输入必输项,成本中心和科目必输");return}h=o[c].Kostl}var f={Posnr:o[c].Posnr.toString(),ProductId:o[c].ProductId,Description:o[c].Description,Menge:o[c].Menge.toString(),Meins:o[c].Meins,Netpr:o[c].Netpr,Lifnr:o[c].Lifnr,LifnrNam:o[c].LifnrNam,GuidH:o[c].GuidH?o[c].GuidH.toUpperCase().replaceAll("-",""):"",GuidI:o[c].GuidI?o[c].GuidI.toUpperCase().replaceAll("-",""):"",CatalogGuid:o[c].CatalogGuid?o[c].CatalogGuid.toUpperCase().replaceAll("-",""):"",Value:o[c].Value.toString(),Waers:o[c].Waers,CategoryId:o[c].CategoryId,CategoryTxt:o[c].CategoryTxt,Matkl:o[c].Matkl,Hkont:o[c].Hkont,DelivDate:o[c].DelivDate,Ekgrp:o[c].Ekgrp,Werks:o[c].Werks,Note:o[c].Note,Knttp:o[c].Knttp,Lgort:o[c].Lgort,KnValue:h,Mwskz:o[c].Mwskz,Peinh:o[c].Peinh.toString(),Ekorg:s.Ekorg,Bukrs:s.Bukrs};n.push(f)}}if(!n||n.length===0){r.show("保存行项目数据不能为空!");return}var v={ObjectId:s.ObjectId,Description:s.Description,Ernam:s.Ernam,Bukrs:s.Bukrs,Ekorg:s.Ekorg,Remark:s.Remark,Stat:"10",GrAddr:s.GrAddr,GrTel:s.GrTel,Bsart:s.Bsart,CartItemSet:n};var b=this;if(!s.ObjectId){var p="创建成功"}else{p="更新成功"}this.setGlobalVar("busy",true);this.getModel().create("/CartSet",v,{async:false,success:function(t,a){b.getView().byId("ObjectId").setText(t.ObjectId);b.getView().byId("Ernam").setText(t.Ernam);var s={};var i=[];for(c=0;c<t.CartItemSet.results.length;c++){s=t.CartItemSet.results[c];if(s.Knttp==="A"){s.Asset=s.KnValue}else if(s.Knttp==="K"){s.Kostl=s.KnValue}i.push(s)}u.setData(i);r.show("PR号"+t.ObjectId+p);if(e){var n=b.getView().byId("ObjectId").getText();if(n){b.getModel().callFunction("/SubmitCartData",{method:"POST",urlParameters:{ObjectId:n},success:function(e,t){r.show("提交OA成功");b.getModel().refresh();b.setGlobalVar("busy",false);b.onNavBack()},error:function(e){b.setGlobalVar("busy",false);var t=JSON.parse(e.responseText);var a=t.error.message.value;r.show("提交失败,消息:"&&a)}})}}else{b.setGlobalVar("busy",false)}}.bind(this),error:function(e){b.setGlobalVar("busy",false);var t=JSON.parse(e.responseText);var a=t.error.message.value;r.show("PR号创建失败,消息:"&&a)}})}},onExit:function(){var e=this.getOwnerComponent().getEventBus();e.unsubscribe("applyChange")}})});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/model/models", ["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/utils/Validator", ["sap/ui/core/message/Message","sap/ui/core/MessageType"],function(e,t){"use strict";var i=function(){this._isValid=true;this._isValidationPerformed=false};i.prototype.isValid=function(){return this._isValidationPerformed&&this._isValid};i.prototype.validate=function(e){this._isValid=true;sap.ui.getCore().getMessageManager().removeAllMessages();this._validate(e);return this.isValid()};i.prototype._validate=function(i){var s=["sections","subSections","blocks","rows","cells","items","content","form","formContainers","formElements","fields"],a=null,g=null,n=["value","selectedKey","text"],r=false,o,l,d,f;if(i instanceof sap.ui.core.Control||i instanceof sap.ui.layout.form.FormContainer||i instanceof sap.ui.layout.form.FormElement){if(i.getVisible()){for(d=0;d<n.length;d+=1){if(i.getBinding(n[d])){if(i.getMetadata().getName()==="sap.m.Select"){if(i.getForceSelection()&&!i.getSelectedKey()){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:"必输项不能为空",type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}));continue}}else if(i.isA("sap.m.InputBase")){if(i.getRequired()&&!i.getBinding(n[d]).getValue()){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:"必输项不能为空",type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}));continue}}if(i.getBinding(n[d]).getType()){try{g=i.getBinding(n[d]);o=i.getProperty(n[d]);l=g.getType().parseValue(o,g.sInternalType);g.getType().validateValue(l)}catch(s){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:s.message,type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}))}r=true}}}if(!r){for(d=0;d<s.length;d+=1){a=i.getAggregation(s[d]);if(a){if(a instanceof Array){for(f=0;f<a.length;f+=1){this._validate(a[f])}}else{this._validate(a)}}}}}}this._isValidationPerformed=true};return i});
sap.ui.predefine("ZEC_MY_REQUIREMENTS/webapp/utils/ValueHelpHelper", ["sap/ui/base/Object","sap/ui/comp/valuehelpdialog/ValueHelpDialog","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/odata/ODataModel","sap/ui/model/json/JSONModel","sap/ui/comp/filterbar/FilterBar","sap/ui/comp/filterbar/FilterGroupItem","sap/m/Input","sap/m/SearchField"],function(e,t,i,n,a,r,l,s,o,u){"use strict";return e.extend("ZEC_MY_REQUIREMENTS.utils.ValueHelpHelper",{onInit:function(){},constructor:function(e){this.model=e},initFilters:function(e){this._aInitFilters=e},excludeFilters:function(e){this._aFilterFields=e},excludeColumns:function(e){this._aColumnsFields=e},setModel:function(e,t){var i=this.model.getServiceMetadata().dataServices.schema[0];var n=i.entityContainer[0].entitySet.find(function(t){return t.name===e});var a=n.entityType.lastIndexOf(".")+1;var r=i.entityType.find(function(e){return e.name===n.entityType.substring(a)});this.oColModel={cols:[]};this.aFilterGroup=[];var l;for(l=0;l<r.property.length;l++){if(this._aColumnsFields){if(this._aColumnsFields.indexOf(r.property[l].name)>=0){continue}}var u=r.property[l].extensions.find(function(e){return e.name==="label"});var p={label:u.value,template:r.property[l].name};if(r.property[l].type==="Edm.DateTime"){p.type="date";p.oType=new sap.ui.model.odata.type.Date}this.oColModel.cols.push(p);if(t===r.property[l].name){this.sTitle=u.value}if(this._aFilterFields){if(this._aFilterFields.indexOf(r.property[l].name)>=0){continue}}this.aFilterGroup.push(new s({groupTitle:"More Fields",groupName:"gn1",name:r.property[l].name,label:u.value,control:new o(r.property[l].name),visibleInFilterBar:true}))}},openValueHelp:function(e,a,s,o){var u=this;this.binding="/"+e;this.col={};this.setModel(e,a);var p=new t({title:this.sTitle||"Search",supportMultiselect:false,supportRanges:false,supportRangesOnly:false,key:a,descriptionKey:s||"",ok:function(e){var t=e.getParameter("tokens")[0];var i=t.getProperty("key");var n=t.getProperty("text");var a=t.data("row");p.close();o.call(this,i,n,a)},cancel:function(e){p.close()},afterClose:function(){p.destroy()}});p.getTableAsync().then(function(e){e.setModel(new r(u.oColModel),"columns");e.setModel(u.model);var t=[];if(u._aInitFilters){t=u._aInitFilters}if(e.bindRows){e.bindRows({path:u.binding,filters:t})}if(e.bindItems){e.bindAggregation("items",u.binding,function(t,i){var n=e.getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:n.map(function(e){var t=e.template;return new sap.m.Label({text:"{"+t+"}"})})})},"",t)}});var d=new l({advancedMode:true,filterBarExpanded:true,filterGroupItems:this.aFilterGroup,search:function(e){var t=[];if(u._aInitFilters){for(var a in u._aInitFilters){t[a]=u._aInitFilters[a]}}$.each(arguments[0].getParameter("selectionSet"),function(e,a){if(a.getValue()){t.push(new i(a.getId(),n.Contains,a.getValue()))}});if(p.getTable()instanceof sap.m.Table){p.getTable().bindAggregation("items",u.binding,function(e,t){var i=p.getTable().getModel("columns").getData().cols;return new sap.m.ColumnListItem({cells:i.map(function(e){var t=e.template;return new sap.m.Label({text:"{"+t+"}"})})})},"",t)}else{p.getTable().bindRows({path:u.binding,filters:t,and:true})}},clear:function(e){sap.m.MessageToast.show("Clear pressed")}});p.setFilterBar(d);p.open()}})});
sap.ui.require.preload({
	"ZEC_MY_REQUIREMENTS/i18n/i18n.properties":'title=\\u6211\\u7684\\u4e2a\\u4eba\\u9700\\u6c42\r\nappTitle = \\u6211\\u7684\\u4e2a\\u4eba\\u9700\\u6c42\r\nappDescription=\\u6211\\u7684\\u4e2a\\u4eba\\u9700\\u6c42',
	"ZEC_MY_REQUIREMENTS/manifest.json":'{"_version":"1.7.0","sap.app":{"id":"ZEC_MY_REQUIREMENTS","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"servicecatalog.connectivityComponent","version":"0.0.0"},"dataSources":{"ZPO_ZCATELOG_MAINTAIN_SRV":{"uri":"/sap/opu/odata/sap/ZPO_ZCATELOG_MAINTAIN_SRV/","type":"OData","settings":{"odataVersion":"2.0","localUri":"localService/metadata.xml"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"fullWidth":true,"supportedThemes":["sap_hcb","sap_belize"]},"sap.ui5":{"rootView":{"viewName":"ZEC_MY_REQUIREMENTS.view.Home","type":"XML"},"dependencies":{"minUI5Version":"1.30.0","libs":{"sap.ui.core":{},"sap.m":{},"sap.ui.layout":{},"sap.ushell":{},"sap.collaboration":{},"sap.ui.comp":{},"sap.uxap":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ZEC_MY_REQUIREMENTS.i18n.i18n"}},"":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Server","defaultBindingMode":"OneWay","defaultCountMode":"Request"},"dataSource":"ZPO_ZCATELOG_MAINTAIN_SRV","preload":true},"globalVar":{"type":"sap.ui.model.json.JSONModel","settings":{},"uri":"localService/GlobalVariable.json","preload":false}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewPath":"ZEC_MY_REQUIREMENTS.view","controlId":"App","controlAggregation":"pages","async":true},"targets":{"requirementsPo":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"RequirementsPo","controlAggregation":"pages","viewLevel":1,"controlId":"App"},"requireEditPo":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"RequireDetailEditPo","controlAggregation":"pages","viewLevel":2,"controlId":"App"},"PoDetial":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"PoDetial","controlAggregation":"pages","viewLevel":1,"controlId":"App"},"Myhome":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"Myhome","controlAggregation":"pages","viewLevel":1,"controlId":"App"},"BatchEditPo":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"BatchEditPo","controlAggregation":"pages","viewLevel":2,"controlId":"App"},"main":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"Main","viewId":"Main","viewLevel":1,"controlId":"App"}},"routes":[{"name":"requirementsPo","pattern":"requirements/{ObjectId}","titleTarget":"","greedy":false,"target":["requirementsPo"]},{"name":"requireEditPo","pattern":"requireEdit/{guid}","titleTarget":"","greedy":false,"target":["requireEditPo"]},{"name":"PoDetial","pattern":"PoDetial/{ObjectId}","titleTarget":"","greedy":false,"target":["PoDetial"]},{"name":"batchEdit","pattern":"batchEdit","titleTarget":"","greedy":false,"target":["BatchEditPo"]},{"name":"Myhome","pattern":"Myhome/{ObjectId}","titleTarget":"","greedy":false,"target":["Myhome"]},{"name":"main","pattern":"","titleTarget":"","greedy":false,"target":["main"]}]}},"sap.platform.abap":{"uri":"/sap/bc/ui5_ui5/sap/zec_my_pr","_version":"1.1.0"}}',
	"ZEC_MY_REQUIREMENTS/view/BatchEditPo.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ZEC_MY_REQUIREMENTS.controller.BatchEditPo"\r\n\txmlns:html="http://www.w3.org/1999/xhtml" xmlns:uxap="sap.uxap" xmlns:grid="sap.ui.layout.cssgrid" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form"><uxap:ObjectPageLayout id="CheckLayout" enableLazyLoading="false" busy="{globalVar>/busy}" busyIndicatorDelay="{globalVar>/delay}"\r\n\t\tshowFooter="true"><uxap:headerTitle><uxap:ObjectPageHeader id="objectTitle" objectTitle="批量修改需求信息" isObjectIconAlwaysVisible="false" isObjectTitleAlwaysVisible="true"\r\n\t\t\t\tisObjectSubtitleAlwaysVisible="false"><uxap:navigationBar><Bar><contentLeft><Button icon="sap-icon://nav-back" tooltip="nav-back" press="onRequireDetailNavBack"/></contentLeft></Bar></uxap:navigationBar></uxap:ObjectPageHeader></uxap:headerTitle><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="数量-交期"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="数量"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><Input id="Menge" value="{ path: \'BatchEdit>/Menge\'}" editable="{DetailViewModel>/isEdit}"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="到货日期" labelFor="DelivDate"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><DatePicker id="DelivDate" editable="{DetailViewModel>/isEdit}" class="sapUiTinyMarginEnd" change="onUbdatChange" required="true"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'BatchEdit>/DelivDate\',type: \'sap.ui.model.odata.type.DateTime\', formatOptions: { strictParsing: true, UTC:true, pattern: \'y年M月d日\', displayFormat: \'Date\'} }"\r\n\t\t\t\t\t\t\t\t\tvalueFormat="yyyy-MM-ddThh:mm:ss"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></DatePicker><Label text="备注"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><TextArea editable="{DetailViewModel>/isEdit}"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'BatchEdit>/Note\', type: \'sap.ui.model.odata.type.String\' , constraints:{ maxLength:255} }" id="BZDBZ" name="Note"\r\n\t\t\t\t\t\t\t\t\twidth="100%"><layoutData><l:GridData span="XL6 L6 M4 S12"/></layoutData></TextArea></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="发货"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="工厂" labelFor="WERKS"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Werks" required="true"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserwerksSet\', sorter: { path: \'Werks\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'BatchEdit>/Werks\', type: \'sap.ui.model.odata.type.String\' }" change="onWerksChange" id="WERKS"><customData><core:CustomData key="message" value="请输入有效的工厂"></core:CustomData></customData><core:ListItem key="{Werks}" text="{Werks} {WerksTxt}"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="记账"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="账户分配" labelFor="Knttp"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Select selectedKey="{ path: \'BatchEdit>/Knttp\'}" id="Knttp" name="Knttp" change="handleChangeKnttp" forceSelection="true"><core:ListItem key="I" text="库存"/><core:ListItem key="A" text="资产"/><core:ListItem key="K" text="成本中心"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Select><Label text="总账科目" visible="false" id="Label_Hkont" labelFor="Hkont"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Hkont" visible="false"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshAccountSet\', sorter: { path: \'Saknr\' },templateShareable:false}" required="true"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'BatchEdit>/Hkont\', type: \'sap.ui.model.odata.type.String\' }" id="Hkont"><customData><core:CustomData key="message" value="请输入有效的总账账户"></core:CustomData></customData><core:ListItem key="{Saknr}" text="{Saknr} {SaknrTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="成本中心" labelFor="Kostl" visible="false" id="Label_Kostl"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" required="true" name="Kostl" visible="false"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserkostlSet\', sorter: { path: \'Kostl\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'BatchEdit>/Kostl\', type: \'sap.ui.model.odata.type.String\' }" id="Kostl"><customData><core:CustomData key="message" value="请输入有效的成本中心"></core:CustomData></customData><core:ListItem key="{Kostl}" text="{Kostl} {KostlTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="库存地点" visible="true" id="Label_Lgort" labelFor="Lgort"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Lgort" value="{BatchEdit>/Lgort}" showValueHelp="true" valueHelpOnly="true" valueHelpRequest="handleLgortValueHelp"><layoutData><l:GridData span="XL2 L2 M1 S12"/></layoutData></Input></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections><uxap:footer><OverflowToolbar><Button icon="sap-icon://alert" text="{=\'查看消息\' + ${message>/}.length}" visible="{=${message>/}.length > 0}" press="onMessagePopover"\r\n\t\t\t\t\ttype="Emphasized"></Button><Button icon="sap-icon://delete" text="清除消息" press="onClearMessage" visible="{=${message>/}.length > 0}"/><ToolbarSpacer/><Button text="确认" press="onApply" id="BtSave" type="Emphasized" visible="true"/></OverflowToolbar></uxap:footer></uxap:ObjectPageLayout></mvc:View>',
	"ZEC_MY_REQUIREMENTS/view/Home.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.Home" xmlns:uxap="sap.uxap" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true" xmlns="sap.m"><App id="App" busy="{appView>/busy}" busyIndicatorDelay="{appView>/delay}"><pages></pages></App></mvc:View>',
	"ZEC_MY_REQUIREMENTS/view/Main.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.Main" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true" xmlns="sap.m"><App><pages><Page title="{i18n>title}"><content><Table id="idProductsTable" inset="false" items="{/CartSet}" sticky="ColumnHeaders,HeaderToolbar"><columns><Column width="8em"><Text text="需求编号"/></Column><Column width="8em"><Text text="需求名称"/></Column><Column width="8em"><Text text="申请日期"/></Column><Column width="8em"><Text text="需求状态"/></Column></columns><items><ColumnListItem><cells><Link text="{ path:\'ObjectId\', type: \'sap.ui.model.odata.type.String\' }" press="handleLinkPress" \t/><Text text="{ path:\'Description\',type: \'sap.ui.model.odata.type.String\' }"/><Text\r\n\t\t\t\t\t\t\ttext="{ path:\'Erdat\',type: \'sap.ui.model.odata.type.DateTime\', formatOptions: { strictParsing: true, UTC:true, pattern: \'y年M月d日\', displayFormat: \'Date\'} }"/><Text text="{ path:\'StatText\',type: \'sap.ui.model.odata.type.String\' }"/></cells></ColumnListItem></items></Table></content></Page></pages></App></mvc:View>',
	"ZEC_MY_REQUIREMENTS/view/MessagePopover.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:core="sap.ui.core"><MessagePopover\r\n        items="{message>/}"\r\n        initiallyExpanded="true"><MessagePopoverItem\r\n            type="{message>type}"\r\n            title="{message>message}"\r\n            subtitle="{message>additionalText}"\r\n            description="{message>description}"/></MessagePopover></core:FragmentDefinition>',
	"ZEC_MY_REQUIREMENTS/view/Myhome.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ZEC_MY_REQUIREMENTS.controller.Myhome"\r\n\txmlns:uxap="sap.uxap" displayBlock="true"><Page showHeader="true" showNavButton="true" navButtonPress="onNavBack" id="Myhome"><uxap:ObjectPageLayout id="ObjectPageLayout" useIconTabBar="true"><uxap:headerTitle></uxap:headerTitle><uxap:headerContent></uxap:headerContent><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="需求" id="PageSection1"><uxap:subSections><uxap:ObjectPageSubSection title="需求" id="RequirementsPo" titleUppercase="false"><uxap:blocks><mvc:XMLView viewName="ZEC_MY_REQUIREMENTS.view.RequirementsPo" id="Requ"/></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="采购订单" id="PageSection2"><uxap:subSections><uxap:ObjectPageSubSection title="采购订单" id="Section2" titleUppercase="false"><mvc:XMLView viewName="ZEC_MY_REQUIREMENTS.view.PoDetial" id="PoDetial"/></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections></uxap:ObjectPageLayout></Page></mvc:View>',
	"ZEC_MY_REQUIREMENTS/view/PoDetial.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.PoDetial" height="100%" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:layout="sap.ui.layout" xmlns:m="sap.m" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns="sap.ui.table"\r\n\txmlns:l="sap.ui.layout" ><m:Page showHeader="true" showNavButton="true" navButtonPress="onNavBack" title="采购订单" id="Myhome"><m:Panel width="auto" class="sapUiResponsiveMargin" id="poinfo"><m:Button text="重新生成订单" press="onGeneratePo" type="Emphasized"  enabled="false" id="OnRegeneratePo" ><m:layoutData><l:GridData span="XL1 L2 M2 S12" linebreak="true"/></m:layoutData></m:Button><Table id="PolistTable" rows="{ path : \'ZPoList>/\'}" selectionMode="Single" visibleRowCount="5" ariaLabelledBy="title" rowSelectionChange="onSelectionChange"><columns><Column hAlign="End" width="6em" ><m:Label text="需求编号"/><template><m:Text text="{ZPoList>ObjectId}" wrapping="false"/></template></Column><Column hAlign="End" width="6em" ><m:Label text="公司代码"/><template><m:Text text="{ZPoList>Bukrs}" wrapping="false"/></template></Column><Column hAlign="End" width="8em" ><m:Label text="采购订单号"/><template><m:Text text="{ZPoList>Ebeln}" wrapping="false"/></template></Column><Column width="8em" ><m:Label text="采购组织"/><template><m:Text text="{ZPoList>Ekorg}" wrapping="false"/></template></Column><Column width="10em"><m:Label text="采购组"/><template><m:Text text="{ZPoList>Ekgrp}" wrapping="false"/></template></Column><Column width="8em" ><m:Label text="供应商"/><template><m:Text text="{ZPoList>Lifnr}" wrapping="false"/></template></Column><Column width="10em"><m:Label text="供应商名称"/><template><m:Text text="{ZPoList>LifnrNam}" wrapping="false"/></template></Column><Column width="6em" ><m:Label text="订单状态"/><template><m:Text text="{ZPoList>PoStatTxt}" wrapping="false"/></template></Column><Column width="100em" ><m:Label text="消息文本"/><template><m:Text text="{ZPoList>MsgTxt}" wrapping="false"/></template></Column></columns></Table><Table id="PoDetialTable" rows="{ path : \'PoDetial>/\'}"  visibleRowCount="5" ariaLabelledBy="title"><columns><Column   width="4em" ><m:Label text="行号"/><template><m:Text text="{PoDetial>Ebelp}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="删除标识"/><template><m:Text text="{PoDetial>Loekz}" wrapping="false"/></template></Column><Column hAlign="End" width="8em" ><m:Label text="科目分配类别"/><template><m:Text text="{PoDetial>Knttp}" wrapping="false"/></template></Column><Column width="4em" ><m:Label text="工厂"/><template><m:Text text="{PoDetial>Werks}" wrapping="false"/></template></Column><Column width="10em"><m:Label text="物料"/><template><m:Text text="{PoDetial>Matnr}" wrapping="false"/></template></Column><Column width="10em" ><m:Label text="描述"/><template><m:Text text="{PoDetial>Maktx}" wrapping="false"/></template></Column><Column width="4em"><m:Label text="物料组"/><template><m:Text text="{PoDetial>Matkl}" wrapping="false"/></template></Column><Column  width="10em" ><m:Label text="物料组描述"/><template><m:Text text="{PoDetial>Wgbez}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="订单数量"/><template><m:Text text="{PoDetial>MengeDd}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="收货数量"/><template><m:Text text="{PoDetial>MengeSh}" wrapping="false"/></template></Column><Column width="4em" ><m:Label text="单位"/><template><m:Text text="{PoDetial>Meins}" wrapping="false"/></template></Column><Column  width="4em" visible="false"><m:Label text="价格"/><template><m:Text text="{PoDetial>Netpr}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="价格单位"/><template><m:Text text="{PoDetial>Peinh}" wrapping="false"/></template></Column><Column  width="10em" visible="false"><m:Label text="金额"/><template><m:Text text="{PoDetial>Value}" wrapping="false"/></template></Column><Column hAlign="End" width="4em" ><m:Label text="货币"/><template><m:Text text="{PoDetial>Waers}" wrapping="false"/></template></Column><Column hAlign="End" width="6em" ><m:Label text="交货日期"/><template><m:Text text="{PoDetial>Eindt}" wrapping="false"/></template></Column><Column hAlign="End" width="6em" ><m:Label text="库存地点"/><template><m:Text text="{PoDetial>Lgort}" wrapping="false"/></template></Column></columns></Table></m:Panel></m:Page></mvc:View>',
	"ZEC_MY_REQUIREMENTS/view/RequireDetailEditPo.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ZEC_MY_REQUIREMENTS.controller.RequireDetailEditPo"\r\n\txmlns:html="http://www.w3.org/1999/xhtml" xmlns:grid="sap.ui.layout.cssgrid" xmlns:l="sap.ui.layout" xmlns:uxap="sap.uxap" xmlns:f="sap.ui.layout.form"><uxap:ObjectPageLayout id="CheckLayout" enableLazyLoading="false" busy="{globalVar>/busy}" busyIndicatorDelay="{globalVar>/delay}"\r\n\t\tshowFooter="true"><uxap:headerTitle><uxap:ObjectPageHeader id="objectTitle" objectTitle="行项目明细修改" isObjectIconAlwaysVisible="false" isObjectTitleAlwaysVisible="false"\r\n\t\t\t\tisObjectSubtitleAlwaysVisible="false" isActionAreaAlwaysVisible="false"><uxap:navigationBar><Bar><contentLeft><Button icon="sap-icon://nav-back" tooltip="nav-back" press="onRequireDetailNavBack"/></contentLeft></Bar></uxap:navigationBar></uxap:ObjectPageHeader></uxap:headerTitle><uxap:headerContent><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\tsingleContainerFullSize="true"><Label text="行号" labelFor="Posnr"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Posnr" value="{ path: \'RequireDetailEdit>/Posnr\' , type: \'sap.ui.model.odata.type.String\' , constraints:{ isDigitSequence : true, maxLength:3}}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="物料编码" labelFor="Matnr"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Matnr" value="{ path: \'RequireDetailEdit>/ProductId\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="描述" labelFor="Maktx"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Maktx" value="{ path: \'RequireDetailEdit>/Description\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="供应商编码" labelFor="Lifnr"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Lifnr" value="{ path: \'RequireDetailEdit>/Lifnr\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="供应商名称" labelFor="Name1"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Name1" value="{ path: \'RequireDetailEdit>/LifnrNam\'}" editable="false"><layoutData><l:GridData span="XL2 L6 M6 S6"/></layoutData></Input><Label text="物料组" labelFor="Matkl"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Matkl" value="{ path: \'RequireDetailEdit>/CategoryId\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input></f:SimpleForm></uxap:headerContent><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="数量-交期"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="数量" labelFor="Menge"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><Input id="Menge" value="{ path: \'RequireDetailEdit>/Menge\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:3 }}" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="计量单位" labelFor="Meins"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Meins" value="{ path: \'RequireDetailEdit>/Meins\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="到货日期" labelFor="DelivDate"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><DatePicker id="DelivDate" editable="{globalVar>/isEdit}" class="sapUiTinyMarginEnd" change="onUbdatChange" required="true"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'RequireDetailEdit>/DelivDate\',type: \'sap.ui.model.odata.type.DateTime\', formatOptions: { strictParsing: true, UTC:true, pattern: \'y年M月d日\', displayFormat: \'Date\'} }"\r\n\t\t\t\t\t\t\t\t\tvalueFormat="yyyy-MM-ddThh:mm:ss"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></DatePicker><Label text="价格" labelFor="Price" visible="false"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><Input id="Price" value="{ path: \'RequireDetailEdit>/Netpr\'}" editable="false" visible="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="币种" labelFor="Waers"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Waers" value="{ path: \'RequireDetailEdit>/Waers\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="备注" labelFor="Note"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><TextArea editable="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'RequireDetailEdit>/Note\', type: \'sap.ui.model.odata.type.String\' , constraints:{ maxLength:255} }" id="Note" name="Note"\r\n\t\t\t\t\t\t\t\t\twidth="100%"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></TextArea></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="发货"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="工厂" labelFor="WERKS"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Werks" required="true" enabled="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserwerksSet\', sorter: { path: \'Werks\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Werks\', type: \'sap.ui.model.odata.type.String\' }" change="onWerksChange" id="WERKS"><customData><core:CustomData key="message" value="请输入有效的工厂"></core:CustomData></customData><core:ListItem key="{Werks}" text="{Werks} {WerksTxt}"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="采购组" labelFor="EKGRP" required="true"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Ekgrp" required="true"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserekgrpSet\', sorter: { path: \'Ekgrp\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Ekgrp\', type: \'sap.ui.model.odata.type.String\' }" id="EKGRP"><customData><core:CustomData key="message" value="请输入有效的采购组"></core:CustomData></customData><core:ListItem key="{Ekgrp}" text="{Ekgrp} {Znote}"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="记账"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="账户分配"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Select selectedKey="{ path: \'RequireDetailEdit>/Knttp\'}" enabled="{globalVar>/isEdit}" id="Knttp" name="Knttp" change="handleChangeKnttp" forceSelection="true"><core:ListItem key="I" text="库存"/><core:ListItem key="A" text="资产"/><core:ListItem key="K" text="成本中心"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Select><Label text="总账科目" visible="false" id="Label_Hkont" labelFor="Hkont"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Hkont" visible="false" editable="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshAccountSet\', sorter: { path: \'Saknr\' },templateShareable:false}" required="true"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Hkont\', type: \'sap.ui.model.odata.type.String\' }" change="onHkontChange" id="Hkont"><customData><core:CustomData key="message" value="请输入有效的总账账户"></core:CustomData></customData><core:ListItem key="{Saknr}" text="{Saknr} {SaknrTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="成本中心" visible="false" id="Label_Kostl"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Kostl" visible="false" editable="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserkostlSet\', sorter: { path: \'Kostl\' },templateShareable:false}" required="true"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Kostl\', type: \'sap.ui.model.odata.type.String\' }" change="onBukrsChange" id="Kostl"><customData><core:CustomData key="message" value="请输入有效的成本中心"></core:CustomData></customData><core:ListItem key="{Kostl}" text="{Kostl} {KostlTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="库存地点" visible="true" id="Label_Lgort" labelFor="Lgort"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Lgort" value="{RequireDetailEdit>/Lgort}" showValueHelp="true" change="onLgortChange" valueHelpOnly="true"\r\n\t\t\t\t\t\t\t\t\tvalueHelpRequest="handleLgortValueHelp" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL2 L2 M1 S12"/></layoutData></Input></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections><uxap:footer><OverflowToolbar><Button icon="sap-icon://alert" text="{=\'查看消息\' + ${message>/}.length}" visible="{=${message>/}.length > 0}" press="onMessagePopover"\r\n\t\t\t\t\ttype="Emphasized"></Button><Button icon="sap-icon://delete" text="清除消息" press="onClearMessage" visible="{=${message>/}.length > 0}"/><ToolbarSpacer/><Button text="确认" press="onApply" id="BtSave" type="Emphasized" visible="{globalVar>/isEdit}" /></OverflowToolbar></uxap:footer></uxap:ObjectPageLayout></mvc:View>',
	"ZEC_MY_REQUIREMENTS/view/RequirementsPo.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.RequirementsPo" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:uxap="sap.uxap" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns:table="sap.ui.table" \r\n\txmlns:l="sap.ui.layout" showNavButton="true" navButtonPress="onNavBack"><uxap:ObjectPageLayout id="ObjectPageLayout" enableLazyLoading="false" busy="{globalVar>/busy}" busyIndicatorDelay="{globalVar>/delay}"\r\n\t\tshowFooter="true"><uxap:headerTitle><uxap:ObjectPageDynamicHeaderTitle id="objectTitle"><uxap:heading><Button icon="sap-icon://nav-back" tooltip="nav-back" type="Transparent" press="onNavBack"/></uxap:heading><uxap:content><Title text="抬头信息" textAlign="Begin" titleStyle="H1" /></uxap:content><uxap:actions><Button id="delbtn" text="删除" type="Transparent" press="onDelete" visible="{= ${RequireHead>/ObjectId}> 0  &amp;&amp; ${globalVar>/isEdit} }"/></uxap:actions><uxap:actions><Button id="pobtn" text="采购订单" type="Transparent" press="onGoPO" visible="{= ${RequireHead>/ObjectId}> 0}"/></uxap:actions></uxap:ObjectPageDynamicHeaderTitle></uxap:headerTitle><uxap:headerContent><f:SimpleForm id="CheckLayout" editable="{globalVar>/isEdit}" layout="ResponsiveGridLayout"><Label text="PR号" labelFor="ObjectId"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><Text id="ObjectId" text="{ path: \'RequireHead>/ObjectId\'}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Text><Label text="需求名称" labelFor="Description"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><Input id="Description" value="{ path: \'RequireHead>/Description\' }" required="true" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Input><Label text="公司代码" labelFor="Bukrs"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Bukrs" required="true" selectedItemId="Bukrs" editable="false"\r\n\t\t\t\t\titems="{ path: \'/ZshUsercompSet\', sorter: { path: \'Bukrs\' },templateShareable:false}" selectedKey="{ path: \'RequireHead>/Bukrs\' }"\r\n\t\t\t\t\tchange="onBukrsChange" id="Bukrs"><customData><core:CustomData key="message" value="请输入有效的公司代码"/></customData><core:ListItem key="{Bukrs}" text="{Bukrs} {Butxt}"/><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></ComboBox><Label text="采购组织" labelFor="Ekorg"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Ekorg" required="true" editable="false"\r\n\t\t\t\t\titems="{ path: \'/HT024eSet\', sorter: { path: \'Ekorg\' },templateShareable:false}"\r\n\t\t\t\t\tselectedKey="{ path: \'RequireHead>/Ekorg\', type: \'sap.ui.model.odata.type.String\' }" change="onEkorgChange" id="Ekorg"><customData><core:CustomData key="message" value="请输入有效的采购组织"/></customData><core:ListItem key="{Ekorg}" text="{Ekorg} {Ekotx}"/><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></ComboBox><Label text="业务类型" labelFor="Bsart"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Bsart" required="true"\r\n\t\t\t\t\titems="{ path: \'/ZshPotypeSet\', sorter: { path: \'Bsart\' },templateShareable:false}" editable="false"\r\n\t\t\t\t\tselectedKey="{ path: \'RequireHead>/Bsart\', type: \'sap.ui.model.odata.type.String\' }" change="onBsartChange" id="Bsart"><customData><core:CustomData key="message" value="请输入有效的采购订单类型"/></customData><core:ListItem key="{Bsart}" text="{Bsart} {BsartTxt}"/><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></ComboBox><Label text="收货联系人/联系电话" labelFor="GrTel"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><Input id="GrTel" value="{ path: \'RequireHead>/GrTel\' }" required="true" name="GrTel" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Input><Label text="收货地址" labelFor="GrAddr"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><TextArea value="{ path: \'RequireHead>/GrAddr\' }" id="GrAddr" required="true" name="GrAddr" width="100%" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></TextArea><Label text="备注" labelFor="Remark"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><TextArea value="{ path: \'RequireHead>/Remark\' }" id="Remark" name="Remark" width="100%" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></TextArea><Label text="审批意见" labelFor="Comments"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><TextArea editable="false" value="{ path: \'RequireHead>/Comments\' }" id="Comments" name="Comments" width="100%"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></TextArea><Label text="申请人" labelFor="Ernam"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><Text id="Ernam" text="{ path: \'RequireHead>/Ernam\' }"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Text><Label text="总计" labelFor="sum" visible="false"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><Text id="sum" visible="false"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Text></f:SimpleForm></uxap:headerContent><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="行项目信息"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><Table mode="MultiSelect" width="auto" fixedLayout="true" id="PrTable" sticky="ColumnHeaders,HeaderToolbar" growingThreshold="2"\r\n\t\t\t\t\t\t\titems="{ path: \'PrList>/\', sorter: { path: \'ProductId\', descending: false } }" noDataText="未找到数据"><headerToolbar><OverflowToolbar id="otbSubheader"><Title id="text"/><ToolbarSpacer/><Button id="batupdatebtn" text="批量编辑" press="onBatchUpdate" visible="{globalVar>/isEdit}"></Button><Button id="batdelbtn" text="删除" press="onMultipleDelete" visible="{globalVar>/isEdit}"></Button></OverflowToolbar></headerToolbar><columns><Column id="Item" width="4em"><header><Label text="行号"/></header></Column><Column id="Image" width="6em"><header><Label text="图片"/></header></Column><Column id="Matnr" width="6em"><header><Label text="物料编码"/></header></Column><Column id="Maktx" width="8em"><header><Label text="描述"/></header></Column><Column id="Quantity" width="6em"><header><Label text="数量"/></header></Column><Column id="Meins" width="4em"><header><Label text="单位"/></header></Column><Column id="Price" width="6.5em" visible="false"><header><Label text="价格"/></header></Column><Column id="Dmbtr" width="6.5em" visible="false"><header><Label text="金额"/></header></Column></columns><ColumnListItem id="columnListItem" vAlign="Middle" type="Navigation" press="onEditPress"><cells><Text text="{path:\'PrList>Posnr\', type: \'sap.ui.model.odata.type.String\' , constraints:{ isDigitSequence : true, maxLength:3}}" class="sapMTableContentMargin"/><Image src="{path:\'PrList>\', formatter:\'.convPicUrl\'}" densityAware="false" width="3rem" height="3rem" class="sapUiSmallMarginTopBottom"/><Text text="{PrList>ProductId}" class="sapMTableContentMargin"/><Text text="{PrList>Description}" class="sapMTableContentMargin"/><Text text="{path: \'PrList>Menge\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:3 }}" class="sapMTableContentMargin"/><Text text="{PrList>Meins}" class="sapMTableContentMargin"/><ObjectNumber number="{path: \'PrList>Netpr\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:2 }}" unit="{PrList>Waers}" visible="false"/><ObjectNumber number="{path: \'PrList>Value\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:2 }}" unit="{PrList>Waers}" visible="false"/></cells></ColumnListItem></Table></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections><uxap:footer><OverflowToolbar><Button icon="sap-icon://alert" text="{=\'查看消息\' + ${message>/}.length}" visible="{=${message>/}.length &gt; 0}" press="onMessagePopover"\r\n\t\t\t\t\ttype="Emphasized"/><Button icon="sap-icon://delete" text="清除消息" press="onClearMessage" visible="{=${message>/}.length &gt; 0}"/><ToolbarSpacer/><Button text="保存" press="onSave" icon="sap-icon://save" id="savebtn" visible="{globalVar>/isEdit}" /><Button text="提交" type="Emphasized" press="onSubmit" id="submitbtn" visible="{globalVar>/isEdit}" /></OverflowToolbar></uxap:footer></uxap:ObjectPageLayout></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/i18n/i18n.properties":'title=\\u6211\\u7684\\u4e2a\\u4eba\\u9700\\u6c42\r\nappTitle = \\u6211\\u7684\\u4e2a\\u4eba\\u9700\\u6c42\r\nappDescription=\\u6211\\u7684\\u4e2a\\u4eba\\u9700\\u6c42',
	"ZEC_MY_REQUIREMENTS/webapp/manifest.json":'{"_version":"1.7.0","sap.app":{"id":"ZEC_MY_REQUIREMENTS","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","sourceTemplate":{"id":"servicecatalog.connectivityComponent","version":"0.0.0"},"dataSources":{"ZPO_ZCATELOG_MAINTAIN_SRV":{"uri":"/sap/opu/odata/sap/ZPO_ZCATELOG_MAINTAIN_SRV/","type":"OData","settings":{"odataVersion":"2.0","localUri":"localService/metadata.xml"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true},"fullWidth":true,"supportedThemes":["sap_hcb","sap_belize"]},"sap.ui5":{"rootView":{"viewName":"ZEC_MY_REQUIREMENTS.view.Home","type":"XML"},"dependencies":{"minUI5Version":"1.30.0","libs":{"sap.ui.core":{},"sap.m":{},"sap.ui.layout":{},"sap.ushell":{},"sap.collaboration":{},"sap.ui.comp":{},"sap.uxap":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"ZEC_MY_REQUIREMENTS.i18n.i18n"}},"":{"type":"sap.ui.model.odata.v2.ODataModel","settings":{"defaultOperationMode":"Server","defaultBindingMode":"OneWay","defaultCountMode":"Request"},"dataSource":"ZPO_ZCATELOG_MAINTAIN_SRV","preload":true},"globalVar":{"type":"sap.ui.model.json.JSONModel","settings":{},"uri":"localService/GlobalVariable.json","preload":false}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewPath":"ZEC_MY_REQUIREMENTS.view","controlId":"App","controlAggregation":"pages","async":true},"targets":{"requirementsPo":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"RequirementsPo","controlAggregation":"pages","viewLevel":1,"controlId":"App"},"requireEditPo":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"RequireDetailEditPo","controlAggregation":"pages","viewLevel":2,"controlId":"App"},"PoDetial":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"PoDetial","controlAggregation":"pages","viewLevel":1,"controlId":"App"},"Myhome":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"Myhome","controlAggregation":"pages","viewLevel":1,"controlId":"App"},"BatchEditPo":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"BatchEditPo","controlAggregation":"pages","viewLevel":2,"controlId":"App"},"main":{"viewType":"XML","transition":"slide","clearAggregation":true,"viewName":"Main","viewId":"Main","viewLevel":1,"controlId":"App"}},"routes":[{"name":"requirementsPo","pattern":"requirements/{ObjectId}","titleTarget":"","greedy":false,"target":["requirementsPo"]},{"name":"requireEditPo","pattern":"requireEdit/{guid}","titleTarget":"","greedy":false,"target":["requireEditPo"]},{"name":"PoDetial","pattern":"PoDetial/{ObjectId}","titleTarget":"","greedy":false,"target":["PoDetial"]},{"name":"batchEdit","pattern":"batchEdit","titleTarget":"","greedy":false,"target":["BatchEditPo"]},{"name":"Myhome","pattern":"Myhome/{ObjectId}","titleTarget":"","greedy":false,"target":["Myhome"]},{"name":"main","pattern":"","titleTarget":"","greedy":false,"target":["main"]}]}},"sap.platform.abap":{"uri":"/sap/bc/ui5_ui5/sap/zec_my_pr","_version":"1.1.0"}}',
	"ZEC_MY_REQUIREMENTS/webapp/view/BatchEditPo.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ZEC_MY_REQUIREMENTS.controller.BatchEditPo"\r\n\txmlns:html="http://www.w3.org/1999/xhtml" xmlns:uxap="sap.uxap" xmlns:grid="sap.ui.layout.cssgrid" xmlns:l="sap.ui.layout" xmlns:f="sap.ui.layout.form"><uxap:ObjectPageLayout id="CheckLayout" enableLazyLoading="false" busy="{globalVar>/busy}" busyIndicatorDelay="{globalVar>/delay}"\r\n\t\tshowFooter="true"><uxap:headerTitle><uxap:ObjectPageHeader id="objectTitle" objectTitle="批量修改需求信息" isObjectIconAlwaysVisible="false" isObjectTitleAlwaysVisible="true"\r\n\t\t\t\tisObjectSubtitleAlwaysVisible="false"><uxap:navigationBar><Bar><contentLeft><Button icon="sap-icon://nav-back" tooltip="nav-back" press="onRequireDetailNavBack"/></contentLeft></Bar></uxap:navigationBar></uxap:ObjectPageHeader></uxap:headerTitle><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="数量-交期"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="数量"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><Input id="Menge" value="{ path: \'BatchEdit>/Menge\'}" editable="{DetailViewModel>/isEdit}"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="到货日期" labelFor="DelivDate"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><DatePicker id="DelivDate" editable="{DetailViewModel>/isEdit}" class="sapUiTinyMarginEnd" change="onUbdatChange" required="true"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'BatchEdit>/DelivDate\',type: \'sap.ui.model.odata.type.DateTime\', formatOptions: { strictParsing: true, UTC:true, pattern: \'y年M月d日\', displayFormat: \'Date\'} }"\r\n\t\t\t\t\t\t\t\t\tvalueFormat="yyyy-MM-ddThh:mm:ss"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></DatePicker><Label text="备注"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><TextArea editable="{DetailViewModel>/isEdit}"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'BatchEdit>/Note\', type: \'sap.ui.model.odata.type.String\' , constraints:{ maxLength:255} }" id="BZDBZ" name="Note"\r\n\t\t\t\t\t\t\t\t\twidth="100%"><layoutData><l:GridData span="XL6 L6 M4 S12"/></layoutData></TextArea></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="发货"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="工厂" labelFor="WERKS"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Werks" required="true"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserwerksSet\', sorter: { path: \'Werks\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'BatchEdit>/Werks\', type: \'sap.ui.model.odata.type.String\' }" change="onWerksChange" id="WERKS"><customData><core:CustomData key="message" value="请输入有效的工厂"></core:CustomData></customData><core:ListItem key="{Werks}" text="{Werks} {WerksTxt}"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="记账"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="账户分配" labelFor="Knttp"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Select selectedKey="{ path: \'BatchEdit>/Knttp\'}" id="Knttp" name="Knttp" change="handleChangeKnttp" forceSelection="true"><core:ListItem key="I" text="库存"/><core:ListItem key="A" text="资产"/><core:ListItem key="K" text="成本中心"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Select><Label text="总账科目" visible="false" id="Label_Hkont" labelFor="Hkont"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Hkont" visible="false"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshAccountSet\', sorter: { path: \'Saknr\' },templateShareable:false}" required="true"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'BatchEdit>/Hkont\', type: \'sap.ui.model.odata.type.String\' }" id="Hkont"><customData><core:CustomData key="message" value="请输入有效的总账账户"></core:CustomData></customData><core:ListItem key="{Saknr}" text="{Saknr} {SaknrTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="成本中心" labelFor="Kostl" visible="false" id="Label_Kostl"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" required="true" name="Kostl" visible="false"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserkostlSet\', sorter: { path: \'Kostl\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'BatchEdit>/Kostl\', type: \'sap.ui.model.odata.type.String\' }" id="Kostl"><customData><core:CustomData key="message" value="请输入有效的成本中心"></core:CustomData></customData><core:ListItem key="{Kostl}" text="{Kostl} {KostlTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="库存地点" visible="true" id="Label_Lgort" labelFor="Lgort"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Lgort" value="{BatchEdit>/Lgort}" showValueHelp="true" valueHelpOnly="true" valueHelpRequest="handleLgortValueHelp"><layoutData><l:GridData span="XL2 L2 M1 S12"/></layoutData></Input></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections><uxap:footer><OverflowToolbar><Button icon="sap-icon://alert" text="{=\'查看消息\' + ${message>/}.length}" visible="{=${message>/}.length > 0}" press="onMessagePopover"\r\n\t\t\t\t\ttype="Emphasized"></Button><Button icon="sap-icon://delete" text="清除消息" press="onClearMessage" visible="{=${message>/}.length > 0}"/><ToolbarSpacer/><Button text="确认" press="onApply" id="BtSave" type="Emphasized" visible="true"/></OverflowToolbar></uxap:footer></uxap:ObjectPageLayout></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/view/Home.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.Home" xmlns:uxap="sap.uxap" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true" xmlns="sap.m"><App id="App" busy="{appView>/busy}" busyIndicatorDelay="{appView>/delay}"><pages></pages></App></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/view/Main.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.Main" xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc"\r\n\tdisplayBlock="true" xmlns="sap.m"><App><pages><Page title="{i18n>title}"><content><Table id="idProductsTable" inset="false" items="{/CartSet}" sticky="ColumnHeaders,HeaderToolbar"><columns><Column width="8em"><Text text="需求编号"/></Column><Column width="8em"><Text text="需求名称"/></Column><Column width="8em"><Text text="申请日期"/></Column><Column width="8em"><Text text="需求状态"/></Column></columns><items><ColumnListItem><cells><Link text="{ path:\'ObjectId\', type: \'sap.ui.model.odata.type.String\' }" press="handleLinkPress" \t/><Text text="{ path:\'Description\',type: \'sap.ui.model.odata.type.String\' }"/><Text\r\n\t\t\t\t\t\t\ttext="{ path:\'Erdat\',type: \'sap.ui.model.odata.type.DateTime\', formatOptions: { strictParsing: true, UTC:true, pattern: \'y年M月d日\', displayFormat: \'Date\'} }"/><Text text="{ path:\'StatText\',type: \'sap.ui.model.odata.type.String\' }"/></cells></ColumnListItem></items></Table></content></Page></pages></App></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/view/MessagePopover.fragment.xml":'<core:FragmentDefinition\r\n    xmlns="sap.m"\r\n    xmlns:core="sap.ui.core"><MessagePopover\r\n        items="{message>/}"\r\n        initiallyExpanded="true"><MessagePopoverItem\r\n            type="{message>type}"\r\n            title="{message>message}"\r\n            subtitle="{message>additionalText}"\r\n            description="{message>description}"/></MessagePopover></core:FragmentDefinition>',
	"ZEC_MY_REQUIREMENTS/webapp/view/Myhome.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ZEC_MY_REQUIREMENTS.controller.Myhome"\r\n\txmlns:uxap="sap.uxap" displayBlock="true"><Page showHeader="true" showNavButton="true" navButtonPress="onNavBack" id="Myhome"><uxap:ObjectPageLayout id="ObjectPageLayout" useIconTabBar="true"><uxap:headerTitle></uxap:headerTitle><uxap:headerContent></uxap:headerContent><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="需求" id="PageSection1"><uxap:subSections><uxap:ObjectPageSubSection title="需求" id="RequirementsPo" titleUppercase="false"><uxap:blocks><mvc:XMLView viewName="ZEC_MY_REQUIREMENTS.view.RequirementsPo" id="Requ"/></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="采购订单" id="PageSection2"><uxap:subSections><uxap:ObjectPageSubSection title="采购订单" id="Section2" titleUppercase="false"><mvc:XMLView viewName="ZEC_MY_REQUIREMENTS.view.PoDetial" id="PoDetial"/></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections></uxap:ObjectPageLayout></Page></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/view/PoDetial.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.PoDetial" height="100%" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:layout="sap.ui.layout" xmlns:m="sap.m" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns="sap.ui.table"\r\n\txmlns:l="sap.ui.layout" ><m:Page showHeader="true" showNavButton="true" navButtonPress="onNavBack" title="采购订单" id="Myhome"><m:Panel width="auto" class="sapUiResponsiveMargin" id="poinfo"><m:Button text="重新生成订单" press="onGeneratePo" type="Emphasized"  enabled="false" id="OnRegeneratePo" ><m:layoutData><l:GridData span="XL1 L2 M2 S12" linebreak="true"/></m:layoutData></m:Button><Table id="PolistTable" rows="{ path : \'ZPoList>/\'}" selectionMode="Single" visibleRowCount="5" ariaLabelledBy="title" rowSelectionChange="onSelectionChange"><columns><Column hAlign="End" width="6em" ><m:Label text="需求编号"/><template><m:Text text="{ZPoList>ObjectId}" wrapping="false"/></template></Column><Column hAlign="End" width="6em" ><m:Label text="公司代码"/><template><m:Text text="{ZPoList>Bukrs}" wrapping="false"/></template></Column><Column hAlign="End" width="8em" ><m:Label text="采购订单号"/><template><m:Text text="{ZPoList>Ebeln}" wrapping="false"/></template></Column><Column width="8em" ><m:Label text="采购组织"/><template><m:Text text="{ZPoList>Ekorg}" wrapping="false"/></template></Column><Column width="10em"><m:Label text="采购组"/><template><m:Text text="{ZPoList>Ekgrp}" wrapping="false"/></template></Column><Column width="8em" ><m:Label text="供应商"/><template><m:Text text="{ZPoList>Lifnr}" wrapping="false"/></template></Column><Column width="10em"><m:Label text="供应商名称"/><template><m:Text text="{ZPoList>LifnrNam}" wrapping="false"/></template></Column><Column width="6em" ><m:Label text="订单状态"/><template><m:Text text="{ZPoList>PoStatTxt}" wrapping="false"/></template></Column><Column width="100em" ><m:Label text="消息文本"/><template><m:Text text="{ZPoList>MsgTxt}" wrapping="false"/></template></Column></columns></Table><Table id="PoDetialTable" rows="{ path : \'PoDetial>/\'}"  visibleRowCount="5" ariaLabelledBy="title"><columns><Column   width="4em" ><m:Label text="行号"/><template><m:Text text="{PoDetial>Ebelp}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="删除标识"/><template><m:Text text="{PoDetial>Loekz}" wrapping="false"/></template></Column><Column hAlign="End" width="8em" ><m:Label text="科目分配类别"/><template><m:Text text="{PoDetial>Knttp}" wrapping="false"/></template></Column><Column width="4em" ><m:Label text="工厂"/><template><m:Text text="{PoDetial>Werks}" wrapping="false"/></template></Column><Column width="10em"><m:Label text="物料"/><template><m:Text text="{PoDetial>Matnr}" wrapping="false"/></template></Column><Column width="10em" ><m:Label text="描述"/><template><m:Text text="{PoDetial>Maktx}" wrapping="false"/></template></Column><Column width="4em"><m:Label text="物料组"/><template><m:Text text="{PoDetial>Matkl}" wrapping="false"/></template></Column><Column  width="10em" ><m:Label text="物料组描述"/><template><m:Text text="{PoDetial>Wgbez}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="订单数量"/><template><m:Text text="{PoDetial>MengeDd}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="收货数量"/><template><m:Text text="{PoDetial>MengeSh}" wrapping="false"/></template></Column><Column width="4em" ><m:Label text="单位"/><template><m:Text text="{PoDetial>Meins}" wrapping="false"/></template></Column><Column  width="4em" visible="false"><m:Label text="价格"/><template><m:Text text="{PoDetial>Netpr}" wrapping="false"/></template></Column><Column  width="6em" ><m:Label text="价格单位"/><template><m:Text text="{PoDetial>Peinh}" wrapping="false"/></template></Column><Column  width="10em" visible="false"><m:Label text="金额"/><template><m:Text text="{PoDetial>Value}" wrapping="false"/></template></Column><Column hAlign="End" width="4em" ><m:Label text="货币"/><template><m:Text text="{PoDetial>Waers}" wrapping="false"/></template></Column><Column hAlign="End" width="6em" ><m:Label text="交货日期"/><template><m:Text text="{PoDetial>Eindt}" wrapping="false"/></template></Column><Column hAlign="End" width="6em" ><m:Label text="库存地点"/><template><m:Text text="{PoDetial>Lgort}" wrapping="false"/></template></Column></columns></Table></m:Panel></m:Page></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/view/RequireDetailEditPo.view.xml":'<mvc:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="ZEC_MY_REQUIREMENTS.controller.RequireDetailEditPo"\r\n\txmlns:html="http://www.w3.org/1999/xhtml" xmlns:grid="sap.ui.layout.cssgrid" xmlns:l="sap.ui.layout" xmlns:uxap="sap.uxap" xmlns:f="sap.ui.layout.form"><uxap:ObjectPageLayout id="CheckLayout" enableLazyLoading="false" busy="{globalVar>/busy}" busyIndicatorDelay="{globalVar>/delay}"\r\n\t\tshowFooter="true"><uxap:headerTitle><uxap:ObjectPageHeader id="objectTitle" objectTitle="行项目明细修改" isObjectIconAlwaysVisible="false" isObjectTitleAlwaysVisible="false"\r\n\t\t\t\tisObjectSubtitleAlwaysVisible="false" isActionAreaAlwaysVisible="false"><uxap:navigationBar><Bar><contentLeft><Button icon="sap-icon://nav-back" tooltip="nav-back" press="onRequireDetailNavBack"/></contentLeft></Bar></uxap:navigationBar></uxap:ObjectPageHeader></uxap:headerTitle><uxap:headerContent><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\tsingleContainerFullSize="true"><Label text="行号" labelFor="Posnr"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Posnr" value="{ path: \'RequireDetailEdit>/Posnr\' , type: \'sap.ui.model.odata.type.String\' , constraints:{ isDigitSequence : true, maxLength:3}}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="物料编码" labelFor="Matnr"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Matnr" value="{ path: \'RequireDetailEdit>/ProductId\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="描述" labelFor="Maktx"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Maktx" value="{ path: \'RequireDetailEdit>/Description\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="供应商编码" labelFor="Lifnr"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Lifnr" value="{ path: \'RequireDetailEdit>/Lifnr\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="供应商名称" labelFor="Name1"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Name1" value="{ path: \'RequireDetailEdit>/LifnrNam\'}" editable="false"><layoutData><l:GridData span="XL2 L6 M6 S6"/></layoutData></Input><Label text="物料组" labelFor="Matkl"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Matkl" value="{ path: \'RequireDetailEdit>/CategoryId\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input></f:SimpleForm></uxap:headerContent><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="数量-交期"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="数量" labelFor="Menge"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><Input id="Menge" value="{ path: \'RequireDetailEdit>/Menge\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:3 }}" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="计量单位" labelFor="Meins"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Meins" value="{ path: \'RequireDetailEdit>/Meins\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="到货日期" labelFor="DelivDate"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><DatePicker id="DelivDate" editable="{globalVar>/isEdit}" class="sapUiTinyMarginEnd" change="onUbdatChange" required="true"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'RequireDetailEdit>/DelivDate\',type: \'sap.ui.model.odata.type.DateTime\', formatOptions: { strictParsing: true, UTC:true, pattern: \'y年M月d日\', displayFormat: \'Date\'} }"\r\n\t\t\t\t\t\t\t\t\tvalueFormat="yyyy-MM-ddThh:mm:ss"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></DatePicker><Label text="价格" labelFor="Price" visible="false"><layoutData><l:GridData span="XL2 L2 M2 S12" linebreak="true"/></layoutData></Label><Input id="Price" value="{ path: \'RequireDetailEdit>/Netpr\'}" editable="false" visible="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="币种" labelFor="Waers"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Waers" value="{ path: \'RequireDetailEdit>/Waers\'}" editable="false"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Input><Label text="备注" labelFor="Note"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><TextArea editable="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\tvalue="{ path: \'RequireDetailEdit>/Note\', type: \'sap.ui.model.odata.type.String\' , constraints:{ maxLength:255} }" id="Note" name="Note"\r\n\t\t\t\t\t\t\t\t\twidth="100%"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></TextArea></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="发货"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="工厂" labelFor="WERKS"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Werks" required="true" enabled="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserwerksSet\', sorter: { path: \'Werks\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Werks\', type: \'sap.ui.model.odata.type.String\' }" change="onWerksChange" id="WERKS"><customData><core:CustomData key="message" value="请输入有效的工厂"></core:CustomData></customData><core:ListItem key="{Werks}" text="{Werks} {WerksTxt}"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="采购组" labelFor="EKGRP" required="true"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Ekgrp" required="true"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserekgrpSet\', sorter: { path: \'Ekgrp\' },templateShareable:false}"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Ekgrp\', type: \'sap.ui.model.odata.type.String\' }" id="EKGRP"><customData><core:CustomData key="message" value="请输入有效的采购组"></core:CustomData></customData><core:ListItem key="{Ekgrp}" text="{Ekgrp} {Znote}"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection><uxap:ObjectPageSection titleUppercase="false" title="记账"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><uxap:blocks><f:SimpleForm editable="true" layout="ResponsiveGridLayout" adjustLabelSpan="true" columnsXL="1" columnsL="1" columnsM="1"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize="true"><Label text="账户分配"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Select selectedKey="{ path: \'RequireDetailEdit>/Knttp\'}" enabled="{globalVar>/isEdit}" id="Knttp" name="Knttp" change="handleChangeKnttp" forceSelection="true"><core:ListItem key="I" text="库存"/><core:ListItem key="A" text="资产"/><core:ListItem key="K" text="成本中心"/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Select><Label text="总账科目" visible="false" id="Label_Hkont" labelFor="Hkont"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Hkont" visible="false" editable="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshAccountSet\', sorter: { path: \'Saknr\' },templateShareable:false}" required="true"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Hkont\', type: \'sap.ui.model.odata.type.String\' }" change="onHkontChange" id="Hkont"><customData><core:CustomData key="message" value="请输入有效的总账账户"></core:CustomData></customData><core:ListItem key="{Saknr}" text="{Saknr} {SaknrTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="成本中心" visible="false" id="Label_Kostl"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Kostl" visible="false" editable="{globalVar>/isEdit}"\r\n\t\t\t\t\t\t\t\t\titems="{ path: \'/ZshUserkostlSet\', sorter: { path: \'Kostl\' },templateShareable:false}" required="true"\r\n\t\t\t\t\t\t\t\t\tselectedKey="{ path: \'RequireDetailEdit>/Kostl\', type: \'sap.ui.model.odata.type.String\' }" change="onBukrsChange" id="Kostl"><customData><core:CustomData key="message" value="请输入有效的成本中心"></core:CustomData></customData><core:ListItem key="{Kostl}" text="{Kostl} {KostlTxt} "/><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></ComboBox><Label text="库存地点" visible="true" id="Label_Lgort" labelFor="Lgort"><layoutData><l:GridData span="XL2 L2 M2 S12"/></layoutData></Label><Input id="Lgort" value="{RequireDetailEdit>/Lgort}" showValueHelp="true" change="onLgortChange" valueHelpOnly="true"\r\n\t\t\t\t\t\t\t\t\tvalueHelpRequest="handleLgortValueHelp" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL2 L2 M1 S12"/></layoutData></Input></f:SimpleForm></uxap:blocks></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections><uxap:footer><OverflowToolbar><Button icon="sap-icon://alert" text="{=\'查看消息\' + ${message>/}.length}" visible="{=${message>/}.length > 0}" press="onMessagePopover"\r\n\t\t\t\t\ttype="Emphasized"></Button><Button icon="sap-icon://delete" text="清除消息" press="onClearMessage" visible="{=${message>/}.length > 0}"/><ToolbarSpacer/><Button text="确认" press="onApply" id="BtSave" type="Emphasized" visible="{globalVar>/isEdit}" /></OverflowToolbar></uxap:footer></uxap:ObjectPageLayout></mvc:View>',
	"ZEC_MY_REQUIREMENTS/webapp/view/RequirementsPo.view.xml":'<mvc:View controllerName="ZEC_MY_REQUIREMENTS.controller.RequirementsPo" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"\r\n\txmlns:layout="sap.ui.layout" xmlns="sap.m" xmlns:uxap="sap.uxap" xmlns:f="sap.ui.layout.form" xmlns:u="sap.ui.unified" xmlns:table="sap.ui.table" \r\n\txmlns:l="sap.ui.layout" showNavButton="true" navButtonPress="onNavBack"><uxap:ObjectPageLayout id="ObjectPageLayout" enableLazyLoading="false" busy="{globalVar>/busy}" busyIndicatorDelay="{globalVar>/delay}"\r\n\t\tshowFooter="true"><uxap:headerTitle><uxap:ObjectPageDynamicHeaderTitle id="objectTitle"><uxap:heading><Button icon="sap-icon://nav-back" tooltip="nav-back" type="Transparent" press="onNavBack"/></uxap:heading><uxap:content><Title text="抬头信息" textAlign="Begin" titleStyle="H1" /></uxap:content><uxap:actions><Button id="delbtn" text="删除" type="Transparent" press="onDelete" visible="{= ${RequireHead>/ObjectId}> 0  &amp;&amp; ${globalVar>/isEdit} }"/></uxap:actions><uxap:actions><Button id="pobtn" text="采购订单" type="Transparent" press="onGoPO" visible="{= ${RequireHead>/ObjectId}> 0}"/></uxap:actions></uxap:ObjectPageDynamicHeaderTitle></uxap:headerTitle><uxap:headerContent><f:SimpleForm id="CheckLayout" editable="{globalVar>/isEdit}" layout="ResponsiveGridLayout"><Label text="PR号" labelFor="ObjectId"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><Text id="ObjectId" text="{ path: \'RequireHead>/ObjectId\'}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Text><Label text="需求名称" labelFor="Description"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><Input id="Description" value="{ path: \'RequireHead>/Description\' }" required="true" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Input><Label text="公司代码" labelFor="Bukrs"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Bukrs" required="true" selectedItemId="Bukrs" editable="false"\r\n\t\t\t\t\titems="{ path: \'/ZshUsercompSet\', sorter: { path: \'Bukrs\' },templateShareable:false}" selectedKey="{ path: \'RequireHead>/Bukrs\' }"\r\n\t\t\t\t\tchange="onBukrsChange" id="Bukrs"><customData><core:CustomData key="message" value="请输入有效的公司代码"/></customData><core:ListItem key="{Bukrs}" text="{Bukrs} {Butxt}"/><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></ComboBox><Label text="采购组织" labelFor="Ekorg"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Ekorg" required="true" editable="false"\r\n\t\t\t\t\titems="{ path: \'/HT024eSet\', sorter: { path: \'Ekorg\' },templateShareable:false}"\r\n\t\t\t\t\tselectedKey="{ path: \'RequireHead>/Ekorg\', type: \'sap.ui.model.odata.type.String\' }" change="onEkorgChange" id="Ekorg"><customData><core:CustomData key="message" value="请输入有效的采购组织"/></customData><core:ListItem key="{Ekorg}" text="{Ekorg} {Ekotx}"/><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></ComboBox><Label text="业务类型" labelFor="Bsart"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><ComboBox showSecondaryValues="true" name="Bsart" required="true"\r\n\t\t\t\t\titems="{ path: \'/ZshPotypeSet\', sorter: { path: \'Bsart\' },templateShareable:false}" editable="false"\r\n\t\t\t\t\tselectedKey="{ path: \'RequireHead>/Bsart\', type: \'sap.ui.model.odata.type.String\' }" change="onBsartChange" id="Bsart"><customData><core:CustomData key="message" value="请输入有效的采购订单类型"/></customData><core:ListItem key="{Bsart}" text="{Bsart} {BsartTxt}"/><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></ComboBox><Label text="收货联系人/联系电话" labelFor="GrTel"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><Input id="GrTel" value="{ path: \'RequireHead>/GrTel\' }" required="true" name="GrTel" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Input><Label text="收货地址" labelFor="GrAddr"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><TextArea value="{ path: \'RequireHead>/GrAddr\' }" id="GrAddr" required="true" name="GrAddr" width="100%" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></TextArea><Label text="备注" labelFor="Remark"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><TextArea value="{ path: \'RequireHead>/Remark\' }" id="Remark" name="Remark" width="100%" editable="{globalVar>/isEdit}"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></TextArea><Label text="审批意见" labelFor="Comments"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><TextArea editable="false" value="{ path: \'RequireHead>/Comments\' }" id="Comments" name="Comments" width="100%"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></TextArea><Label text="申请人" labelFor="Ernam"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Label><Text id="Ernam" text="{ path: \'RequireHead>/Ernam\' }"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Text><Label text="总计" labelFor="sum" visible="false"><layoutData><l:GridData span="XL3 L3 M3 S12" linebreak="true"/></layoutData></Label><Text id="sum" visible="false"><layoutData><l:GridData span="XL3 L3 M3 S12"/></layoutData></Text></f:SimpleForm></uxap:headerContent><uxap:sections id="sections"><uxap:ObjectPageSection titleUppercase="false" title="行项目信息"><uxap:subSections><uxap:ObjectPageSubSection titleUppercase="false"><Table mode="MultiSelect" width="auto" fixedLayout="true" id="PrTable" sticky="ColumnHeaders,HeaderToolbar" growingThreshold="2"\r\n\t\t\t\t\t\t\titems="{ path: \'PrList>/\', sorter: { path: \'ProductId\', descending: false } }" noDataText="未找到数据"><headerToolbar><OverflowToolbar id="otbSubheader"><Title id="text"/><ToolbarSpacer/><Button id="batupdatebtn" text="批量编辑" press="onBatchUpdate" visible="{globalVar>/isEdit}"></Button><Button id="batdelbtn" text="删除" press="onMultipleDelete" visible="{globalVar>/isEdit}"></Button></OverflowToolbar></headerToolbar><columns><Column id="Item" width="4em"><header><Label text="行号"/></header></Column><Column id="Image" width="6em"><header><Label text="图片"/></header></Column><Column id="Matnr" width="6em"><header><Label text="物料编码"/></header></Column><Column id="Maktx" width="8em"><header><Label text="描述"/></header></Column><Column id="Quantity" width="6em"><header><Label text="数量"/></header></Column><Column id="Meins" width="4em"><header><Label text="单位"/></header></Column><Column id="Price" width="6.5em" visible="false"><header><Label text="价格"/></header></Column><Column id="Dmbtr" width="6.5em" visible="false"><header><Label text="金额"/></header></Column></columns><ColumnListItem id="columnListItem" vAlign="Middle" type="Navigation" press="onEditPress"><cells><Text text="{path:\'PrList>Posnr\', type: \'sap.ui.model.odata.type.String\' , constraints:{ isDigitSequence : true, maxLength:3}}" class="sapMTableContentMargin"/><Image src="{path:\'PrList>\', formatter:\'.convPicUrl\'}" densityAware="false" width="3rem" height="3rem" class="sapUiSmallMarginTopBottom"/><Text text="{PrList>ProductId}" class="sapMTableContentMargin"/><Text text="{PrList>Description}" class="sapMTableContentMargin"/><Text text="{path: \'PrList>Menge\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:3 }}" class="sapMTableContentMargin"/><Text text="{PrList>Meins}" class="sapMTableContentMargin"/><ObjectNumber number="{path: \'PrList>Netpr\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:2 }}" unit="{PrList>Waers}" visible="false"/><ObjectNumber number="{path: \'PrList>Value\' ,type: \'sap.ui.model.odata.type.Decimal\' ,constraints:{ scale:2 }}" unit="{PrList>Waers}" visible="false"/></cells></ColumnListItem></Table></uxap:ObjectPageSubSection></uxap:subSections></uxap:ObjectPageSection></uxap:sections><uxap:footer><OverflowToolbar><Button icon="sap-icon://alert" text="{=\'查看消息\' + ${message>/}.length}" visible="{=${message>/}.length &gt; 0}" press="onMessagePopover"\r\n\t\t\t\t\ttype="Emphasized"/><Button icon="sap-icon://delete" text="清除消息" press="onClearMessage" visible="{=${message>/}.length &gt; 0}"/><ToolbarSpacer/><Button text="保存" press="onSave" icon="sap-icon://save" id="savebtn" visible="{globalVar>/isEdit}" /><Button text="提交" type="Emphasized" press="onSubmit" id="submitbtn" visible="{globalVar>/isEdit}" /></OverflowToolbar></uxap:footer></uxap:ObjectPageLayout></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
