sap.ui.define(["sap/ui/core/message/Message","sap/ui/core/MessageType"],function(e,t){"use strict";var i=function(){this._isValid=true;this._isValidationPerformed=false};i.prototype.isValid=function(){return this._isValidationPerformed&&this._isValid};i.prototype.validate=function(e){this._isValid=true;sap.ui.getCore().getMessageManager().removeAllMessages();this._validate(e);return this.isValid()};i.prototype._validate=function(i){var s=["sections","subSections","blocks","rows","cells","items","content","form","formContainers","formElements","fields"],a=null,g=null,n=["value","selectedKey","text"],r=false,o,l,d,f;if(i instanceof sap.ui.core.Control||i instanceof sap.ui.layout.form.FormContainer||i instanceof sap.ui.layout.form.FormElement){if(i.getVisible()){for(d=0;d<n.length;d+=1){if(i.getBinding(n[d])){if(i.getMetadata().getName()==="sap.m.Select"){if(i.getForceSelection()&&!i.getSelectedKey()){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:"必输项不能为空",type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}));continue}}else if(i.isA("sap.m.InputBase")){if(i.getRequired()&&!i.getBinding(n[d]).getValue()){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:"必输项不能为空",type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}));continue}}if(i.getBinding(n[d]).getType()){try{g=i.getBinding(n[d]);o=i.getProperty(n[d]);l=g.getType().parseValue(o,g.sInternalType);g.getType().validateValue(l)}catch(s){this._isValid=false;g=i.getBinding(n[d]);sap.ui.getCore().getMessageManager().addMessages(new e({message:s.message,type:t.Error,target:(g.getContext()?g.getContext().getPath()+"/":"")+g.getPath(),processor:i.getBinding(n[d]).getModel()}))}r=true}}}if(!r){for(d=0;d<s.length;d+=1){a=i.getAggregation(s[d]);if(a){if(a instanceof Array){for(f=0;f<a.length;f+=1){this._validate(a[f])}}else{this._validate(a)}}}}}}this._isValidationPerformed=true};return i});
//# sourceMappingURL=Validator.js.map