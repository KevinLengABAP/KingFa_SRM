/**
* This file was auto-generated by SAP Web IDE build and includes all
* the source files required by SAPUI5 runtime for performance optimization.
* PLEASE DO NOT EDIT THIS FILE!! Changes will be overwritten the next time the build is run.
*/
jQuery.sap.registerPreloadedModules({
	"version": "2.0",
	"name": "ZEC_CART_CREATE/Component-preload",
	"modules": {
		"ZEC_CART_CREATE/model/models.js": "sap.ui.define([\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/Device\"\r\n], function(JSONModel, Device) {\r\n\t\"use strict\";\r\n\r\n\treturn {\r\n\r\n\t\tcreateDeviceModel: function() {\r\n\t\t\tvar oModel = new JSONModel(Device);\r\n\t\t\toModel.setDefaultBindingMode(\"OneWay\");\r\n\t\t\treturn oModel;\r\n\t\t}\r\n\r\n\t};\r\n});",
		"ZEC_CART_CREATE/controller/BaseController.js": "sap.ui.define([\r\n\t\"sap/ui/core/mvc/Controller\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/m/MessageBox\",\r\n\t\"sap/ui/model/odata/ODataModel\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\"\r\n], function(Controller, History, MessageToast, MessageBox, ODataModel, JSONModel, Filter, FilterOperator) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"ZEC_CART_CREATE.controller.BaseController\", {\r\n\r\n\t\tgetRouter: function() {\r\n\t\t\treturn sap.ui.core.UIComponent.getRouterFor(this);\r\n\t\t},\r\n\r\n\t\tgetModel: function(sName) {\r\n\t\t\treturn this.getView().getModel(sName);\r\n\t\t},\r\n\r\n\t\tsetModel: function(oModel, sName) {\r\n\t\t\treturn this.getView().setModel(oModel, sName);\r\n\t\t},\r\n\r\n\t\tgetResourceBundle: function() {\r\n\t\t\treturn this.getOwnerComponent().getModel(\"i18n\").getResourceBundle();\r\n\t\t},\r\n\t\tconvPathToOrder:function(idx){\r\n\t\t\treturn idx.substring(idx.lastIndexOf(\"\\/\") + 1);\r\n\t\t},\r\n\t\tonNavBack: function() {\r\n\t\t\tvar sPreviousHash = History.getInstance().getPreviousHash();\r\n\r\n\t\t\tif (sPreviousHash !== undefined) {\r\n\t\t\t\t// The history contains a previous entry\r\n\t\t\t\thistory.go(-1);\r\n\t\t\t} else {\r\n\t\t\t\t// Otherwise we go backwards with a forward history\r\n\t\t\t\tvar bReplace = true;\r\n\t\t\t\tthis.getRouter().navTo(\"catalog\", {}, bReplace);\r\n\t\t\t}\r\n\t\t},\r\n\t\tconfirmNavBack: function(oCurrent, oOriginal) {\r\n\t\t\tif (JSON.stringify(oCurrent) !== JSON.stringify(oOriginal) ) {\r\n\t\t\t\tMessageBox.show(\"数据已经变更，确定要退出吗？\", {\r\n\t\t\t\t\ticon: MessageBox.Icon.WARNING,\r\n\t\t\t\t\ttitle: \"退出确认\",\r\n\t\t\t\t\tactions: [MessageBox.Action.OK, MessageBox.Action.CANCEL],\r\n\t\t\t\t\tonClose: function(oAction) {\r\n\t\t\t\t\t\tif (oAction === MessageBox.Action.OK) {\r\n\t\t\t\t\t\t\tthis.onNavBack();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.onNavBack();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Setter and getter Global variables\r\n\t\tgetGlobalVar: function(sProperty) {\r\n\t\t\tvar _Gvar;\r\n\t\t\tif (this.getOwnerComponent()) {\r\n\t\t\t\t_Gvar = this.getOwnerComponent().getModel(\"globalVar\");\r\n\t\t\t\treturn _Gvar.getProperty(\"/\" + sProperty);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.getParentView(this.getView()).getController().getGlobalVar(sProperty);\r\n\t\t\t\t// getOwnerComponent().getModel(\"globalVar\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tsetGlobalVar: function(sProperty, sValue) {\r\n\t\t\tvar _Gvar;\r\n\t\t\tif (this.getOwnerComponent()) {\r\n\t\t\t\t_Gvar = this.getOwnerComponent().getModel(\"globalVar\");\r\n\t\t\t\treturn _Gvar.setProperty(\"/\" + sProperty, sValue);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.getParentView(this.getView()).getController().setGlobalVar(sProperty, sValue);\r\n\t\t\t\t// getOwnerComponent().getModel(\"globalVar\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tcountCart: function() {\r\n\t\t\tvar aFilters = [];\r\n\t\t\taFilters.push(new Filter(\"ObjectId\", FilterOperator.EQ, \"\"));\r\n\t\t\tthis.getOwnerComponent().getModel().read(\"/ZCDS_I_CART/$count\", {\r\n\t\t\t\tfilters: aFilters,\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tthis.setGlobalVar(\"CartCount\",oData);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oError) {}\r\n\t\t\t});\r\n\t\t},\r\n\t\thandleComboChange: function(oControlEvent) {\r\n\t\t\tvar oCombo = oControlEvent.getSource();\r\n\t\t\tvar sMessage = oControlEvent.getSource().data(\"message\");\r\n\t\t\toCombo.setValueState(\"None\");\r\n\t\t\tif (!oCombo.getSelectedKey() && oControlEvent.getParameters().value) {\r\n\t\t\t\tif (oCombo.getRequired) {\r\n\t\t\t\t\toCombo.setValueState(\"Error\");\r\n\t\t\t\t\tif (sMessage) {\r\n\t\t\t\t\t\toCombo.setValueStateText(sMessage);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\toCombo.setValueState(\"Warning\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// \t\t\toEvent) {\r\n\t\t\t// \tvar oValidatedComboBox = oEvent.getSource(),\r\n\t\t\t// \t\tsSelectedKey = oValidatedComboBox.getSelectedKey(),\r\n\t\t\t// \t\tsValue = oValidatedComboBox.getValue();\r\n\r\n\t\t\t// \tif (!sSelectedKey && sValue) {\r\n\t\t\t// \t\toValidatedComboBox.setValueState(\"Error\");\r\n\t\t\t// \t\toValidatedComboBox.setValueStateText(\"Please enter a valid country!\");\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\toValidatedComboBox.setValueState(\"None\");\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t},\r\n\t\tonMessagePopover: function(oEvent) {\r\n\t\t\tthis._getMessagePopover().openBy(oEvent.getSource());\r\n\t\t},\r\n\r\n\t\tonClearMessage: function() {\r\n\t\t\tsap.ui.getCore().getMessageManager().removeAllMessages();\r\n\t\t},\r\n\t\t_getMessagePopover: function() {\r\n\t\t\t// create popover lazily (singleton)\r\n\t\t\tif (!this._oMessagePopover) {\r\n\t\t\t\t// create popover lazily (singleton)\r\n\t\t\t\tthis._oMessagePopover = sap.ui.xmlfragment(this.getView().getId(), \"ZEC_CART_CREATE.view.MessagePopover\", this);\r\n\t\t\t\tthis.getView().addDependent(this._oMessagePopover);\r\n\t\t\t}\r\n\t\t\treturn this._oMessagePopover;\r\n\t\t},\r\n\t\tshowErrorMessage: function(oError) {\r\n\t\t\tif (oError.responseText) {\r\n\t\t\t\tif (oError.headers[\"Content-Type\"].indexOf(\"application/json\") > -1) {\r\n\t\t\t\t\tsap.m.MessageToast.show(JSON.parse(oError.responseText).error.message.value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar parser = new DOMParser();\r\n\t\t\t\t\tvar xmldoc = parser.parseFromString(oError.responseText, \"text/xml\");\r\n\t\t\t\t\tvar names = xmldoc.getElementsByTagName(\"message\");\r\n\t\t\t\t\t// console.log(names);\r\n\t\t\t\t\tvar arr = [];\r\n\t\t\t\t\tfor (var i = 0; i < names.length; i++) {\r\n\t\t\t\t\t\tarr[arr.length] = names[i].innerHTML;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsap.m.MessageToast.show(arr);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetParentView: function(oElem) {\r\n\t\t\tvar b = oElem;\r\n\t\t\twhile (b && b.getParent) {\r\n\t\t\t\tb = b.getParent();\r\n\t\t\t\tif (b instanceof sap.ui.core.mvc.View) {\r\n\t\t\t\t\t// console.log(b.getMetadata()); //you have found the view\r\n\t\t\t\t\treturn b;\r\n\t\t\t\t\t// break;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcompareDate: function(date1, date2) {\r\n\t\t\tvar result = false;\r\n\t\t\tif (date1.getFullYear() > date2.getFullYear()) {\r\n\t\t\t\tresult = true;\r\n\t\t\t} else if (date1.getFullYear() == date2.getFullYear()) {\r\n\t\t\t\tif (date1.getMonth() > date2.getMonth()) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t} else if (date1.getMonth() == date2.getMonth()) {\r\n\t\t\t\t\tif (date1.getDate() > date2.getDate()) {\r\n\t\t\t\t\t\tresult = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tconvPicUrl: function(oData) {\r\n\t\t\tvar Url;\r\n\t\t\tvar Path = window.location.origin;\r\n\t\t\tif (Path.indexOf(\"localhost\") !== -1) {\r\n\t\t\t\tPath = \"http:///srmdevapp.kingfa.com.cn:8800\";\r\n\t\t\t}\r\n\t\t\tif (oData.ProductId) {\r\n\t\t\t\tUrl = Path + \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='',Lifnr='\" + oData.Lifnr + \"',Matnr='\" +\r\n\t\t\t\t\toData.ProductId + \"',ZimageDesc='1')/$value\";\r\n\t\t\t} else {\r\n\t\t\t\tUrl = Path + \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='\" + oData.CatalogGuid +\r\n\t\t\t\t\t\"',Lifnr='',Matnr='',ZimageDesc='1')/$value\";\r\n\t\t\t}\r\n\t\t\treturn Url;\r\n\t\t}\r\n\r\n\t});\r\n});",
		"ZEC_CART_CREATE/controller/Cart.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/GroupHeaderListItem\",\r\n\t\"sap/ui/core/Priority\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/core/routing/History\"\r\n], function(BaseController, JSONModel, GroupHeaderListItem, Priority, MessageToast, History) {\r\n\t\"use strict\";\r\n\tvar oCartModel = new JSONModel();\r\n\treturn BaseController.extend(\"ZEC_CART_CREATE.controller.Cart\", {\r\n\t\tonInit: function() {\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"cart\").attachPatternMatched(this._onRouteMatched, this);\r\n\t\t\tthis.getView().setModel(oCartModel, \"cartHeader\");\r\n\t\t\tthis._oResourceBundle = this.getResourceBundle();\r\n\r\n\t\t},\r\n\t\t_onRouteMatched: function(oEvent) {\r\n\t\t\tthis.setGlobalVar(\"purCate\", null);\r\n\t\t\tthis.setGlobalVar(\"Bsart\", null);\r\n\r\n\t\t\tvar oModel = this.getModel();\r\n\t\t\tvar oTable = this.getView().byId(\"CartTable\");\r\n\r\n\t\t\toModel.refresh();\r\n\t\t\tthis.countCart();\r\n\t\t\toTable.getBinding(\"items\").attachEvent(\r\n\t\t\t\t\"change\",\r\n\t\t\t\tfunction(oData) {\r\n\t\t\t\t\tvar fTotal = 0,\r\n\t\t\t\t\t\tsCurrency;\r\n\t\t\t\t\tvar sMenge,\r\n\t\t\t\t\t\tsNetpr,\r\n\t\t\t\t\t\tsPeinh;\r\n\t\t\t\t\tvar aItems = oTable.getItems();\r\n\t\t\t\t\tfor (var i = 0; i < aItems.length; i++) {\r\n\t\t\t\t\t\tsMenge = this.getView().getModel().getProperty(\"Menge\", aItems[i].getBindingContext());\r\n\t\t\t\t\t\tsNetpr = this.getView().getModel().getProperty(\"Netpr\", aItems[i].getBindingContext());\r\n\t\t\t\t\t\tsPeinh = this.getView().getModel().getProperty(\"Peinh\", aItems[i].getBindingContext());\r\n\t\t\t\t\t\tfTotal = parseFloat(sMenge) * parseFloat(sNetpr) / parseFloat(sPeinh) + fTotal;\r\n\r\n\t\t\t\t\t\tif (i === aItems.length - 1) {\r\n\t\t\t\t\t\t\tsCurrency = oModel.getProperty(\"Waers\", aItems[i].getBindingContext());\r\n\t\t\t\t\t\t\tthis.getModel(\"cartHeader\").setProperty(\"/currency\", sCurrency);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getModel(\"cartHeader\").setProperty(\"/count\", aItems.length);\r\n\t\t\t\t\tthis.getModel(\"cartHeader\").setProperty(\"/total\", parseFloat(fTotal).toFixed(2));\r\n\t\t\t\t\tthis.getView().getModel().submitChanges();\r\n\t\t\t\t}.bind(this)\r\n\t\t\t);\r\n\r\n\t\t},\r\n\t\tonDelete: function(oEvent) {\r\n\r\n\t\t\tvar aPath = this.byId(\"CartTable\").getSelectedItems();\r\n\t\t\tvar _oResourceBundle = this.getResourceBundle();\r\n\t\t\tvar iLength = aPath.length;\r\n\t\t\tif (iLength === 0) {\r\n\t\t\t\tMessageToast.show(\"请至少选择一行进行删除\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsap.m.MessageBox.show(\"确定要删除吗？\", {\r\n\t\t\t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\ttitle: \"删除\",\r\n\t\t\t\tactions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CANCEL],\r\n\t\t\t\tonClose: function(oAction) {\r\n\r\n\t\t\t\t\tif (oAction === sap.m.MessageBox.Action.OK) {\r\n\t\t\t\t\t\tfor (var j = 0; j < aPath.length; j++) {\r\n\t\t\t\t\t\t\tthis.getModel().remove(aPath[j].getBindingContextPath(), {\r\n\t\t\t\t\t\t\t\tgroupId: \"batch\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setGlobalVar(\"busy\", true);\r\n\t\t\t\t\t\tthis.getModel().submitChanges({\r\n\t\t\t\t\t\t\tgroupId: \"batch\",\r\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\t\t\tif (oData.__batchResponses[0].__changeResponses) {\r\n\t\t\t\t\t\t\t\t\tif (iLength === oData.__batchResponses[0].__changeResponses.length) {\r\n\t\t\t\t\t\t\t\t\t\tMessageToast.show(_oResourceBundle.getText(\"mCarDelScuess\", iLength));\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tMessageToast.show(oData.__batchResponses[0].message);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tthis.countCart();\r\n\t\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tonCreate: function(oEvent) {\r\n\t\t\tvar oModel = this.getView().getModel();\r\n\r\n\t\t\tvar aItems = this.byId(\"CartTable\").getSelectedItems();\r\n\t\t\tvar sPurCate,\r\n\t\t\t\tsCate,\r\n\t\t\t\toItemData;\r\n\t\t\tvar aItemData = [];\r\n\t\t\tfor (var i in aItems) {\r\n\t\t\t\toItemData = oModel.getObject(aItems[i].getBindingContextPath());\r\n\t\t\t\taItemData.push(oItemData);\r\n\r\n\t\t\t\tsCate = oItemData.CategoryId;\r\n\t\t\t\tif (i === \"0\" && sCate) {\r\n\t\t\t\t\tsPurCate = sCate.substr(0, 1);\r\n\t\t\t\t} else if (sPurCate !== sCate.substr(0, 1)) {\r\n\t\t\t\t\tMessageToast.show(\"请选择一致的采购大类\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sPurCate) {\r\n\t\t\t\tthis.setGlobalVar(\"purCate\", sPurCate);\r\n\t\t\t}\r\n\r\n\t\t\tvar that = this;\r\n\t\t\t// if (oModel) {\r\n\t\t\tif (aItemData.length > 0) {\r\n\r\n\t\t\t\t//后端call function写自建表\r\n\t\t\t\t// this.getOwnerComponent().getModel(\"catalog\").callFunction(\"/CheckUsercomp\", {\r\n\t\t\t\t// \t\"method\": \"GET\",\r\n\t\t\t\t// \turlParameters: {\r\n\t\t\t\t// \t\t\"User\": \"123\"\r\n\t\t\t\t// \t}, // function import parameters\r\n\t\t\t\tthis.getOwnerComponent().getModel().callFunction(\"/getUserPara\", {\r\n\t\t\t\t\t\"method\": \"GET\",\r\n\t\t\t\t\t// function import parameters\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar headermodel = new JSONModel(oData);\r\n\t\t\t\t\t\tvar jsonmodel = new JSONModel(aItemData);\r\n\t\t\t\t\t\tthat.getOwnerComponent().setModel(headermodel, \"newHeader\");\r\n\r\n\t\t\t\t\t\tthat.getOwnerComponent().setModel(jsonmodel, \"newReqItems\");\r\n\t\t\t\t\t\tthat.setHeaderBsart();\r\n\t\t\t\t\t\t// that.setGlobalVar(\"fromCart\", true);\r\n\t\t\t\t\t\t// that.getOwnerComponent().getRouter().navTo(\"requirements\", {\r\n\t\t\t\t\t\t// \tobjectId: \"0000000000\"\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t}, // callback function for success\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tvar error = JSON.parse(oError.responseText);\r\n\t\t\t\t\t\tvar msg = error.error.message.value;\r\n\t\t\t\t\t\tMessageToast.show(\"创建失败\" && msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}); // callback function for error\r\n\r\n\t\t\t} else {\r\n\t\t\t\tMessageToast.show(\"请先选中要创建的购物车信息\");\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetHeaderBsart: function() {\r\n\t\t\tvar sPurCate = this.getGlobalVar(\"purCate\");\r\n\t\t\tvar oHeaderModel = this.getOwnerComponent().getModel(\"newHeader\");\r\n\t\t\tif (oHeaderModel) {\r\n\t\t\t\tthis.getOwnerComponent().getModel(\"catalog\").read(\r\n\t\t\t\t\t\"/ZCDS_PUR_CATE('\" + sPurCate + \"')\", {\r\n\t\t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\toHeaderModel.setProperty(\"/Bsart\", oData.Bsart);\r\n\t\t\t\t\t\t\tthis.setGlobalVar(\"Bsart\", oData.Bsart);\r\n\t\t\t\t\t\t\tthis.setGlobalVar(\"fromCart\", true);\r\n\t\t\t\t\t\t\t this.setGlobalVar(\"CurObjId\",null);\r\n\t\t\t\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"requirements\", {\r\n\t\t\t\t\t\t\t\tobjectId: \"0000000000\"\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChange: function(oEvent) {\r\n\t\t\tvar sValue;\r\n\t\t\tsValue = oEvent.getParameter(\"value\");\r\n\t\t\tvar oItem = oEvent.getSource().getParent().getBindingContext().getObject();\r\n\t\t\toItem.value = sValue * oItem.Netpr;\r\n\t\t}\r\n\t});\r\n\r\n});",
		"ZEC_CART_CREATE/controller/Requirements.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/GroupHeaderListItem\",\r\n\t\"sap/ui/core/Priority\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"ZEC_CART_CREATE/utils/Validator\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\"\r\n], function(BaseController, JSONModel, GroupHeaderListItem, Priority, MessageToast, Validator, Filter, FilterOperator) {\r\n\t\"use strict\";\r\n\tvar oCartModel = new JSONModel();\r\n\tvar aEditItems = [];\r\n\tvar cartheadModel = new JSONModel();\r\n\treturn BaseController.extend(\"ZEC_PO_CATALOG.controller.Requirements\", {\r\n\t\tonInit: function() {\r\n\t\t\t// get the EventBus\r\n\t\t\tvar oEventBus = this.getOwnerComponent().getEventBus();\r\n\t\t\toEventBus.subscribe(\"applyChange\", this.applyChange, this);\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"requirements\").attachPatternMatched(this._onRequestMatched, this);\r\n\r\n\t\t\tthis.getView().setModel(cartheadModel, \"RequireHead\");\r\n\t\t\tthis.getView().setModel(oCartModel, \"PrList\");\r\n\t\t\tthis.getView().setModel(this.getOwnerComponent().getModel(\"catalog\"), \"catalog\");\r\n\t\t},\r\n\t\t_onRequestMatched: function(oEvent) {\r\n\r\n\t\t\tthis.byId(\"PrTable\").removeSelections();\r\n\r\n\t\t\tvar sObjectid = oEvent.getParameters().arguments.objectId;\r\n\t\t\tvar sCurObjId = this.getGlobalVar(\"CurObjId\");\r\n\r\n\t\t\tif (!sObjectid) {\r\n\t\t\t\tthis.getRouter().navTo(\"cart\", {});\r\n\t\t\t} else\r\n\r\n\t\t\t{\r\n\t\t\t\tif (!sCurObjId || sCurObjId !== sObjectid) {\r\n\t\t\t\t\tthis.setGlobalVar(\"CurObjId\", sObjectid);\r\n\r\n\t\t\t\t\tif (sObjectid === \"0000000000\") {\r\n\r\n\t\t\t\t\t\tif (this.getGlobalVar(\"fromCart\")) {\r\n\t\t\t\t\t\t\tcartheadModel.setData({});\r\n\t\t\t\t\t\t\tthis.setGlobalVar(\"fromCart\", false);\r\n\r\n\t\t\t\t\t\t\tvar oHeader = this.getOwnerComponent().getModel(\"newHeader\").getData();\r\n\t\t\t\t\t\t\tif (oHeader.Bukrs) {\r\n\t\t\t\t\t\t\t\tcartheadModel.setData({\r\n\t\t\t\t\t\t\t\t\t\"Bukrs\": oHeader.Bukrs,\r\n\t\t\t\t\t\t\t\t\t\"Ekorg\": oHeader.Ekorg,\r\n\t\t\t\t\t\t\t\t\t\"Ekgrp\": oHeader.Ekgrp\r\n\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// var oBukrs = this.getView().byId(\"Bukrs\");\r\n\t\t\t\t\t\t\t// oBukrs.getBinding(\"items\").attachEventOnce(\r\n\t\t\t\t\t\t\t// \t\"dataReceived\",\r\n\t\t\t\t\t\t\t// \tfunction(oData) {\r\n\t\t\t\t\t\t\t// \t\tvar oFirstListItem = oBukrs.getItems()[0];\r\n\t\t\t\t\t\t\t// \t\tif (oFirstListItem) {\r\n\t\t\t\t\t\t\t// \t\t\toBukrs.setSelectedItem(oFirstListItem);\r\n\r\n\t\t\t\t\t\t\t// \t\t} else {\r\n\r\n\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t// \t\toBukrs.setEditable(false);\r\n\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t// );\r\n\t\t\t\t\t\t\t// if (oBukrs.getItems() && oBukrs.getItems()[0]) {\r\n\t\t\t\t\t\t\t// \toBukrs.setSelectedItem(oBukrs.getItems()[0]);\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t// var oEkorg = this.getView().byId(\"Ekorg\");\r\n\t\t\t\t\t\t\t// oEkorg.getBinding(\"items\").attachEventOnce(\r\n\t\t\t\t\t\t\t// \t\"dataReceived\",\r\n\t\t\t\t\t\t\t// \tfunction(oData) {\r\n\t\t\t\t\t\t\t// \t\tvar oFirstListItem = oEkorg.getItems()[0];\r\n\t\t\t\t\t\t\t// \t\tif (oFirstListItem) {\r\n\t\t\t\t\t\t\t// \t\t\toEkorg.setSelectedItem(oFirstListItem);\r\n\t\t\t\t\t\t\t// \t\t\toEkorg.setEditable(false);\r\n\t\t\t\t\t\t\t// \t\t} else {\r\n\t\t\t\t\t\t\t// \t\t\toEkorg.setEditable(true);\r\n\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t// );\r\n\t\t\t\t\t\t\t// if (oEkorg.getItems() && oEkorg.getItems()[0]) {\r\n\t\t\t\t\t\t\t// \toEkorg.setSelectedItem(oEkorg.getItems()[0]);\r\n\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\tvar oBsart = this.getView().byId(\"Bsart\");\r\n\t\t\t\t\t\t\t// oBsart.getBinding(\"items\").attachEventOnce(\r\n\t\t\t\t\t\t\t// \t\"dataReceived\",\r\n\t\t\t\t\t\t\t// \tfunction(oData) {\r\n\t\t\t\t\t\t\t// \t\tvar sPurCate = this.getGlobalVar(\"purCate\");\r\n\t\t\t\t\t\t\t// \t\tif (sPurCate) {\r\n\t\t\t\t\t\t\t// \t\t\tthis.getOwnerComponent().getModel(\"catalog\").read(\r\n\t\t\t\t\t\t\t// \t\t\t\t\"/ZCDS_PUR_CATE('\" + sPurCate + \"')\", {\r\n\t\t\t\t\t\t\t// \t\t\t\t\tsuccess: function(oData) {\r\n\t\t\t\t\t\t\t// \t\t\t\t\t\toBsart.setSelectedKey(oData.Bsart);\r\n\t\t\t\t\t\t\t// \t\t\t\t\t\toBsart.setEditable(false);\r\n\t\t\t\t\t\t\t// \t\t\t\t\t\tthis.setGlobalVar(\"Bsart\", oData.Bsart);\r\n\t\t\t\t\t\t\t// \t\t\t\t\t}.bind(this)\r\n\r\n\t\t\t\t\t\t\t// \t\t\t\t}\r\n\t\t\t\t\t\t\t// \t\t\t);\r\n\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t// \t}.bind(this)\r\n\r\n\t\t\t\t\t\t\t// );\r\n\t\t\t\t\t\t\tvar sBsart = this.getGlobalVar(\"Bsart\");\r\n\t\t\t\t\t\t\tif (sBsart) {\r\n\t\t\t\t\t\t\t\toBsart.setSelectedKey(sBsart);\r\n\t\t\t\t\t\t\t\toBsart.setEditable(false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar _oItemModel = this.getOwnerComponent().getModel(\"newReqItems\");\r\n\r\n\t\t\t\t\t\tif (_oItemModel === undefined) {\r\n\t\t\t\t\t\t\tthis.getRouter().navTo(\"cart\", {});\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\tvar aCart = [];\r\n\t\t\t\t\t\t\tvar aData = _oItemModel.getData();\r\n\t\t\t\t\t\t\taData.forEach(function(item, index, arr) {\r\n\t\t\t\t\t\t\t\tvar iPosnr = index + 1;\r\n\t\t\t\t\t\t\t\titem.Posnr = \"0\".repeat(3 - iPosnr.toString().length) + iPosnr.toString();\r\n\t\t\t\t\t\t\t\titem.Ekgrp = item.Ekgrp ? item.Ekgrp : oHeader.Ekgrp;\r\n\t\t\t\t\t\t\t\titem.DelivDate = item.DelivDate ? item.DelivDate : new Date();\r\n\r\n\t\t\t\t\t\t\t\tif (!item.Knttp) {\r\n\t\t\t\t\t\t\t\t\tif (oHeader.Bsart === \"KF30\") {\r\n\t\t\t\t\t\t\t\t\t\titem.Knttp = \"A\";\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\titem.Knttp = \"I\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taCart.push(item);\r\n\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\taCart.sort();\r\n\t\t\t\t\t\t\toCartModel.setData(aCart);\r\n\r\n\t\t\t\t\t\t\tthis.getModel(\"catalog\").refresh();\r\n\t\t\t\t\t\t\tthis.getView().byId(\"text\").setText(\"总共\" + aCart.length + \"个项目\");\r\n\t\t\t\t\t\t\tthis.calculateTotal(aCart);\r\n\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tthis.getModel().read(\"/CartSet('\" + sObjectid + \"')\", {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t\t\tcartheadModel.setData(oData);\r\n\t\t\t\t\t\t\t\t// Stat = oData.Stat;\r\n\t\t\t\t\t\t\t\t// sap.ui.getCore().Stat = oData.Stat;\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"ObjectId\").setText(oData.ObjectId);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Ernam\").setText(oData.Ernam);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Description\").setValue(oData.Description);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Bsart\").setSelectedKey(oData.Bsart);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Bukrs\").setSelectedKey(oData.Bukrs);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Ekorg\").setSelectedKey(oData.Ekorg);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"GrTel\").setValue(oData.GrTel);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"GrAddr\").setValue(oData.GrAddr);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Remark\").setValue(oData.Remark);\r\n\t\t\t\t\t\t\t\t// that.getView().byId(\"Comments\").setValue(oData.Comments);\r\n\t\t\t\t\t\t\t\tthat.setGlobalVar(\"Stat\", oData.Stat);\r\n\t\t\t\t\t\t\t\tthat.getGlobalVar(\"Bsart\", oData.Bsart);\r\n\t\t\t\t\t\t\t\t//不满足条件灰掉\r\n\t\t\t\t\t\t\t\tvar sBsart = that.getGlobalVar(\"Bsart\");\r\n\t\t\t\t\t\t\t\tif (sBsart) {\r\n\t\t\t\t\t\t\t\t\toBsart.setSelectedKey(sBsart);\r\n\t\t\t\t\t\t\t\t\toBsart.setEditable(false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//that.byId(\"PrTable\").setEditable(false); \r\n\t\t\t\t\t\t\t\tif (oData.Stat !== \"10\" && oData.Stat !== \"20\") {\r\n\t\t\t\t\t\t\t\t\tthat.setGlobalVar(\"isEdit\", false);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"Description\").setEditable(false);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"GrTel\").setEditable(false);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"GrAddr\").setEditable(false);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"Remark\").setEditable(false);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"delbtn\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"savebtn\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"submitbtn\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"batupdatebtn\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"batdelbtn\").setEnabled(false);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.setGlobalVar(\"isEdit\", true);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"Description\").setEditable(true);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"GrTel\").setEditable(true);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"GrAddr\").setEditable(true);\r\n\t\t\t\t\t\t\t\t\t// that.getView().byId(\"Remark\").setEditable(true);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"delbtn\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"savebtn\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"submitbtn\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"batupdatebtn\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t\t// that.byId(\"batdelbtn\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\r\n\t\t\t\t\t\t\t\t//    var error = JSON.parse(oError.responseText);\r\n\t\t\t\t\t\t\t\t//    var msg = error.error.message.value;\r\n\t\t\t\t\t\t\t\t// MessageToast.show(\"PR号创建失败,消息:\"&&msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tvar aFilter = [];\r\n\t\t\t\t\t\tvar aProducts = [];\r\n\r\n\t\t\t\t\t\tvar emptyall = true;\r\n\t\t\t\t\t\taFilter.push(new Filter(\"ObjectId\", FilterOperator.EQ, sObjectid));\r\n\r\n\t\t\t\t\t\tthis.getModel().read(\"/CartItemSet\", {\r\n\t\t\t\t\t\t\tfilters: aFilter,\r\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t\t\tif (oData.results) {\r\n\t\t\t\t\t\t\t\t\tvar oItemData = {};\r\n\t\t\t\t\t\t\t\t\tfor (var i in oData.results) {\r\n\t\t\t\t\t\t\t\t\t\t// that.getView().byId(\"Ekorg\").setSelectedKey(oData.results[i].Ekorg);\r\n\t\t\t\t\t\t\t\t\t\tif (oData.results[i].Ebeln !== undefined && oData.results[i].Ebeln !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\temptyall = false;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\toItemData = oData.results[i];\r\n\t\t\t\t\t\t\t\t\t\t// $.extend(oItemData, oData.CartItemSet.results[i]);\r\n\t\t\t\t\t\t\t\t\t\tif (oItemData.Knttp === \"A\") {\r\n\t\t\t\t\t\t\t\t\t\t\toItemData.Asset = oItemData.KnValue;\r\n\t\t\t\t\t\t\t\t\t\t} else if (oItemData.Knttp === \"K\") {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\toItemData.Kostl = oItemData.KnValue;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\taProducts.push(oItemData);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\toCartModel.setData(aProducts);\r\n\t\t\t\t\t\t\t\tthat.getView().byId(\"text\").setText(\"总共\" + aProducts.length + \"个项目\");\r\n\t\t\t\t\t\t\t\tthat.calculateTotal(aProducts);\r\n\t\t\t\t\t\t\t\tthat.getModel(\"PrList\").refresh();\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().cartmodel = oCartModel;\r\n\t\t\t\t\t\t\t\tif (that.getGlobalVar(\"Stat\") === \"25\" && emptyall === true) {\r\n\t\t\t\t\t\t\t\t\tthat.byId(\"delbtn\").setEnabled(true);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\t// that.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar aItem = oCartModel.getData();\r\n\t\t\t\t\tthis.byId(\"PrTable\").removeSelections();\r\n\t\t\t\t\taEditItems = [];\r\n\t\t\t\t\tthis.getModel().refresh();\r\n\t\t\t\t\tthis.getView().byId(\"text\").setText(\"总共\" + aItem.length + \"个项目\");\r\n\t\t\t\t\tthis.calculateTotal(aItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.byId(\"PrTable\").removeSelections();\r\n\t\t},\r\n\r\n\t\tonEditPress: function(oEvent) {\r\n\t\t\tvar oContext = oEvent.getSource().getBindingContext(\"PrList\");\r\n\t\t\tvar sObject = oContext.getObject();\r\n\r\n\t\t\tvar sPath = oContext.getPath();\r\n\t\t\taEditItems = [];\r\n\t\t\taEditItems.push(this.convPathToOrder(sPath));\r\n\r\n\t\t\tsap.ui.getCore().edititem = sObject;\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().navTo(\"requireEdit\", {\r\n\t\t\t\tguid: sObject.GuidI\r\n\t\t\t});\r\n\r\n\t\t},\r\n\t\tcalculateTotal: function(oCart) {\r\n\r\n\t\t\tvar oAmount = 0,\r\n\t\t\t\toCurrency;\r\n\t\t\tif (oCart.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < oCart.length; i++) {\r\n\t\t\t\t\toAmount = oAmount + parseFloat(oCart[i].Value);\r\n\t\t\t\t\toCurrency = oCart[i].Waers;\r\n\t\t\t\t}\r\n\t\t\t\tthis.getView().byId(\"sum\").setText(parseFloat(oAmount).toFixed(2) + oCurrency);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"sum\").setText(parseFloat(oAmount).toFixed(2));\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonChange: function(oEvent) {\r\n\t\t\tvar data = oEvent.getSource().getParent().getBindingContext(\"PrList\").getObject();\r\n\t\t\tdata.Value = data.Menge * data.Netpr / data.Peinh;\r\n\t\t\tvar cart = this.getView().getModel(\"PrList\").getData();\r\n\t\t\tthis.calculateTotal(cart);\r\n\t\t},\r\n\t\tonDelete: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar sCartNo = this.getView().byId(\"ObjectId\").getText();\r\n\t\t\tthis.getModel(\"catalog\").callFunction(\"/DeleteCartData\", {\r\n\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\turlParameters: {\r\n\t\t\t\t\t\"ObjectId\": sCartNo\r\n\t\t\t\t}, // function import parameters\t\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tMessageToast.show(\"删除成功\");\r\n\t\t\t\t\tthat.getModel(\"catalog\").refresh();\r\n\t\t\t\t\tthat.onNavBack();\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tMessageToast.show(\"删除失败\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t},\r\n\r\n\t\tonMultipleDelete: function(oEvent) {\r\n\t\t\tvar that = this;\r\n\t\t\tvar sCartNo = this.getView().byId(\"ObjectId\").getText();\r\n\t\t\tvar sCart = [],\r\n\t\t\t\tsPosnr,\r\n\t\t\t\tsPath,\r\n\t\t\t\tadbIndex = [],\r\n\t\t\t\taIndex = [];\r\n\t\t\tvar aSelect = this.byId(\"PrTable\").getSelectedItems();\r\n\r\n\t\t\tif (aSelect.length === 0) {\r\n\t\t\t\tMessageToast.show(\"请至少选择一行进行删除\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t for (var i = 0; i < aSelect.length; i++) {\r\n\t\t\t \tsPath = aSelect[i].getBindingContext(\"PrList\").getPath();\r\n\t\t\t \taIndex.push(this.convPathToOrder(sPath));\r\n\t\t\t }\r\n\t\t\t for (var k = 0; k < aSelect.length; k++) {\r\n\t\t\t \tsPosnr = aSelect[k].getBindingContext(\"PrList\").getObject().Posnr;\r\n\t\t\t \tadbIndex.push(sPosnr);\r\n\t\t\t }\r\n\t\t\t// aIndex.sort();\r\n\t\t\tadbIndex.sort();\r\n\r\n\t\t\tif (sCartNo !== undefined && sCartNo !== \"\") {\r\n\t\t\t\tthis.getModel(\"catalog\").callFunction(\"/DeleteCartItemData\", {\r\n\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\t\"ObjectId\": sCartNo,\r\n\t\t\t\t\t\t\"Posnr\": adbIndex\r\n\t\t\t\t\t}, // function import parameters\t\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tvar oItem = that.getView().getModel(\"PrList\").getData();\r\n\t\t\t\t\t\tif (aIndex.length === oItem.length) {\r\n\t\t\t\t\t\t\toItem.splice(0, oItem.length);\r\n\t\t\t\t\t\t\tsCart.push(oItem);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfor (var j = aIndex.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\t\t\tsCart.push(oItem[aIndex[j]]);\r\n\t\t\t\t\t\t\t\toItem.splice(aIndex[j], 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toCartModel.setData(oItem);\r\n\t\t\t\t\t\tthat.getModel(\"catalog\").refresh();\r\n\t\t\t\t\t\tMessageToast.show(\"行项目删除成功\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tMessageToast.show(\"行项目删除失败\");\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar oItem = this.getView().getModel(\"PrList\").getData();\r\n\r\n\t\t\t\tif (aIndex.length === oItem.length) {\r\n\t\t\t\t\toItem.splice(0, oItem.length);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (var j = aIndex.length - 1; j >= 0; j--) {\r\n\t\t\t\t\t\toItem.splice(aIndex[j], 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\toCartModel.setData(oItem);\r\n\t\t\t\tthat.getModel(\"catalog\").refresh();\r\n\t\t\t\tMessageToast.show(\"行项目删除成功\");\r\n\t\t\t\t// MessageToast.show(\"请先保存数据\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tapplyChange: function(sChannelId, sEvent, oDetail) {\r\n\t\t\tvar aItem = oCartModel.getData();\r\n\t\t\tvar j;\r\n\t\t\tfor (var i = 0; i < aEditItems.length; i++) {\r\n\t\t\t\tj = aEditItems[i];\r\n\t\t\t\tfor (var a in oDetail) {\r\n\t\t\t\t\taItem[j][a] = oDetail[a];\r\n\t\t\t\t}\r\n\t\t\t\tif (oDetail.Menge) {\r\n\t\t\t\t\taItem[j].Value = aItem[j].Menge * aItem[j].Netpr / aItem[j].Peinh;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\toCartModel.setData(aItem);\r\n\t\t\tthis.calculateTotal(aItem);\r\n\t\t\tthis.byId(\"PrTable\").removeSelections();\r\n\t\t\taEditItems = [];\r\n\t\t},\r\n\r\n\t\tonBatchUpdate: function(oEvent) {\r\n\t\t\tvar aSelect = this.byId(\"PrTable\").getSelectedItems();\r\n\r\n\t\t\t// var index = this.byId(\"PrTable\").getSelectedIndices();\r\n\t\t\t// var Bsart = this.getView().byId(\"Bsart\").getSelectedKey();\r\n\r\n\t\t\tif (aSelect.length === 0) {\r\n\t\t\t\tMessageToast.show(\"请至少选择一行进行批量修改\");\r\n\t\t\t\treturn;\r\n\t\t\t} else {\r\n\t\t\t\tvar sPath;\r\n\t\t\t\tfor (var i = 0; i < aSelect.length; i++) {\r\n\t\t\t\t\tsPath = aSelect[i].getBindingContext(\"PrList\").getPath();\r\n\t\t\t\t\taEditItems.push(this.convPathToOrder(sPath));\r\n\t\t\t\t}\r\n\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"batchEdit\", {});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonSave: function(oEvent) {\r\n\t\t\tthis.onSaveandsubmit(false);\r\n\t\t},\r\n\t\tonSubmit: function(oEvent) {\r\n\t\t\tthis.onSaveandsubmit(true);\r\n\t\t},\r\n\t\tonSaveandsubmit: function(bSubmitflg) {\r\n\t\t\tvar validator = new Validator();\r\n\t\t\tvar oChkContrl = this.byId(\"CheckLayout\");\r\n\t\t\tif (validator.validate(oChkContrl)) {\r\n\r\n\t\t\t\tvar sHead = this.getView().getModel(\"RequireHead\").getData();\r\n\r\n\t\t\t\t//表头check\r\n\t\t\t\tvar ItemData = [];\r\n\r\n\t\t\t\tvar oItem = this.getView().getModel(\"PrList\").getData();\r\n\t\t\t\tvar sCurDat = new Date();\r\n\r\n\t\t\t\tif (oItem && oItem.length > 0) {\r\n\t\t\t\t\tvar sKnttp;\r\n\t\t\t\t\tvar sKnValue;\r\n\t\t\t\t\tvar sWerks;\r\n\t\t\t\t\tfor (var i = 0; i < oItem.length; i++) {\r\n\r\n\t\t\t\t\t\tif (!oItem[i].Werks) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"行号\" + oItem[i].Posnr + \"输入必输项,工厂必输\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!sWerks) {\r\n\t\t\t\t\t\t\tsWerks = oItem[i].Werks;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (sWerks !== oItem[i].Werks) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"行号\" + oItem[i].Posnr + \"工厂不一致\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (oItem[i].Menge.length > 10) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"行号\" + oItem[i].Posnr + \"数量长度不得超过10位\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!oItem[i].DelivDate) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"行号\" + oItem[i].Posnr + \"维护交货日期\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (this.compareDate(sCurDat, oItem[i].DelivDate)) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"行号\" + oItem[i].Posnr + \"交货日期不能是在过去\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!oItem[i].Knttp) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"行号\" + oItem[i].Posnr + \"维护账户分配\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!sKnttp) {\r\n\t\t\t\t\t\t\tsKnttp = oItem[i].Knttp;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\tif (sKnttp !== oItem[i].Knttp) {\r\n\t\t\t\t\t\t\tMessageToast.show(\"需求明细账户分配(库存/成本中心)不一致!\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (sKnttp === \"A\") {\r\n\t\t\t\t\t\t\tsKnValue = oItem[i].Asset;\r\n\t\t\t\t\t\t} else if (sKnttp === \"K\") {\r\n\t\t\t\t\t\t\tif (!oItem[i].Kostl || !oItem[i].Hkont) {\r\n\t\t\t\t\t\t\t\tMessageToast.show(\"请先输入必输项,成本中心和科目必输\");\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tsKnValue = oItem[i].Kostl;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar item = {\r\n\t\t\t\t\t\t\tPosnr: oItem[i].Posnr.toString(),\r\n\t\t\t\t\t\t\tProductId: oItem[i].ProductId,\r\n\t\t\t\t\t\t\tDescription: oItem[i].Description,\r\n\t\t\t\t\t\t\tMenge: oItem[i].Menge.toString(),\r\n\t\t\t\t\t\t\tMeins: oItem[i].Meins,\r\n\t\t\t\t\t\t\tNetpr: oItem[i].Netpr,\r\n\t\t\t\t\t\t\tLifnr: oItem[i].Lifnr,\r\n\t\t\t\t\t\t\tLifnrNam: oItem[i].LifnrNam,\r\n\t\t\t\t\t\t\tGuidH: oItem[i].GuidH ? oItem[i].GuidH.toUpperCase().replaceAll(\"-\", \"\") : \"\",\r\n\t\t\t\t\t\t\tGuidI: oItem[i].GuidI ? oItem[i].GuidI.toUpperCase().replaceAll(\"-\", \"\") : \"\",\r\n\t\t\t\t\t\t\tCatalogGuid: oItem[i].CatalogGuid ? oItem[i].CatalogGuid.toUpperCase().replaceAll(\"-\", \"\") : \"\",\r\n\t\t\t\t\t\t\tValue: oItem[i].Value.toString(),\r\n\t\t\t\t\t\t\tWaers: oItem[i].Waers,\r\n\t\t\t\t\t\t\tCategoryId: oItem[i].CategoryId,\r\n\t\t\t\t\t\t\tCategoryTxt: oItem[i].CategoryTxt,\r\n\t\t\t\t\t\t\tMatkl: oItem[i].Matkl,\r\n\t\t\t\t\t\t\tHkont: oItem[i].Hkont,\r\n\t\t\t\t\t\t\tDelivDate: oItem[i].DelivDate,\r\n\t\t\t\t\t\t\tEkgrp: oItem[i].Ekgrp,\r\n\t\t\t\t\t\t\tWerks: oItem[i].Werks,\r\n\t\t\t\t\t\t\tNote: oItem[i].Note,\r\n\t\t\t\t\t\t\tKnttp: oItem[i].Knttp,\r\n\t\t\t\t\t\t\tLgort: oItem[i].Lgort,\r\n\t\t\t\t\t\t\tKnValue: sKnValue,\r\n\t\t\t\t\t\t\tMwskz: oItem[i].Mwskz,\r\n\t\t\t\t\t\t\tPeinh: oItem[i].Peinh.toString(),\r\n\t\t\t\t\t\t\tEkorg: sHead.Ekorg,\r\n\t\t\t\t\t\t\tBukrs: sHead.Bukrs\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tItemData.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!ItemData || ItemData.length === 0) {\r\n\t\t\t\t\tMessageToast.show(\"保存行项目数据不能为空!\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar sData = {\r\n\t\t\t\t\tObjectId: sHead.ObjectId,\r\n\t\t\t\t\tDescription: sHead.Description,\r\n\t\t\t\t\tErnam: sHead.Ernam,\r\n\t\t\t\t\tBukrs: sHead.Bukrs,\r\n\t\t\t\t\tEkorg: sHead.Ekorg,\r\n\t\t\t\t\tRemark: sHead.Remark,\r\n\t\t\t\t\tStat: \"10\",\r\n\t\t\t\t\tGrAddr: sHead.GrAddr,\r\n\t\t\t\t\tGrTel: sHead.GrTel,\r\n\t\t\t\t\tBsart: sHead.Bsart,\r\n\t\t\t\t\tCartItemSet: ItemData\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif (!sHead.ObjectId) {\r\n\t\t\t\t\tvar msg = \"创建成功\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmsg = \"更新成功\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setGlobalVar(\"busy\", true);\r\n\t\t\t\tthis.getModel(\"catalog\").create(\"/CartSet\", sData, {\r\n\t\t\t\t\tasync: false,\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\r\n\t\t\t\t\t\tthat.getView().byId(\"ObjectId\").setText(oData.ObjectId);\r\n\t\t\t\t\t\tthat.getView().byId(\"Ernam\").setText(oData.Ernam);\r\n\r\n\t\t\t\t\t\tdebugger\r\n\t\t\t\t\t\tvar oItemData = {};\r\n\t\t\t\t\t\tvar aItem = [];\r\n\t\t\t\t\t\tfor (i = 0; i < oData.CartItemSet.results.length; i++) {\r\n\t\t\t\t\t\t\t// $.extend(oItemData, oData.CartItemSet.results[i]);\r\n\t\t\t\t\t\t\toItemData = oData.CartItemSet.results[i];\r\n\t\t\t\t\t\t\tif (oItemData.Knttp === \"A\") {\r\n\t\t\t\t\t\t\t\toItemData.Asset = oItemData.KnValue;\r\n\t\t\t\t\t\t\t} else if (oItemData.Knttp === \"K\") {\r\n\r\n\t\t\t\t\t\t\t\toItemData.Kostl = oItemData.KnValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\taItem.push(oItemData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toCartModel.setData(aItem);\r\n\r\n\t\t\t\t\t\tMessageToast.show(\"PR号\" + oData.ObjectId + msg);\r\n\r\n\t\t\t\t\t\tif (bSubmitflg) {\r\n\t\t\t\t\t\t\tvar oCartNo = that.getView().byId(\"ObjectId\").getText();\r\n\t\t\t\t\t\t\tif (oCartNo) {\r\n\t\t\t\t\t\t\t\tthat.getModel(\"catalog\").callFunction(\"/SubmitCartData\", {\r\n\t\t\t\t\t\t\t\t\t\"method\": \"POST\",\r\n\t\t\t\t\t\t\t\t\turlParameters: {\r\n\t\t\t\t\t\t\t\t\t\t\"ObjectId\": oCartNo\r\n\t\t\t\t\t\t\t\t\t}, // function import parameters\t\r\n\t\t\t\t\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t\t\t\t\tMessageToast.show(\"提交OA成功\");\r\n\t\t\t\t\t\t\t\t\t\tthat.getModel(\"catalog\").refresh();\r\n\t\t\t\t\t\t\t\t\t\tthat.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\t\t\t\t\tthat.onNavBack();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\t\t\t\t\tthat.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\t\t\t\t\tvar error = JSON.parse(oError.responseText);\r\n\t\t\t\t\t\t\t\t\t\tvar msg = error.error.message.value;\r\n\t\t\t\t\t\t\t\t\t\tMessageToast.show(\"提交失败,消息:\" && msg);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tthat.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\tvar error = JSON.parse(oError.responseText);\r\n\t\t\t\t\t\tvar msg = error.error.message.value;\r\n\t\t\t\t\t\tMessageToast.show(\"PR号创建失败,消息:\" && msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonExit: function() {\r\n\t\t\t// get the EventBus\r\n\t\t\tvar oEventBus = this.getOwnerComponent().getEventBus();\r\n\t\t\toEventBus.unsubscribe(\"applyChange\");\r\n\t\t}\r\n\t});\r\n});",
		"ZEC_CART_CREATE/controller/Catalog.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/Device\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/m/GroupHeaderListItem\"\r\n], function(BaseController, Device, JSONModel, MessageToast, Filter, FilterOperator, GroupHeaderListItem) {\r\n\t\"use strict\";\r\n\tvar oMasterModel = new JSONModel();\r\n\treturn BaseController.extend(\"ZEC_CART_CREATE.controller.Catalog\", {\r\n\r\n\t\t/**\r\n\t\t * Called when a controller is instantiated and its View controls (if available) are already created.\r\n\t\t * Can be used to modify the View before it is displayed, to bind event handlers and do other one-time initialization.\r\n\t\t * @memberOf ZEC_CART_CREATE.view.Catalog\r\n\t\t */\r\n\r\n\t\tonInit: function() {\r\n\t\t\tvar oViewModel = new JSONModel({\r\n\t\t\t\tisOpen: false\r\n\t\t\t});\r\n\t\t\tthis.getView().setModel(oViewModel, \"search\");\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"catalog\").attachPatternMatched(this._onRouteMatched, this);\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"catalogSearchDetails\").attachPatternMatched(this._onRouteMatched, this);\r\n\r\n\t\t\tthis.getOwnerComponent().getModel(\"catalog\").read(\"/Zcatalog_grpSet\", {\r\n\t\t\t\t// filters: aFilters,\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tthis.setGrpList(oData);\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oError) {}\r\n\t\t\t});\r\n\r\n\t\t\tthis.getView().setModel(oMasterModel, \"CatalogList\");\r\n\t\t\tthis.countCart();\r\n\t\t},\r\n\t\tsetGrpList: function(oData) {\r\n\t\t\tvar aData = [];\r\n\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\t\"Id\": oData.results[i].Id,\r\n\t\t\t\t\t\"Name\": oData.results[i].Name,\r\n\t\t\t\t\t\"GroupType\": oData.results[i].GroupType,\r\n\t\t\t\t\t\"Count\": oData.results[i].Count\r\n\t\t\t\t};\r\n\t\t\t\taData.push(data);\r\n\t\t\t}\r\n\t\t\toMasterModel.setData(aData);\r\n\t\t},\r\n\t\t_onRouteMatched: function(oEvent) {\r\n\t\t\t\r\n\t\t},\r\n\t\t\r\n\t\tonOpenBtn: function(oEvent) {\r\n\t\t\tthis.getView().getModel(\"search\").setProperty(\"/isOpen\", true);\r\n\r\n\t\t},\r\n\t\tonCloseBtn: function(oEvent) {\r\n\t\t\tthis.getView().getModel(\"search\").setProperty(\"/isOpen\", false);\r\n\r\n\t\t},\r\n\t\tgetGroupHeader: function(oGroup) {\r\n\t\t\tvar sTitle = \"\";\r\n\r\n\t\t\tswitch (oGroup.key) {\r\n\t\t\t\tcase \"TY\":\r\n\t\t\t\t\tsTitle = \"品类\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"LF\":\r\n\t\t\t\t\tsTitle = \"供应商\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"MF\":\r\n\t\t\t\t\tsTitle = \"制造商\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn new GroupHeaderListItem({\r\n\t\t\t\ttitle: sTitle,\r\n\t\t\t\tupperCase: false\r\n\t\t\t});\r\n\t\t},\r\n\t\tonItemPress: function(oEvent) {\r\n\r\n\t\t\tvar sId, oGroupType;\r\n\t\t\tvar aCategory, aLifnr, aManufacturer, aCategorydesc;\r\n\t\t\tvar oContext = oEvent.getSource().getBindingContext(\"CatalogList\").getObject();\r\n\t\t\tif (oContext) {\r\n\r\n\t\t\t\tsId = oContext.Id;\r\n\t\t\t\taCategorydesc = oContext.Name;\r\n\t\t\t\toGroupType = oContext.GroupType;\r\n\t\t\t}\r\n\t\t\tswitch (oGroupType) {\r\n\t\t\t\tcase \"TY\":\r\n\t\t\t\t\taCategory = sId;\r\n\t\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"catalogSearchDetails\", {\r\n\t\t\t\t\t\t\"?query\": {\r\n\t\t\t\t\t\t\tCategory: aCategory,\r\n\t\t\t\t\t\t\tCategorydesc: encodeURIComponent(aCategorydesc) //转换“/”\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"LF\":\r\n\t\t\t\t\taLifnr = sId;\r\n\t\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"catalogSearchDetails\", {\r\n\t\t\t\t\t\t\"?query\": {\r\n\t\t\t\t\t\t\tLifnr: aLifnr\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"MF\":\r\n\t\t\t\t\taManufacturer = sId;\r\n\t\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"catalogSearchDetails\", {\r\n\t\t\t\t\t\t\"?query\": {\r\n\t\t\t\t\t\t\tManufacturer: aManufacturer\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonDisplayCart: function(oEvent) {\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().navTo(\"cart\");\r\n\r\n\t\t},\r\n\t\tonSearchAll: function(oEvent) {\r\n\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\r\n\t\t\tif (sQuery && sQuery.length > 0) {\r\n\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"catalogSearchDetails\", {\r\n\t\t\t\t\t\"?query\": {\r\n\t\t\t\t\t\tSearchField: sQuery\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.getOwnerComponent().getRouter().navTo(\"catalog\");\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t/**\r\n\t\t * Similar to onAfterRendering, but this hook is invoked before the controller's View is re-rendered\r\n\t\t * (NOT before the first rendering! onInit() is used for that one!).\r\n\t\t * @memberOf ZEC_CART_CREATE.view.Catalog\r\n\t\t */\r\n\t\t\tonBeforeRendering: function() {\r\n\t\tdebugger\r\n\t\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when the View has been rendered (so its HTML is part of the document). Post-rendering manipulations of the HTML could be done here.\r\n\t\t * This hook is the same one that SAPUI5 controls get after being rendered.\r\n\t\t * @memberOf ZEC_CART_CREATE.view.Catalog\r\n\t\t */\r\n\t\t\tonAfterRendering: function() {\r\n\t\t\t\tdebugger\r\n\t\t\t},\r\n\r\n\t\t/**\r\n\t\t * Called when the Controller is destroyed. Use this one to free resources and finalize activities.\r\n\t\t * @memberOf ZEC_CART_CREATE.view.Catalog\r\n\t\t */\r\n\t\tonExit: function() {\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"ZEC_CART_CREATE/controller/CatalogDetailPages.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\"\r\n], function(BaseController, JSONModel) {\r\n\t\"use strict\";\r\n\tvar oProductsModel = new JSONModel();\r\n\treturn BaseController.extend(\"ZEC_CART_CREATE.controller.CatalogDetailPages\", {\r\n\t\tonInit: function() {\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"catalog\").attachPatternMatched(this._onRouteMatched, this);\r\n\t\t\t// var iPagesCount = 1;\r\n\t\t\t// if (Device.system.desktop) {\r\n\t\t\t// \tiPagesCount = 3;\r\n\t\t\t// } else if (Device.system.tablet) {\r\n\t\t\t// \tiPagesCount = 2;\r\n\t\t\t// }\r\n\t\t\t// var oSettingsModel = new JSONModel({\r\n\t\t\t// \tpagesCount: iPagesCount\r\n\t\t\t// });\r\n\t\t\t// // oProductsModel.setSizeLimit(6);\r\n\r\n\t\t\t// this.getView().setModel(oSettingsModel, \"settings\");\r\n\t\t\tthis.getView().setModel(oProductsModel, \"products\");\r\n\t\t},\r\n\t\t_onRouteMatched: function(oEvent) {\r\n\r\n\t\t\tthis.getModel(\"catalog\").read(\"/ZcatalogSet\", {\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tvar aProducts = [];\r\n\t\t\t\t\tvar oProduct;\r\n\t\t\t\t\tvar Path = window.location.origin;\r\n\t\t\t\t\tif (Path.indexOf(\"localhost\") !== -1) {\r\n\t\t\t\t\t\tPath = \"http:///srmdevapp.kingfa.com.cn:8800\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oData.results) {\r\n\r\n\t\t\t\t\t\tfor (var i in oData.results) {\r\n\r\n\t\t\t\t\t\t\t// var Url = \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='1',Lifnr='\" + oData.results[i].Lifnr + \"',Matnr='\" + oData.results[i].Matnr +\r\n\t\t\t\t\t\t\t// \t\t\"'')/$value\";\r\n\r\n\t\t\t\t\t\t\tif (oData.results[i].Matnr !== undefined && oData.results[i].Matnr !== \"\") {\r\n\t\t\t\t\t\t\t\tvar Url = Path + \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='',Lifnr='\" + oData.results[i].Lifnr +\r\n\t\t\t\t\t\t\t\t\t\"',Matnr='\" + oData.results[i].Matnr +\r\n\t\t\t\t\t\t\t\t\t\"',ZimageDesc='1')/$value\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tUrl = Path + \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='\" + oData.results[i].Guid +\r\n\t\t\t\t\t\t\t\t\t\"',Lifnr='',Matnr='',ZimageDesc='1')/$value\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\toProduct = {\r\n\t\t\t\t\t\t\t\tProductId: oData.results[i].Matnr,\r\n\t\t\t\t\t\t\t\tDescription: oData.results[i].Maktx,\r\n\t\t\t\t\t\t\t\tSupplierName: oData.results[i].NameGp,\r\n\t\t\t\t\t\t\t\tCategory: oData.results[i].ZcommodityDes,\r\n\t\t\t\t\t\t\t\tMeins: oData.results[i].Meins,\r\n\t\t\t\t\t\t\t\tNetpr: oData.results[i].Netpr,\r\n\t\t\t\t\t\t\t\tWaers: oData.results[i].Waers,\r\n\t\t\t\t\t\t\t\tDeliveryDay: oData.results[i].DeliveryDay,\r\n\t\t\t\t\t\t\t\tPeinh: oData.results[i].Peinh,\r\n\t\t\t\t\t\t\t\tQuantity: 0,\r\n\t\t\t\t\t\t\t\tDmbtr: 0,\r\n\t\t\t\t\t\t\t\tProductPicUrl: Url\r\n\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\taProducts.push(oProduct);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\toProductsModel.setData(aProducts);\r\n\r\n\t\t\t\t\t// that.setGlobalVar(\"busy\", false);\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t// that.setGlobalVar(\"busy\", false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// var aCategory, aLifnr, aManufacturer;\r\n\t\t\t// aCategory = oEvent.getParameter(\"arguments\").aCategory;\r\n\t\t\t// aLifnr = oEvent.getParameter(\"arguments\").aLifnr;\r\n\t\t\t// aManufacturer = oEvent.getParameter(\"arguments\").aManufacturer;\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n});",
		"ZEC_CART_CREATE/controller/App.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\"\r\n], function(Controller, JSONModel) {\r\n\t\"use strict\";\r\n\r\n\treturn Controller.extend(\"ZEC_CART_CREATE.controller.App\", {\r\n\tonInit: function() {\r\n\t\t\tvar oViewModel,\r\n\t\t\t\tfnSetAppNotBusy,\r\n\t\t\t\tiOriginalBusyDelay = this.getView().getBusyIndicatorDelay();\r\n\r\n\t\t\toViewModel = new JSONModel({\r\n\t\t\t\tbusy: true,\r\n\t\t\t\tdelay: 0\r\n\t\t\t});\r\n\t\t\tthis.setModel(oViewModel, \"appView\");\r\n\r\n\t\t\tfnSetAppNotBusy = function() {\r\n\t\t\t\toViewModel.setProperty(\"/busy\", false);\r\n\t\t\t\toViewModel.setProperty(\"/delay\", iOriginalBusyDelay);\r\n\t\t\t};\r\n\t\t\tthis._oODataModel = this.getOwnerComponent().getModel();\r\n\t\t\tthis._oODataModel.setDeferredGroups([\"batch\"]);\r\n\t\t\t// disable busy indication when the metadata is loaded and in case of errors\r\n\t\t\tthis._oODataModel.metadataLoaded().then(fnSetAppNotBusy);\r\n\t\t\tthis._oODataModel.attachMetadataFailed(fnSetAppNotBusy);\r\n\t\t\t// apply content density mode to root view\r\n\t\t\t// this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());\r\n\t\t\t\r\n\t\t}\r\n\t});\r\n});",
		"ZEC_CART_CREATE/controller/RequireDetailEdit.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/odata/ODataModel\",\r\n\t\"ZEC_CART_CREATE/utils/Validator\",\r\n\t\"ZEC_CART_CREATE/utils/ValueHelpHelper\"\r\n], function(BaseController, JSONModel, MessageToast, Filter, ODataModel, Validator, ValueHelpHelper) {\r\n\t\"use strict\";\r\n\t// var editItem = [];\r\n\tvar jsonmodel = new JSONModel();\r\n\treturn BaseController.extend(\"ZEC_CART_CREATE.controller.RequireDetailEdit\", {\r\n\t\tonInit: function() {\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"requireEdit\").attachPatternMatched(this._onRequestEditMatched, this);\r\n\t\t\tthis.getView().setModel(jsonmodel, \"RequireDetailEdit\");\r\n\t\t},\r\n\t\t_onRequestEditMatched: function(oEvent) {\r\n\r\n\t\t\t// editItem = {};\r\n\r\n\t\t\tvar sCurDat = new Date();\r\n\t\t\tvar sCurrentData = {};\r\n\t\t\t$.extend(sCurrentData, sap.ui.getCore().edititem);\r\n\r\n\t\t\t// var oEkgrp = this.getView().byId(\"EKGRP\");\r\n\t\t\t// oEkgrp.getBinding(\"items\").attachEventOnce(\r\n\t\t\t// \t\"dataReceived\",\r\n\t\t\t// \tfunction(oData) {\r\n\t\t\t// \t\tvar oFirstListItem = oEkgrp.getItems()[0];\r\n\t\t\t// \t\tif (oFirstListItem) {\r\n\t\t\t// \t\t\toEkgrp.setSelectedItem(oFirstListItem);\r\n\t\t\t// \t\t\toEkgrp.setEditable(false);\r\n\t\t\t// \t\t} else {\r\n\t\t\t// \t\t\toEkgrp.setEditable(true);\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\t\t\t// );\r\n\t\t\t// if (!sCurrentData.Ekgrp) {\r\n\t\t\t// \tif (oEkgrp.getItems() && oEkgrp.getItems()[0]) {\r\n\t\t\t// \t\tsCurrentData.Ekgrp = oEkgrp.getItems()[0].getKey();\r\n\t\t\t// \t\toEkgrp.setSelectedItem(oEkgrp.getItems()[0]);\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\r\n\t\t\t// if (oEkgrp._lastValue !== \"\") {\r\n\t\t\t// \tsCurrentData.Ekgrp = oEkgrp.getSelectedKey();\r\n\t\t\t// } else {\r\n\t\t\t// \tsCurrentData.Ekgrp = sCurrentData.Ekgrp;\r\n\t\t\t// }\r\n\r\n\t\t\tif(sCurrentData.Ekgrp){\r\n\t\t\t\tthis.getView().byId(\"EKGRP\").setEditable(false);\r\n\t\t\t}\r\n\r\n\t\t\tif (!sCurrentData.Knttp) {\r\n\t\t\t\tsCurrentData.Knttp = \"I\";\r\n\t\t\t}\r\n\r\n\t\t\tif (!sCurrentData.DelivDate) {\r\n\t\t\t\tsCurrentData.DelivDate = sCurDat;\r\n\t\t\t}\r\n\r\n\t\t\tjsonmodel.setData(sCurrentData);\r\n\r\n\t\t\tthis.setFieldAttr(sCurrentData.Knttp);\r\n\t\t\tif (this.getGlobalVar(\"Bsart\") === \"KF30\") {\r\n\t\t\t\tthis.setFieldAttr(\"A\");\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setSelectedKey(\"A\");\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setEditable(false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setEditable(true);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t// onMengeChange: function(oEvent) {\r\n\t\t// \tvar sValue = oEvent.getSource().getValue();\r\n\r\n\t\t// \tvar oDetail = this.getModel(\"RequireDetailEdit\").getData();\r\n\t\t// \tvar s      \r\n\t\t// \tthis.getModel(\"RequireDetailEdit\").setProperty(\"Lgort\", null);\r\n\t\t// },\r\n\t\thandleChangeKnttp: function(oEvent) {\r\n\t\t\tvar oKey = oEvent.getParameter(\"selectedItem\").getProperty(\"key\");\r\n\t\t\tthis.setFieldAttr(oKey);\r\n\t\t},\r\n\r\n\t\thandleLgortValueHelp: function(oEvent) {\r\n\r\n\t\t\tvar oSource = oEvent.getSource();\r\n\r\n\t\t\tvar oModel = this.getView().getModel(\"catalog\");\r\n\t\t\tvar sWerks = this.getView().byId(\"WERKS\").getSelectedKey();\r\n\t\t\tvar sPath = \"ZshLgortSet\";\r\n\t\t\t// var sPath = \"ZshLgortSet( '\" + sWerks + \"')\";\r\n\t\t\tvar aFilters = [];\r\n\t\t\taFilters = [\r\n\t\t\t\tnew Filter(\"Werks\", sap.ui.model.FilterOperator.EQ, sWerks)\r\n\t\t\t];\r\n\r\n\t\t\tthis.valuehelp = new ValueHelpHelper(oModel);\r\n\t\t\tthis.valuehelp.excludeFilters([\"Werks\"]);\r\n\t\t\tthis.valuehelp.excludeColumns([\"Werks\"]);\r\n\t\t\tthis.valuehelp.initFilters(aFilters);\r\n\t\t\tthis.valuehelp.openValueHelp(sPath, \"Lgort\", \"LgortTxt\",\r\n\r\n\t\t\t\tfunction(k, t, oItem) {\r\n\r\n\t\t\t\t\toSource.setValue(k);\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\tsetFieldAttr: function(oKey) {\r\n\t\t\t// var sCurrentData = sap.ui.getCore().edititem;\r\n\t\t\tswitch (oKey) {\r\n\t\t\t\tcase \"A\":\r\n\t\t\t\t\tthis.getView().byId(\"Label_Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setValue(\"\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.getView().byId(\"Label_Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setValue(\"\");\r\n\r\n\t\t\t\t\tthis.getView().byId(\"Label_Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setValue(\"\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"I\":\r\n\t\t\t\t\tthis.getView().byId(\"Label_Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setValue(\"\");\r\n\r\n\t\t\t\t\tthis.getView().byId(\"Label_Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setValue(\"\");\r\n\r\n\t\t\t\t\tthis.getView().byId(\"Label_Lgort\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setVisible(true);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"K\":\r\n\t\t\t\t\tthis.getView().byId(\"Label_Hkont\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setVisible(true);\r\n\r\n\t\t\t\t\tthis.getView().byId(\"Label_Kostl\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setVisible(true);\r\n\r\n\t\t\t\t\tthis.getView().byId(\"Label_Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setValue(\"\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonWerksChange: function(oEvent) {\r\n\r\n\t\t\tvar oLgort = this.getView().byId(\"Lgort\");\r\n\r\n\t\t\tthis.getModel(\"RequireDetailEdit\").setProperty(\"Lgort\", null);\r\n\t\t\toLgort.setValue(\"\");\r\n\r\n\t\t},\r\n\t\tonApply: function(oEvent) {\r\n\r\n\t\t\tvar validator = new Validator();\r\n\t\t\tvar oChkContrl = this.byId(\"CheckLayout\");\r\n\t\t\tif (validator.validate(oChkContrl)) {\r\n\t\t\t\tvar sEditData = this.getView().getModel(\"RequireDetailEdit\").getData();\r\n\t\t\t\tsEditData.Knttp = this.getView().byId(\"Knttp\").getSelectedKey();\r\n\t\t\t\tvar Quantity = sEditData.Menge;\r\n\t\t\t\tif (Quantity <= 0) {\r\n\t\t\t\t\tMessageToast.show(\"行\" + sEditData.Posnr + \"数量大于等于1\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (Quantity.toString().length > 10) {\r\n\t\t\t\t\tMessageToast.show(\"行号\" + sEditData.Posnr + \"数量长度不得超过10位\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar oEventBus = this.getOwnerComponent().getEventBus();\r\n\t\t\t\toEventBus.publish(\"applyChange\", sEditData);\r\n\r\n\t\t\t\tthis.onNavBack();\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonRequireDetailNavBack: function() {\r\n\t\t\tvar sEditData = this.getView().getModel(\"RequireDetailEdit\").getData();\r\n\t\t\tthis.confirmNavBack(sEditData, sap.ui.getCore().edititem);\r\n\t\t}\r\n\t});\r\n});",
		"ZEC_CART_CREATE/controller/NotFound.controller.js": "sap.ui.define([\r\n\t\t\"ZEC_CART_CREATE/controller/BaseController\"\r\n\t], function (BaseController) {\r\n\t\t\"use strict\";\r\n\r\n\t\treturn BaseController.extend(\"ZEC_CART_CREATE.controller.NotFound\", {\r\n\r\n\t\t\t/**\r\n\t\t\t * Navigates to the worklist when the link is pressed\r\n\t\t\t * @public\r\n\t\t\t */\r\n\t\t\tonLinkPressed : function () {\r\n\t\t\t\tthis.getRouter().navTo(\"ywlx\");\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t}\r\n);",
		"ZEC_CART_CREATE/controller/CatalogSearchDetails.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/ui/core/Fragment\",\r\n\t\"sap/ui/core/routing/History\"\r\n], function(BaseController, JSONModel, MessageToast, Filter, FilterOperator, Fragment, History) {\r\n\t\"use strict\";\r\n\tvar oProductsModel = new JSONModel();\r\n\tvar searchall;\r\n\treturn BaseController.extend(\"ZEC_CART_CREATE.controller.CatalogSearchDetails\", {\r\n\t\tonInit: function() {\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"catalogSearchDetails\").attachPatternMatched(this._onRouteMatched, this);\r\n\r\n\t\t\t// this.getView().byId(\"Table\").attachItemPress(this.handleItemPress, this);\r\n\r\n\t\t\tthis.getView().setModel(oProductsModel, \"products\");\r\n\r\n\t\t},\r\n\t\t// current value or min/max values change handler\r\n\t\tcurrentChangeHandler: function() {\r\n\r\n\t\t\tvar sValue = 0,\r\n\t\t\t\tsTabix = 0;\r\n\t\t\tvar oCartModel = this.getView().getModel(\"ShopCart\");\r\n\t\t\tif (oCartModel) {\r\n\t\t\t\tvar oCart = oCartModel.getData();\r\n\t\t\t\tif (oCart) {\r\n\t\t\t\t\tvar oButtonBadgeCustomData = this.byId(\"cartButton\").getBadgeCustomData();\r\n\t\t\t\t\toCart.forEach(function(item, index, arr) {\r\n\t\t\t\t\t\tsTabix = sTabix + 1;\r\n\t\t\t\t\t\tsValue = sTabix;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (!oButtonBadgeCustomData) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\toButtonBadgeCustomData.setValue(sValue.toString());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\t_onRouteMatched: function(oEvent) {\r\n\r\n\t\t\tthis.byId(\"Table\").removeSelections();\r\n\r\n\t\t\tthis.getFilterData(oEvent);\r\n\r\n\t\t},\r\n\t\tgetFilterData: function(oEvent) {\r\n\r\n\t\t\tvar aCategory, aCategorydesc, aLifnr, aManufacturer, aSearchField, aFilters = [];\r\n\t\t\tvar arr1, arr2, arr3, arr4, arr5;\r\n\t\t\tvar aTitle;\r\n\t\t\tif (oEvent.getParameter(\"arguments\")[\"?query\"]) {\r\n\r\n\t\t\t\taCategory = oEvent.getParameter(\"arguments\")[\"?query\"].Category;\r\n\t\t\t\taCategorydesc = decodeURIComponent(oEvent.getParameter(\"arguments\")[\"?query\"].Categorydesc);\r\n\t\t\t\taLifnr = oEvent.getParameter(\"arguments\")[\"?query\"].Lifnr;\r\n\t\t\t\taManufacturer = oEvent.getParameter(\"arguments\")[\"?query\"].Manufacturer;\r\n\t\t\t\taSearchField = oEvent.getParameter(\"arguments\")[\"?query\"].SearchField;\r\n\r\n\t\t\t\tif (aSearchField !== undefined) {\r\n\t\t\t\t\tvar sQuery = aSearchField;\r\n\t\t\t\t\taFilters = [\r\n\t\t\t\t\t\tnew Filter(\"Matnr\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\t\tnew Filter(\"Maktx\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\t\tnew Filter(\"ZcommodityDes\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\t\tnew Filter(\"Lifnr\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\t\tnew Filter(\"NameGp\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\t\tnew Filter(\"Zstatus\", sap.ui.model.FilterOperator.EQ, \"1\"),\r\n\t\t\t\t\t\tnew Filter(\"Zflag\", sap.ui.model.FilterOperator.EQ, true) //判断是否全局搜索\r\n\t\t\t\t\t];\r\n\t\t\t\t\tthis.getView().byId(\"searchDetailsPage\").setTitle(arr4);\r\n\t\t\t\t\tsearchall = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (aCategory !== \"undefined\" && aCategory !== undefined) {\r\n\t\t\t\t\t\tarr1 = aCategory.split(\",\");\r\n\t\t\t\t\t\taTitle = \"类别\" + \"-\" + aCategory;\r\n\t\t\t\t\t\tthis.getView().byId(\"searchDetailsPage\").setTitle(aTitle);\r\n\t\t\t\t\t\tfor (var i = 0; i < arr1.length; i++) {\r\n\t\t\t\t\t\t\taFilters.push(new Filter(\"ZcommodityId\", FilterOperator.EQ, arr1[i]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (aCategorydesc !== \"undefined\" && aCategorydesc !== undefined) {\r\n\t\t\t\t\t\tarr5 = aCategorydesc.split(\",\");\r\n\t\t\t\t\t\taTitle = \"类别名称\" + \"-\" + aCategorydesc;\r\n\t\t\t\t\t\tthis.getView().byId(\"searchDetailsPage\").setTitle(aTitle);\r\n\t\t\t\t\t\tfor (var i = 0; i < arr5.length; i++) {\r\n\t\t\t\t\t\t\taFilters.push(new Filter(\"ZcommodityDes\", FilterOperator.EQ, arr5[i]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (aLifnr !== \"undefined\" && aLifnr !== undefined) {\r\n\t\t\t\t\t\tarr2 = aLifnr.split(\",\");\r\n\t\t\t\t\t\taTitle = \"供应商\" + \"-\" + aLifnr;\r\n\t\t\t\t\t\tthis.getView().byId(\"searchDetailsPage\").setTitle(aTitle);\r\n\t\t\t\t\t\tfor (var i = 0; i < arr2.length; i++) {\r\n\t\t\t\t\t\t\taFilters.push(new Filter(\"Lifnr\", FilterOperator.EQ, arr2[i]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (aManufacturer !== \"undefined\" && aManufacturer !== undefined) {\r\n\t\t\t\t\t\tarr3 = aManufacturer.split(\",\");\r\n\t\t\t\t\t\taTitle = \"制造商\" + \"-\" + aManufacturer;\r\n\t\t\t\t\t\tthis.getView().byId(\"searchDetailsPage\").setTitle(aTitle);\r\n\t\t\t\t\t\tfor (var i = 0; i < arr3.length; i++) {\r\n\t\t\t\t\t\t\taFilters.push(new Filter(\"ZmanuName\", FilterOperator.EQ, arr3[i]));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\taFilters.push(new Filter(\"Zstatus\", FilterOperator.EQ, \"1\"));\r\n\t\t\t\t\taFilters.push(new Filter(\"ZdescKey\", FilterOperator.EQ, \"1\")); //As flag for get Products based on purchase org\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._readCatalogSet(aFilters);\r\n\r\n\t\t},\r\n\r\n\t\t_readCatalogSet: function(aFilters) {\r\n\t\t\tthis.setGlobalVar(\"busy\", true);\r\n\t\t\tthis.getModel(\"catalog\").read(\"/ZcatalogSet\", {\r\n\t\t\t\tfilters: aFilters,\r\n\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\tvar aProducts = [];\r\n\t\t\t\t\tvar oProduct;\r\n\t\t\t\t\tvar Path = window.location.origin;\r\n\t\t\t\t\tif (Path.indexOf(\"localhost\") !== -1) {\r\n\t\t\t\t\t\tPath = \"http:///srmdevapp.kingfa.com.cn:8800\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (oData.results) {\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t\tvar Peinhval = parseInt(oData.results[i].Peinh, 10);\r\n\r\n\t\t\t\t\t\t\tif (oData.results[i].Matnr !== undefined && oData.results[i].Matnr !== \"\") {\r\n\t\t\t\t\t\t\t\tvar Url = Path + \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='',Lifnr='\" + oData.results[i].Lifnr +\r\n\t\t\t\t\t\t\t\t\t\"',Matnr='\" + oData.results[i].Matnr + \"',ZimageDesc='1')/$value\";\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tUrl = Path + \"/sap/opu/odata/SAP/ZPO_ZCATELOG_MAINTAIN_SRV/ZCATELOG_IMAGESet(ZcatelogId='\" + oData.results[i].Guid +\r\n\t\t\t\t\t\t\t\t\t\"',Lifnr='',Matnr='',ZimageDesc='1')/$value\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\toProduct = {\r\n\t\t\t\t\t\t\t\tProductId: oData.results[i].Matnr,\r\n\t\t\t\t\t\t\t\tDescription: oData.results[i].Maktx,\r\n\t\t\t\t\t\t\t\tGuid: oData.results[i].Guid,\r\n\t\t\t\t\t\t\t\tLifnr: oData.results[i].Lifnr,\r\n\t\t\t\t\t\t\t\tLifnrNam: oData.results[i].NameGp,\r\n\t\t\t\t\t\t\t\tCategoryId: oData.results[i].ZcommodityId,\r\n\t\t\t\t\t\t\t\tMatkl: oData.results[i].Matkl,\r\n\t\t\t\t\t\t\t\tCategoryTxt: oData.results[i].ZcommodityDes,\r\n\t\t\t\t\t\t\t\tMeins: oData.results[i].Meins,\r\n\t\t\t\t\t\t\t\tNetpr: oData.results[i].Netpr,\r\n\t\t\t\t\t\t\t\tWaers: oData.results[i].Waers,\r\n\t\t\t\t\t\t\t\tQuantity: 1,\r\n\t\t\t\t\t\t\t\tPeinh: Peinhval,\r\n\t\t\t\t\t\t\t\tDmbtr: 0,\r\n\t\t\t\t\t\t\t\tProductPicUrl: Url,\r\n\t\t\t\t\t\t\t\tEkorg: oData.results[i].Ekorg\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\taProducts.push(oProduct);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// this.getView().getModel(\"products\").setData(aProducts);\r\n\t\t\t\t\t// that.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\toProductsModel.setData(aProducts);\r\n\t\t\t\t\t// oProductsModel.refresh();\r\n\t\t\t\t}.bind(this),\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t}.bind(this)\r\n\t\t\t});\r\n\r\n\t\t\t// var oBinding = this.byId(\"Table\").getBinding(\"items\");\r\n\t\t\t// oBinding.filter(aFilters, \"Application\");\r\n\r\n\t\t},\r\n\t\tonUpdateFinished: function(oEvent) {\r\n\r\n\t\t\tvar aFilter = [];\r\n\r\n\t\t\t// var sQuery = this.getView().byId(\"search\").getValue();\r\n\r\n\t\t\tvar currentlyLoadedNumber = oEvent.getParameter(\"actual\");\r\n\t\t\tthis.getView().byId(\"Title\").setText(\"找到\" + currentlyLoadedNumber + \"个项目\");\r\n\t\t\tvar oContext = this.byId(\"Table\").getBinding(\"items\").getCurrentContexts();\r\n\t\t\tif (oContext.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < oContext.length; i++) {\r\n\t\t\t\t\tvar oItem = oContext[i].getProperty();\r\n\t\t\t\t\toItem.Dmbtr = parseFloat(oItem.Quantity * oItem.Netpr / oItem.Peinh).toFixed(2);\r\n\t\t\t\t\taFilter.push(new Filter(\"Guid\", FilterOperator.EQ, oItem.Guid));\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.getView().getModel(\"products\").refresh();\r\n\r\n\t\t\tif (searchall === true) {\r\n\t\t\t\t// var that = this;\r\n\t\t\t\t// var oModel = this.getView().getParent().getParent().getMasterPages()[0].getModel(\"CatalogList\");\r\n\t\t\t\tsearchall = false;\r\n\t\t\t\tthis.setGlobalVar(\"busy\", true);\r\n\t\t\t\tthis.getModel(\"catalog\").read(\"/Zcatalog_grpSet\", {\r\n\t\t\t\t\tfilters: aFilter,\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\tthis.getParentView(this.getView()).getController().setGrpList(oData);\r\n\t\t\t\t\t\t// var sData = [];\r\n\t\t\t\t\t\t// for (var i = 0; i < oData.results.length; i++) {\r\n\t\t\t\t\t\t// \tvar data = {\r\n\t\t\t\t\t\t// \t\t\"Id\": oData.results[i].Id,\r\n\t\t\t\t\t\t// \t\t\"Name\": oData.results[i].Name,\r\n\t\t\t\t\t\t// \t\t\"GroupType\": oData.results[i].GroupType,\r\n\t\t\t\t\t\t// \t\t\"Count\": oData.results[i].Count\r\n\t\t\t\t\t\t// \t};\r\n\t\t\t\t\t\t// \tsData.push(data);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// var oPoDetialModel = new JSONModel(sData);\r\n\t\t\t\t\t\t// that.getView().getParent().getParent().getMasterPages()[0].setModel(oPoDetialModel, \"CatalogList\");\r\n\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonAddCart: function(oEvent) {\r\n\r\n\t\t\tvar aSelectedItems = this.byId(\"Table\").getSelectedItems();\r\n\t\t\tvar _oResourceBundle = this.getResourceBundle();\r\n\t\t\tvar iLength = aSelectedItems.length;\r\n\t\t\tif (iLength > 0) {\r\n\t\t\t\tfor (var i = 0; i < aSelectedItems.length; i++) {\r\n\t\t\t\t\t// aData = aSelectedItems[i].getBindingContext(\"products\").getData();\r\n\t\t\t\t\t// aData = aSelectedItems[i].getBindingContext(\"products\").getObject();\r\n\t\t\t\t\tvar aData = {};\r\n\t\t\t\t\t$.extend(aData, aSelectedItems[i].getBindingContext(\"products\").getObject());\r\n\t\t\t\t\t// var Quantity = parseInt(aData.Quantity);\r\n\t\t\t\t\t// var Quantity2 ;\r\n\t\t\t\t\t// var Peinh =\tparseInt(aData.Peinh);\r\n\t\t\t\t\tif (aData.Quantity === \"0\") {\r\n\t\t\t\t\t\tMessageToast.show(\"添加商品数量不允许为空\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar oGuid = new sap.ui.model.odata.type.Guid();\r\n\t\t\t\t\t\tvar sItem = {\r\n\t\t\t\t\t\t\tCatalogGuid: oGuid.parseValue(aData.Guid.toLowerCase(), \"string\"),\r\n\t\t\t\t\t\t\tCategoryId: aData.CategoryId,\r\n\t\t\t\t\t\t\tCategoryTxt: aData.CategoryTxt,\r\n\t\t\t\t\t\t\tProductId: aData.ProductId,\r\n\t\t\t\t\t\t\tDescription: aData.Description,\r\n\t\t\t\t\t\t\tValue: aData.Dmbtr.toString(),\r\n\t\t\t\t\t\t\tEkorg: aData.Ekorg,\r\n\t\t\t\t\t\t\tLifnr: aData.Lifnr,\r\n\t\t\t\t\t\t\tLifnrNam: aData.LifnrNam,\r\n\t\t\t\t\t\t\tMatkl: aData.Matkl,\r\n\t\t\t\t\t\t\tMeins: aData.Meins,\r\n\t\t\t\t\t\t\tMenge: aData.Quantity.toString(),\r\n\t\t\t\t\t\t\tNetpr: aData.Netpr,\r\n\t\t\t\t\t\t\tWaers: aData.Waers,\r\n\t\t\t\t\t\t\tPeinh: aData.Peinh.toString()\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tthis.getModel().create(\"/ZCDS_I_CART\", sItem, {\r\n\t\t\t\t\t\t\tasync: false,\r\n\t\t\t\t\t\t\tgroupId: \"batch\",\r\n\t\t\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t\t\tthis.countCart();\r\n\t\t\t\t\t\t\t\t// debugger\r\n\t\t\t\t\t\t\t\t// // that.getView().byId(\"ObjectId\").setText(oData.ObjectId);\r\n\t\t\t\t\t\t\t\t// // that.getView().byId(\"Ernam\").setText(oData.Ernam);\r\n\t\t\t\t\t\t\t\t// MessageToast.show(\"PR号\" + oData.ObjectId);\r\n\t\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\t\terror: function(oError) {\r\n\r\n\t\t\t\t\t\t\t\t// var error = JSON.parse(oError.responseText);\r\n\t\t\t\t\t\t\t\t// var msg = error.error.message.value;\r\n\t\t\t\t\t\t\t\t// MessageToast.show(\"PR号创建失败,消息:\" && msg);\r\n\t\t\t\t\t\t\t}.bind(this)\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.setGlobalVar(\"busy\", true);\r\n\t\t\t\tthis.getModel().submitChanges({\r\n\t\t\t\t\tgroupId: \"batch\",\r\n\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t\tif (oData.__batchResponses[0].__changeResponses) {\r\n\t\t\t\t\t\t\tif (iLength === oData.__batchResponses[0].__changeResponses.length) {\r\n\t\t\t\t\t\t\t\tMessageToast.show(_oResourceBundle.getText(\"mCarCreScuess\", iLength));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tMessageToast.show(oData.__batchResponses[0].message);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tthis.setGlobalVar(\"busy\", false);\r\n\t\t\t\t\t}.bind(this)\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonChange: function(oEvent) {\r\n\t\t\tvar data = oEvent.getSource().getParent().getBindingContext(\"products\").getObject();\r\n\t\t\tdata.Dmbtr = data.Quantity * data.Netpr / data.Peinh;\r\n\t\t},\r\n\r\n\t\tonSearch: function(oEvent) {\r\n\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\t\t\t// sQuery.replace(//g, \"\");\r\n\t\t\tvar aFilters1, aFilters2, aFilters3, aFilters4, aFilters5;\r\n\t\t\tvar oFilterGroup1;\r\n\r\n\t\t\tif (sQuery && sQuery.length > 0) {\r\n\t\t\t\taFilters1 = new Filter(\"ProductId\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\t\taFilters2 = new Filter(\"Description\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\t\taFilters3 = new Filter(\"Lifnr\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\t\taFilters4 = new Filter(\"LifnrNam\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\t\taFilters5 = new Filter(\"CategoryTxt\", sap.ui.model.FilterOperator.Contains, sQuery);\r\n\t\t\t\toFilterGroup1 = new Filter([aFilters1, aFilters2, aFilters3, aFilters4, aFilters5], false);\r\n\t\t\t}\r\n\r\n\t\t\tvar oBinding = this.byId(\"Table\").getBinding(\"items\");\r\n\t\t\toBinding.filter(oFilterGroup1, \"Application\");\r\n\r\n\t\t},\r\n\t\tonSearchAll: function(oEvent) {\r\n\r\n\t\t\tvar sQuery = oEvent.getParameter(\"query\");\r\n\t\t\tvar aFilters = [];\r\n\t\t\tsearchall = true;\r\n\t\t\tif (sQuery && sQuery.length > 0) {\r\n\r\n\t\t\t\taFilters = [\r\n\t\t\t\t\tnew Filter(\"ProductId\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\tnew Filter(\"Description\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\tnew Filter(\"CategoryTxt\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\tnew Filter(\"Lifnr\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\tnew Filter(\"NameGp\", sap.ui.model.FilterOperator.Contains, sQuery),\r\n\t\t\t\t\tnew Filter(\"Zstatus\", sap.ui.model.FilterOperator.EQ, \"1\"),\r\n\t\t\t\t\tnew Filter(\"Zflag\", sap.ui.model.FilterOperator.EQ, true) //判断是否全局搜索\r\n\t\t\t\t];\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\taFilters = [\r\n\t\t\t\t\tnew Filter(\"Zstatus\", sap.ui.model.FilterOperator.EQ, \"1\")\r\n\t\t\t\t];\r\n\t\t\t\t// aFilters = aFilters_gb;\r\n\t\t\t}\r\n\r\n\t\t\tthis._readCatalogSet(aFilters);\r\n\r\n\t\t}\r\n\r\n\t});\r\n});",
		"ZEC_CART_CREATE/controller/BatchEdit.controller.js": "sap.ui.define([\r\n\t\"ZEC_CART_CREATE/controller/BaseController\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/m/MessageToast\",\r\n\t\"sap/ui/core/routing/History\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"ZEC_CART_CREATE/utils/Validator\",\r\n\t\"ZEC_CART_CREATE/utils/ValueHelpHelper\"\r\n], function(BaseController, JSONModel, MessageToast, History, Filter, Validator, ValueHelpHelper) {\r\n\t\"use strict\";\r\n\tvar batchModel = new JSONModel();\r\n\treturn BaseController.extend(\"ZEC_PO_CATALOG.controller.BatchEdit\", {\r\n\t\tonInit: function() {\r\n\r\n\t\t\tthis.getOwnerComponent().getRouter().getRoute(\"batchEdit\").attachPatternMatched(this._onRequestEditMatched, this);\r\n\r\n\t\t\tthis.getView().setModel(batchModel, \"BatchEdit\");\r\n\t\t},\r\n\t\t_onRequestEditMatched: function(oEvent) {\r\n\t\t\tbatchModel.setData({});\r\n\t\t\t// var oEkgrp = this.getView().byId(\"EKGRP\");\r\n\t\t\t// oEkgrp.getBinding(\"items\").attachEventOnce(\r\n\t\t\t// \t\"dataReceived\",\r\n\t\t\t// \tfunction(oData) {\r\n\t\t\t// \t\tvar oFirstListItem = oEkgrp.getItems()[0];\r\n\t\t\t// \t\tif (oFirstListItem) {\r\n\t\t\t// \t\t\toEkgrp.setSelectedItem(oFirstListItem);\r\n\t\t\t// \t\t\toEkgrp.setEditable(false);\r\n\t\t\t// \t\t} else {\r\n\t\t\t// \t\t\toEkgrp.setEditable(true);\r\n\t\t\t// \t\t}\r\n\t\t\t// \t}\r\n\r\n\t\t\t// );\r\n\r\n\t\t\tif (this.getGlobalVar(\"Bsart\") === \"KF30\") {\r\n\t\t\t\tthis.setFieldAttr(\"A\");\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setSelectedKey(\"A\");\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setEditable(false);\r\n\t\t\t} else {\r\n\t\t\t\tthis.setFieldAttr(\"I\");\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setSelectedKey(\"I\");\r\n\t\t\t\tthis.getView().byId(\"Knttp\").setEditable(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleChangeKnttp: function(oEvent) {\r\n\t\t\tvar oKey = oEvent.getParameter(\"selectedItem\").getProperty(\"key\");\r\n\t\t\tthis.setFieldAttr(oKey);\r\n\t\t},\r\n\t\tsetFieldAttr: function(oKey) {\r\n\r\n\t\t\tswitch (oKey) {\r\n\t\t\t\tcase \"A\":\r\n\t\t\t\t\tthis.getView().byId(\"Label_Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Label_Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Label_Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setVisible(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"I\":\r\n\t\t\t\t\tthis.getView().byId(\"Label_Lgort\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Label_Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Label_Kostl\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setVisible(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"K\":\r\n\t\t\t\t\tthis.getView().byId(\"Label_Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Lgort\").setVisible(false);\r\n\t\t\t\t\tthis.getView().byId(\"Label_Hkont\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Hkont\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Label_Kostl\").setVisible(true);\r\n\t\t\t\t\tthis.getView().byId(\"Kostl\").setVisible(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonWerksChange: function(oEvent) {\r\n\r\n\t\t\tvar oLgort = this.getView().byId(\"Lgort\");\r\n\r\n\t\t\tthis.getModel(\"BatchEdit\").setProperty(\"Lgort\", null);\r\n\t\t\toLgort.setValue(\"\");\r\n\r\n\t\t},\r\n\t\thandleLgortValueHelp: function(oEvent) {\r\n\r\n\t\t\tvar oSource = oEvent.getSource();\r\n\t\t\tvar oModel = this.getView().getModel(\"catalog\");\r\n\t\t\tvar sWerks = this.getView().byId(\"WERKS\").getSelectedKey();\r\n\t\t\tvar sPath = \"ZshLgortSet\";\r\n\t\t\tvar aFilters = [\r\n\t\t\t\tnew Filter(\"Werks\", sap.ui.model.FilterOperator.EQ, sWerks)\r\n\t\t\t];\r\n\t\t\tthis.valuehelp = new ValueHelpHelper(oModel);\r\n\t\t\tthis.valuehelp.excludeFilters([\"Werks\"]);\r\n\t\t\tthis.valuehelp.excludeColumns([\"Werks\"]);\r\n\t\t\tthis.valuehelp.initFilters(aFilters);\r\n\t\t\tthis.valuehelp.openValueHelp(sPath, \"Lgort\", \"LgortTxt\",\r\n\t\t\t\tfunction(k, t, oItem) {\r\n\t\t\t\t\toSource.setValue(k);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\tonApply: function(oEvent) {\r\n\r\n\t\t\tvar validator = new Validator();\r\n\t\t\tvar oChkContrl = this.byId(\"CheckLayout\");\r\n\t\t\tvar sEditData = this.getView().getModel(\"BatchEdit\").getData();\r\n\t\t\tif (sEditData.Menge !== undefined) {\r\n\t\t\t\tif (isNaN(sEditData.Menge)) {\r\n\t\t\t\t\tMessageToast.show(\"数量请输入数字类型\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (sEditData.Menge.toString().length > 10) {\r\n\t\t\t\t\tMessageToast.show(\"数量长度不得超过10位\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (validator.validate(oChkContrl)) {\r\n\t\t\t\t// \tsap.m.MessageBox.show(\"确定要更新为同一数据吗？\", {\r\n\t\t\t\t// \t\ticon: sap.m.MessageBox.Icon.WARNING,\r\n\t\t\t\t// \t\ttitle: \"批量更新\",\r\n\t\t\t\t// \t\tactions: [sap.m.MessageBox.Action.OK, sap.m.MessageBox.Action.CANCEL],\r\n\t\t\t\t// \t\tonClose: function(oAction) {\r\n\t\t\t\t// \t\t\tif (oAction === sap.m.MessageBox.Action.OK) {\r\n\r\n\t\t\t\tvar oEventBus = this.getOwnerComponent().getEventBus();\r\n\t\t\t\toEventBus.publish(\"applyChange\", sEditData);\r\n\r\n\t\t\t\tthis.onNavBack();\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t}.bind(this)\r\n\t\t\t\t// \t});\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tonRequireDetailNavBack: function() {\r\n\t\t\tvar sEditData = this.getView().getModel(\"BatchEdit\").getData();\r\n\t\t\tthis.confirmNavBack(sEditData, {});\r\n\t\t}\r\n\t});\r\n});",
		"ZEC_CART_CREATE/Component.js": "sap.ui.define([\r\n\t\"sap/ui/core/UIComponent\",\r\n\t\"sap/ui/Device\",\r\n\t\"ZEC_CART_CREATE/model/models\"\r\n], function(UIComponent, Device, models) {\r\n\t\"use strict\";\r\n\r\n\treturn UIComponent.extend(\"ZEC_CART_CREATE.Component\", {\r\n\r\n\t\tmetadata: {\r\n\t\t\tmanifest: \"json\"\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * The component is initialized by UI5 automatically during the startup of the app and calls the init method once.\r\n\t\t * @public\r\n\t\t * @override\r\n\t\t */\r\n\t\tinit: function() {\r\n\t\t\t// call the base component's init function\r\n\t\t\tUIComponent.prototype.init.apply(this, arguments);\r\n\r\n\t\t\t// set message model\r\n\t\t\tthis.setModel(sap.ui.getCore().getMessageManager().getMessageModel(), \"message\");\r\n\r\n\t\t\t// set the device model\r\n\t\t\tthis.setModel(models.createDeviceModel(), \"device\");\r\n\t\t\t\r\n\t\t\t// 初始化 路由\r\n\t\t\tthis.getRouter().initialize();\r\n\t\t}\r\n\t});\r\n});",
		"ZEC_CART_CREATE/view/RequireDetailEdit.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\" controllerName=\"ZEC_CART_CREATE.controller.RequireDetailEdit\"\r\n\txmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:grid=\"sap.ui.layout.cssgrid\" xmlns:uxap=\"sap.uxap\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.ui.layout.form\">\r\n\t<uxap:ObjectPageLayout id=\"CheckLayout\" enableLazyLoading=\"false\" busy=\"{globalVar>/busy}\" busyIndicatorDelay=\"{globalVar>/delay}\"\r\n\t\tshowFooter=\"true\">\r\n\t\t<uxap:headerTitle>\r\n\t\t\t<uxap:ObjectPageHeader id=\"objectTitle\" objectTitle=\"行项目明细修改\" isObjectIconAlwaysVisible=\"false\" isObjectTitleAlwaysVisible=\"false\"\r\n\t\t\t\tisObjectSubtitleAlwaysVisible=\"false\" isActionAreaAlwaysVisible=\"false\"> \r\n\t\t\t\t<uxap:navigationBar>\r\n\t\t\t\t\t<Bar>\r\n\t\t\t\t\t\t<contentLeft>\r\n\t\t\t\t\t\t\t<Button icon=\"sap-icon://nav-back\" tooltip=\"nav-back\" press=\"onRequireDetailNavBack\"/>\r\n\t\t\t\t\t\t</contentLeft>\r\n\t\t\t\t\t</Bar>\r\n\t\t\t\t</uxap:navigationBar>\r\n\t\t\t</uxap:ObjectPageHeader>\r\n\t\t</uxap:headerTitle>\r\n\t\t<uxap:headerContent>\r\n\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t<Label text=\"行号\" labelFor=\"Posnr\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Posnr\" value=\"{ path: 'RequireDetailEdit>/Posnr' , type: 'sap.ui.model.odata.type.String' , constraints:{ isDigitSequence : true, maxLength:3}}\" editable=\"false\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"物料编码\" labelFor=\"Matnr\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Matnr\" value=\"{ path: 'RequireDetailEdit>/ProductId'}\" editable=\"false\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"描述\" labelFor=\"Maktx\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Maktx\" value=\"{ path: 'RequireDetailEdit>/Description'}\" editable=\"false\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"供应商编码\" labelFor=\"Lifnr\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Lifnr\" value=\"{ path: 'RequireDetailEdit>/Lifnr'}\" editable=\"false\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"供应商名称\" labelFor=\"Name1\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Name1\" value=\"{ path: 'RequireDetailEdit>/LifnrNam'}\" editable=\"false\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L6 M6 S6\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"物料组\" labelFor=\"Matkl\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Matkl\" value=\"{ path: 'RequireDetailEdit>/CategoryId'}\" editable=\"false\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</uxap:headerContent>\r\n\t\t<uxap:sections id=\"sections\">\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"数量-交期\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<uxap:blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t\t\t\t\t<Label text=\"数量\" labelFor=\"Menge\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Menge\" value=\"{ path: 'RequireDetailEdit>/Menge', type: 'sap.ui.model.odata.type.Decimal' ,constraints:{ scale:3 }}\" editable=\"{DetailViewModel>/isEdit}\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t<Label text=\"计量单位\" labelFor=\"Meins\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Meins\" value=\"{ path: 'RequireDetailEdit>/Meins'}\" editable=\"false\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t<Label text=\"到货日期\" labelFor=\"DelivDate\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<DatePicker id=\"DelivDate\" editable=\"{DetailViewModel>/isEdit}\" class=\"sapUiTinyMarginEnd\" change=\"onUbdatChange\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"{ path: 'RequireDetailEdit>/DelivDate',type: 'sap.ui.model.odata.type.DateTime', formatOptions: { strictParsing: true, UTC:true, pattern: 'y年M月d日', displayFormat: 'Date'} }\"\r\n\t\t\t\t\t\t\t\t\tvalueFormat=\"yyyy-MM-ddThh:mm:ss\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</DatePicker>\r\n\t\t\t\t\t\t\t\t<Label text=\"价格\" labelFor=\"Price\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Price\" value=\"{ path: 'RequireDetailEdit>/Netpr'}\" editable=\"false\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t<Label text=\"币种\" labelFor=\"Waers\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Waers\" value=\"{ path: 'RequireDetailEdit>/Waers'}\" editable=\"false\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t<Label text=\"需求跟踪人\" labelFor=\"Note\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<TextArea editable=\"{DetailViewModel>/isEdit}\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"{ path: 'RequireDetailEdit>/Note', type: 'sap.ui.model.odata.type.String' , constraints:{ maxLength:255} }\" id=\"Note\" name=\"Note\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</TextArea>\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t</uxap:blocks>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"发货\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<uxap:blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t\t\t\t\t<Label text=\"工厂\" labelFor=\"WERKS\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Werks\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshUserwerksSet', sorter: { path: 'Werks' },templateShareable:false}\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'RequireDetailEdit>/Werks', type: 'sap.ui.model.odata.type.String' }\" change=\"onWerksChange\" id=\"WERKS\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的工厂\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Werks}\" text=\"{catalog>Werks} {catalog>WerksTxt}\"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<Label text=\"采购组\" labelFor=\"EKGRP\" required=\"true\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Ekgrp\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshUserekgrpSet', sorter: { path: 'Ekgrp' },templateShareable:false}\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'RequireDetailEdit>/Ekgrp', type: 'sap.ui.model.odata.type.String' }\" id=\"EKGRP\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的采购组\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Ekgrp}\" text=\"{catalog>Ekgrp} {catalog>Znote}\"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t</uxap:blocks>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"记账\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<uxap:blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t\t\t\t\t<Label text=\"账户分配\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Select selectedKey=\"{ path: 'RequireDetailEdit>/Knttp'}\" id=\"Knttp\" name=\"Knttp\" change=\"handleChangeKnttp\" forceSelection=\"true\">\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"I\" text=\"库存\"/>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"A\" text=\"资产\"/>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"K\" text=\"成本中心\"/>\r\n\t\t\t\t\t\t\t\t\t<!--<core:ListItem key=\"P\" text=\"项目\"/>-->\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t<Label text=\"总账科目\" visible=\"false\" id=\"Label_Hkont\" labelFor=\"Hkont\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Hkont\" visible=\"false\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshAccountSet', sorter: { path: 'Saknr' },templateShareable:false}\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'RequireDetailEdit>/Hkont', type: 'sap.ui.model.odata.type.String' }\" change=\"onHkontChange\" id=\"Hkont\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的总账账户\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Saknr}\" text=\"{catalog>Saknr} {catalog>SaknrTxt} \"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<Label text=\"成本中心\" visible=\"false\" id=\"Label_Kostl\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Kostl\" visible=\"false\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshUserkostlSet', sorter: { path: 'Kostl' },templateShareable:false}\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'RequireDetailEdit>/Kostl', type: 'sap.ui.model.odata.type.String' }\" change=\"onBukrsChange\" id=\"Kostl\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的成本中心\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Kostl}\" text=\"{catalog>Kostl} {catalog>KostlTxt} \"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<Label text=\"库存地点\" visible=\"true\" id=\"Label_Lgort\" labelFor=\"Lgort\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Lgort\" value=\"{RequireDetailEdit>/Lgort}\" showValueHelp=\"true\" change=\"onLgortChange\" valueHelpOnly=\"true\"\r\n\t\t\t\t\t\t\t\t\tvalueHelpRequest=\"handleLgortValueHelp\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M1 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t</uxap:blocks>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t</uxap:sections>\r\n\t\t<uxap:footer>\r\n\t\t\t<OverflowToolbar>\r\n\t\t\t\t<Button icon=\"sap-icon://alert\" text=\"{='查看消息' + ${message>/}.length}\" visible=\"{=${message>/}.length > 0}\" press=\"onMessagePopover\"\r\n\t\t\t\t\ttype=\"Emphasized\"></Button>\r\n\t\t\t\t<Button icon=\"sap-icon://delete\" text=\"清除消息\" press=\"onClearMessage\" visible=\"{=${message>/}.length > 0}\"/>\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button text=\"确认\" press=\"onApply\" id=\"BtSave\" type=\"Emphasized\"\r\n\t\t\t\t\tvisible=\"true\"/>\r\n\t\t\t</OverflowToolbar>\r\n\t\t</uxap:footer>\r\n\t</uxap:ObjectPageLayout>\r\n\t<!--<Page showHeader=\"true\" showNavButton=\"true\" navButtonPress=\"onRequireDetailNavBack\" id=\"CheckLayout\">-->\r\n\t<!--</Page>-->\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/App.view.xml": "<mvc:View controllerName=\"ZEC_CART_CREATE.controller.App\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:mvc=\"sap.ui.core.mvc\"\r\n\tdisplayBlock=\"true\" xmlns=\"sap.m\">\r\n\t<App id=\"App\" busy=\"{appView>/busy}\" busyIndicatorDelay=\"{appView>/delay}\" class=\"sapUiSizeCompact\"/>\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/CatalogSearchDetails.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\" xmlns:table=\"sap.ui.table\"\r\n\tcontrollerName=\"ZEC_CART_CREATE.controller.CatalogSearchDetails\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.f\" xmlns:card=\"sap.f.cards\" xmlns:mc=\"sap.suite.ui.microchart\" xmlns:grid=\"sap.ui.layout.cssgrid\"\r\n\txmlns:chart=\"sap.suite.ui.microchart\">\r\n\t<Page navButtonPress=\"onNavBack\" showNavButton=\"false\" id=\"searchDetailsPage\" showHeader=\"false\" enableScrolling=\"true\">\r\n\t\t<Panel width=\"auto\" class=\"sapUiNoContentPadding\">\r\n\t\t\t<headerToolbar>\r\n\t\t\t\t<OverflowToolbar>\r\n\t\t\t\t\t<Title id=\"Title\" class=\"sapUiNoContentPadding\"/>\r\n\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t<SearchField width=\"15em\" placeholder=\"在结果中搜索\" search=\"onSearch\" id=\"resultSearch\"></SearchField>\r\n\t\t\t\t\t<Button text=\"添加到购物车\" press=\"onAddCart\" type=\"Emphasized\"></Button>\r\n\t\t\t\t</OverflowToolbar>\r\n\t\t\t</headerToolbar>\r\n\t\t\t<Table width=\"auto\" fixedLayout=\"true\" id=\"Table\" items=\"{ path: 'products>/', sorter: { path: 'ProductId', descending: false} }\"\r\n\t\t\t\tnoDataText=\"未找到数据\" mode=\"MultiSelect\" updateFinished=\".onUpdateFinished\">\r\n\t\t\t\t<columns>\r\n\t\t\t\t\t<Column id=\"Image\" width=\"4em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"图片\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"ProductId\" width=\"6em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"商品编码\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Maktx\" width=\"8em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"商品描述\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Lifnr\" width=\"8em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"供应商\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"NameGp\" width=\"8em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"供应商名称\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"CategoryId\" width=\"8em\" visible=\"false\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"类别ID\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Matkl\" width=\"8em\" visible=\"false\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"物料组\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Category\" width=\"8em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"类别\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Ekorg\" width=\"6.5em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"采购组织\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Quantity\" width=\"6em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"数量\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Meins\" width=\"4em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"单位\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Waers\" width=\"4em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"货币\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Price\" width=\"6.5em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"单价\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Peinh\" width=\"6.5em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"价格单位\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t\t<Column id=\"Dmbtr\" width=\"6.5em\">\r\n\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t<Label text=\"金额\"/>\r\n\t\t\t\t\t\t</header>\r\n\t\t\t\t\t</Column>\r\n\t\t\t\t</columns>\r\n\t\t\t\t<ColumnListItem id=\"columnListItem\" vAlign=\"Middle\">\r\n\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t<Image src=\"{products>ProductPicUrl}\" densityAware=\"false\" width=\"3rem\" height=\"3rem\" class=\"sapUiSmallMarginTopBottom\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>ProductId}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Description}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Lifnr}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>LifnrNam}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>CategoryId}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Matkl}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>CategoryTxt}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Ekorg}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Input value=\"{products>Quantity}\" change=\"onChange\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Meins}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Waers}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<!--<Text text=\"{path: 'products>Netpr'}\"/>-->\r\n\t\t\t\t\t\t<!--<Text text=\"{path: 'products>Peinh' }\"/>-->\r\n\t\t\t\t\t\t<!--<Text text=\"{products>Dmbtr}\" class=\"sapMTableContentMargin\"/>-->\r\n\t\t\t\t\t\t<ObjectNumber number=\"{products>Netpr}\" unit=\"{products>Waers}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<Text text=\"{products>Peinh}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t<ObjectNumber number=\"{products>Dmbtr}\" unit=\"{products>Waers}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t</cells>\r\n\t\t\t\t</ColumnListItem>\r\n\t\t\t</Table>\r\n\t\t</Panel>\r\n\t</Page>\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/NotFound.view.xml": "<mvc:View\r\n\tcontrollerName=\"ZEC_CART_CREATE.controller.NotFound\"\r\n\txmlns:mvc=\"sap.ui.core.mvc\"\r\n\txmlns=\"sap.m\">\r\n\r\n\t<MessagePage\r\n\t\ttitle=\"{i18n>notFoundTitle}\"\r\n\t\ttext=\"{i18n>notFoundText}\"\r\n\t\ticon=\"{sap-icon://document}\"\r\n\t\tid=\"page\"\r\n\t\tdescription=\"\">\r\n\t\t<customDescription>\r\n\t\t\t<Link id=\"link\" text=\"{i18n>backToWorklist}\" press=\"onLinkPressed\" />\r\n\t\t</customDescription>\r\n\t</MessagePage>\r\n\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/Requirements.view.xml": "<mvc:View xmlns:mvc=\"sap.ui.core.mvc\" xmlns:core=\"sap.ui.core\" xmlns:layout=\"sap.ui.layout\" xmlns=\"sap.m\" xmlns:uxap=\"sap.uxap\"\r\n\txmlns:f=\"sap.ui.layout.form\" xmlns:u=\"sap.ui.unified\" xmlns:table=\"sap.ui.table\" xmlns:l=\"sap.ui.layout\"\r\n\tcontrollerName=\"ZEC_CART_CREATE.controller.Requirements\" showNavButton=\"true\">\r\n\t<uxap:ObjectPageLayout id=\"ObjectPageLayout\" enableLazyLoading=\"false\" busy=\"{globalVar>/busy}\" busyIndicatorDelay=\"{globalVar>/delay}\"\r\n\t\tshowFooter=\"true\">\r\n\t\t<uxap:headerTitle>\r\n\t\t\t<uxap:ObjectPageDynamicHeaderTitle id=\"objectTitle\">\r\n\t\t\t\t<uxap:heading>\r\n\t\t\t\t\t<Button icon=\"sap-icon://nav-back\" tooltip=\"nav-back\" type=\"Transparent\" press=\"onNavBack\"/>\r\n\t\t\t\t</uxap:heading>\r\n\t\t\t\t<uxap:content>\r\n\t\t\t\t\t<Title text=\"抬头信息\" textAlign=\"Begin\" titleStyle=\"H1\"/>\r\n\t\t\t\t</uxap:content>\r\n\t\t\t\t<uxap:actions>\r\n\t\t\t\t\t<Button id=\"delbtn\" text=\"删除\" type=\"Transparent\" press=\"onDelete\" visible=\"{= ${RequireHead>/ObjectId}> 0}\"/>\r\n\t\t\t\t</uxap:actions>\r\n\t\t\t</uxap:ObjectPageDynamicHeaderTitle>\r\n\t\t</uxap:headerTitle>\r\n\t\t<uxap:headerContent>\r\n\t\t\t<f:SimpleForm id=\"CheckLayout\" editable=\"true\" layout=\"ResponsiveGridLayout\">\r\n\t\t\t\t<Label text=\"PR号\" labelFor=\"ObjectId\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Text id=\"ObjectId\" text=\"{ path: 'RequireHead>/ObjectId'}\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Label text=\"需求名称\" labelFor=\"Description\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"Description\" value=\"{ path: 'RequireHead>/Description' }\" required=\"true\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"公司代码\" labelFor=\"Bukrs\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Bukrs\" required=\"true\" selectedItemId=\"Bukrs\" editable=\"false\"\r\n\t\t\t\t\titems=\"{ path: 'catalog>/ZshUsercompSet', sorter: { path: 'Bukrs' },templateShareable:false}\" selectedKey=\"{ path: 'RequireHead>/Bukrs' }\"\r\n\t\t\t\t\tchange=\"onBukrsChange\" id=\"Bukrs\">\r\n\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的公司代码\"/>\r\n\t\t\t\t\t</customData>\r\n\t\t\t\t\t<core:ListItem key=\"{catalog>Bukrs}\" text=\"{catalog>Bukrs} {catalog>Butxt}\"/>\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</ComboBox>\r\n\t\t\t\t<Label text=\"采购组织\" labelFor=\"Ekorg\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Ekorg\" required=\"true\" editable=\"false\"\r\n\t\t\t\t\titems=\"{ path: 'catalog>/HT024eSet', sorter: { path: 'Ekorg' },templateShareable:false}\"\r\n\t\t\t\t\tselectedKey=\"{ path: 'RequireHead>/Ekorg', type: 'sap.ui.model.odata.type.String' }\" change=\"onEkorgChange\" id=\"Ekorg\">\r\n\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的采购组织\"/>\r\n\t\t\t\t\t</customData>\r\n\t\t\t\t\t<core:ListItem key=\"{catalog>Ekorg}\" text=\"{catalog>Ekorg} {catalog>Ekotx}\"/>\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</ComboBox>\r\n\t\t\t\t<Label text=\"业务类型\" labelFor=\"Bsart\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Bsart\" required=\"true\"\r\n\t\t\t\t\titems=\"{ path: 'catalog>/ZshPotypeSet', sorter: { path: 'Bsart' },templateShareable:false}\" editable=\"false\"\r\n\t\t\t\t\tselectedKey=\"{ path: 'RequireHead>/Bsart', type: 'sap.ui.model.odata.type.String' }\" change=\"onBsartChange\" id=\"Bsart\">\r\n\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的采购订单类型\"/>\r\n\t\t\t\t\t</customData>\r\n\t\t\t\t\t<core:ListItem key=\"{catalog>Bsart}\" text=\"{catalog>Bsart} {catalog>BsartTxt}\"/>\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</ComboBox>\r\n\t\t\t\t<Label text=\"收货联系人/联系电话\" labelFor=\"GrTel\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Input id=\"GrTel\" value=\"{ path: 'RequireHead>/GrTel' }\" required=\"true\" name=\"GrTel\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Input>\r\n\t\t\t\t<Label text=\"收货地址\" labelFor=\"GrAddr\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<TextArea enabled=\"true\" value=\"{ path: 'RequireHead>/GrAddr' }\" id=\"GrAddr\" required=\"true\" name=\"GrAddr\" width=\"100%\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</TextArea>\r\n\t\t\t\t<Label text=\"备注\" labelFor=\"Remark\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<TextArea enabled=\"true\" value=\"{ path: 'RequireHead>/Remark' }\" id=\"Remark\" name=\"Remark\" width=\"100%\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</TextArea>\r\n\t\t\t\t<Label text=\"申请人\" labelFor=\"Ernam\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Text id=\"Ernam\" text=\"{ path: 'RequireHead>/Ernam' }\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Label text=\"总计\" labelFor=\"sum\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Label>\r\n\t\t\t\t<Text id=\"sum\">\r\n\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t<l:GridData span=\"XL3 L3 M3 S12\"/>\r\n\t\t\t\t\t</layoutData>\r\n\t\t\t\t</Text>\r\n\t\t\t</f:SimpleForm>\r\n\t\t</uxap:headerContent>\r\n\t\t<uxap:sections id=\"sections\">\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"行项目信息\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<Table mode=\"MultiSelect\" width=\"auto\" fixedLayout=\"true\" id=\"PrTable\" sticky=\"ColumnHeaders,HeaderToolbar\" growingThreshold=\"2\"\r\n\t\t\t\t\t\t\titems=\"{ path: 'PrList>/', sorter: { path: 'ProductId', descending: false } }\" noDataText=\"未找到数据\">\r\n\t\t\t\t\t\t\t<headerToolbar>\r\n\t\t\t\t\t\t\t\t<OverflowToolbar id=\"otbSubheader\">\r\n\t\t\t\t\t\t\t\t\t<Title id=\"text\"/>\r\n\t\t\t\t\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t\t\t\t\t<Button id=\"batupdatebtn\" text=\"批量编辑\" press=\"onBatchUpdate\"></Button>\r\n\t\t\t\t\t\t\t\t\t<Button id=\"batdelbtn\" text=\"删除\" press=\"onMultipleDelete\"></Button>\r\n\t\t\t\t\t\t\t\t</OverflowToolbar>\r\n\t\t\t\t\t\t\t</headerToolbar>\r\n\t\t\t\t\t\t\t<columns>\r\n\t\t\t\t\t\t\t\t<Column id=\"Item\" width=\"4em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"行号\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Image\" width=\"6em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"图片\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Matnr\" width=\"6em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"物料编码\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Maktx\" width=\"8em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"描述\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Quantity\" width=\"6em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"数量\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Meins\" width=\"4em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"单位\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Price\" width=\"6.5em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"价格\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<Column id=\"Dmbtr\" width=\"6.5em\">\r\n\t\t\t\t\t\t\t\t\t<header>\r\n\t\t\t\t\t\t\t\t\t\t<Label text=\"金额\"/>\r\n\t\t\t\t\t\t\t\t\t</header>\r\n\t\t\t\t\t\t\t\t</Column>\r\n\t\t\t\t\t\t\t\t<!--<Column id=\"Action\" width=\"4em\">-->\r\n\t\t\t\t\t\t\t\t<!--\t<header>-->\r\n\t\t\t\t\t\t\t\t<!--\t\t<Label text=\"\"/>-->\r\n\t\t\t\t\t\t\t\t<!--\t</header>-->\r\n\t\t\t\t\t\t\t\t<!--</Column>-->\r\n\t\t\t\t\t\t\t</columns>\r\n\t\t\t\t\t\t\t<ColumnListItem id=\"columnListItem\" vAlign=\"Middle\" type=\"Navigation\" press=\"onEditPress\">\r\n\t\t\t\t\t\t\t\t<cells>\r\n\t\t\t\t\t\t\t\t\t<Text text=\"{path:'PrList>Posnr', type: 'sap.ui.model.odata.type.String' , constraints:{ isDigitSequence : true, maxLength:3}}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t\t\t\t<Image src=\"{path:'PrList>', formatter:'.convPicUrl'}\" densityAware=\"false\" width=\"3rem\" height=\"3rem\" class=\"sapUiSmallMarginTopBottom\"/>\r\n\t\t\t\t\t\t\t\t\t<Text text=\"{PrList>ProductId}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t\t\t\t<Text text=\"{PrList>Description}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t\t\t\t<Text text=\"{path: 'PrList>Menge' ,type: 'sap.ui.model.odata.type.Decimal' ,constraints:{ scale:3 }}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t\t\t\t<!--<Input value=\"{PrList>Quantity}\" width=\"6em\" change=\"onChange\"/>-->\r\n\t\t\t\t\t\t\t\t\t<Text text=\"{PrList>Meins}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t\t\t\t\t<ObjectNumber number=\"{path: 'PrList>Netpr' ,type: 'sap.ui.model.odata.type.Decimal' ,constraints:{ scale:2 }}\" unit=\"{PrList>Waers}\"/>\r\n\t\t\t\t\t\t\t\t\t<ObjectNumber number=\"{path: 'PrList>Value' ,type: 'sap.ui.model.odata.type.Decimal' ,constraints:{ scale:2 }}\" unit=\"{PrList>Waers}\"/>\r\n\t\t\t\t\t\t\t\t\t<!--<Text text=\"编辑\" class=\"sapMTableContentMargin\"/>-->\r\n\t\t\t\t\t\t\t\t\t<!--<Button text=\"编辑\" icon=\"sap-icon://edit\" press=\"onEditPress\"></Button>-->\r\n\t\t\t\t\t\t\t\t</cells>\r\n\t\t\t\t\t\t\t</ColumnListItem>\r\n\t\t\t\t\t\t</Table>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t</uxap:sections>\r\n\t\t<uxap:footer>\r\n\t\t\t<OverflowToolbar>\r\n\t\t\t\t<Button icon=\"sap-icon://alert\" text=\"{='查看消息' + ${message>/}.length}\" visible=\"{=${message>/}.length &gt; 0}\" press=\"onMessagePopover\"\r\n\t\t\t\t\ttype=\"Emphasized\"/>\r\n\t\t\t\t<Button icon=\"sap-icon://delete\" text=\"清除消息\" press=\"onClearMessage\" visible=\"{=${message>/}.length &gt; 0}\"/>\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button text=\"保存\" press=\"onSave\" icon=\"sap-icon://save\" id=\"savebtn\" />\r\n\t\t\t\t<Button text=\"提交\" type=\"Emphasized\" press=\"onSubmit\" id=\"submitbtn\"/>\r\n\t\t\t</OverflowToolbar>\r\n\t\t</uxap:footer>\r\n\t</uxap:ObjectPageLayout>\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/MessagePopover.fragment.xml": "<core:FragmentDefinition\r\n    xmlns=\"sap.m\"\r\n    xmlns:core=\"sap.ui.core\">\r\n    <MessagePopover\r\n        items=\"{message>/}\"\r\n        initiallyExpanded=\"true\">\r\n        <MessagePopoverItem\r\n            type=\"{message>type}\"\r\n            title=\"{message>message}\"\r\n            subtitle=\"{message>additionalText}\"\r\n            description=\"{message>description}\"/>\r\n    </MessagePopover>\r\n</core:FragmentDefinition>",
		"ZEC_CART_CREATE/view/BatchEdit.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\" controllerName=\"ZEC_CART_CREATE.controller.BatchEdit\"\r\n\txmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:uxap=\"sap.uxap\" xmlns:grid=\"sap.ui.layout.cssgrid\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.ui.layout.form\">\r\n\t<uxap:ObjectPageLayout id=\"CheckLayout\" enableLazyLoading=\"false\" busy=\"{globalVar>/busy}\" busyIndicatorDelay=\"{globalVar>/delay}\"\r\n\t\tshowFooter=\"true\">\r\n\t\t<uxap:headerTitle>\r\n\t\t\t<uxap:ObjectPageHeader id=\"objectTitle\" objectTitle=\"批量修改需求信息\" isObjectIconAlwaysVisible=\"false\" isObjectTitleAlwaysVisible=\"true\"\r\n\t\t\t\tisObjectSubtitleAlwaysVisible=\"false\">\r\n\t\t\t\t<uxap:navigationBar>\r\n\t\t\t\t\t<Bar>\r\n\t\t\t\t\t\t<contentLeft>\r\n\t\t\t\t\t\t\t<Button icon=\"sap-icon://nav-back\" tooltip=\"nav-back\" press=\"onRequireDetailNavBack\"/>\r\n\t\t\t\t\t\t</contentLeft>\r\n\t\t\t\t\t</Bar>\r\n\t\t\t\t</uxap:navigationBar>\r\n\t\t\t</uxap:ObjectPageHeader>\r\n\t\t</uxap:headerTitle>\r\n\t\t<uxap:sections id=\"sections\">\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"数量-交期\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<uxap:blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t\t\t\t\t<Label text=\"数量\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Menge\" value=\"{ path: 'BatchEdit>/Menge'}\" editable=\"{DetailViewModel>/isEdit}\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t\t<Label text=\"到货日期\" labelFor=\"DelivDate\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<DatePicker id=\"DelivDate\" editable=\"{DetailViewModel>/isEdit}\" class=\"sapUiTinyMarginEnd\" change=\"onUbdatChange\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"{ path: 'BatchEdit>/DelivDate',type: 'sap.ui.model.odata.type.DateTime', formatOptions: { strictParsing: true, UTC:true, pattern: 'y年M月d日', displayFormat: 'Date'} }\"\r\n\t\t\t\t\t\t\t\t\tvalueFormat=\"yyyy-MM-ddThh:mm:ss\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</DatePicker>\r\n\t\t\t\t\t\t\t\t<Label text=\"备注\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\" linebreak=\"true\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<TextArea editable=\"{DetailViewModel>/isEdit}\"\r\n\t\t\t\t\t\t\t\t\tvalue=\"{ path: 'BatchEdit>/Note', type: 'sap.ui.model.odata.type.String' , constraints:{ maxLength:255} }\" id=\"BZDBZ\" name=\"Note\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL6 L6 M4 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</TextArea>\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t</uxap:blocks>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"发货\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<uxap:blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t\t\t\t\t<Label text=\"工厂\" labelFor=\"WERKS\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Werks\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshUserwerksSet', sorter: { path: 'Werks' },templateShareable:false}\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'BatchEdit>/Werks', type: 'sap.ui.model.odata.type.String' }\" change=\"onWerksChange\" id=\"WERKS\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的工厂\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Werks}\" text=\"{catalog>Werks} {catalog>WerksTxt}\"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<!--<Label text=\"采购组\" required=\"true\">-->\r\n\t\t\t\t\t\t\t\t<!--\t<layoutData>-->\r\n\t\t\t\t\t\t\t\t<!--\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>-->\r\n\t\t\t\t\t\t\t\t<!--\t</layoutData>-->\r\n\t\t\t\t\t\t\t\t<!--</Label>-->\r\n\t\t\t\t\t\t\t\t<!--<ComboBox showSecondaryValues=\"true\" name=\"Ekgrp\" required=\"true\"-->\r\n\t\t\t\t\t\t\t\t<!--\titems=\"{ path: 'catalog>/ZshUserekgrpSet', sorter: { path: 'Ekgrp' },templateShareable:false}\"-->\r\n\t\t\t\t\t\t\t\t<!--\tselectedKey=\"{ path: 'BatchEdit>/Ekgrp', type: 'sap.ui.model.odata.type.String' }\" id=\"EKGRP\">-->\r\n\t\t\t\t\t\t\t\t<!--\t<customData>-->\r\n\t\t\t\t\t\t\t\t<!--\t\t<core:CustomData key=\"message\" value=\"请输入有效的采购组\"></core:CustomData>-->\r\n\t\t\t\t\t\t\t\t<!--\t</customData>-->\r\n\t\t\t\t\t\t\t\t<!--\t<core:ListItem key=\"{catalog>Ekgrp}\" text=\"{catalog>Ekgrp} {catalog>Znote}\"/>-->\r\n\t\t\t\t\t\t\t\t<!--\t<layoutData>-->\r\n\t\t\t\t\t\t\t\t<!--\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>-->\r\n\t\t\t\t\t\t\t\t<!--\t</layoutData>-->\r\n\t\t\t\t\t\t\t\t<!--</ComboBox>-->\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t</uxap:blocks>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t\t<uxap:ObjectPageSection titleUppercase=\"false\" title=\"记账\">\r\n\t\t\t\t<uxap:subSections>\r\n\t\t\t\t\t<uxap:ObjectPageSubSection titleUppercase=\"false\">\r\n\t\t\t\t\t\t<uxap:blocks>\r\n\t\t\t\t\t\t\t<f:SimpleForm editable=\"true\" layout=\"ResponsiveGridLayout\" adjustLabelSpan=\"true\" columnsXL=\"1\" columnsL=\"1\" columnsM=\"1\"\r\n\t\t\t\t\t\t\t\tsingleContainerFullSize=\"true\">\r\n\t\t\t\t\t\t\t\t<Label text=\"账户分配\" labelFor=\"Knttp\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Select selectedKey=\"{ path: 'BatchEdit>/Knttp'}\" id=\"Knttp\" name=\"Knttp\" change=\"handleChangeKnttp\" forceSelection=\"true\">\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"I\" text=\"库存\"/>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"A\" text=\"资产\"/>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"K\" text=\"成本中心\"/>\r\n\t\t\t\t\t\t\t\t\t<!--<core:ListItem key=\"P\" text=\"项目\"/>-->\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t<Label text=\"总账科目\" visible=\"false\" id=\"Label_Hkont\" labelFor=\"Hkont\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" name=\"Hkont\" visible=\"false\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshAccountSet', sorter: { path: 'Saknr' },templateShareable:false}\" required=\"true\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'BatchEdit>/Hkont', type: 'sap.ui.model.odata.type.String' }\" id=\"Hkont\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的总账账户\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Saknr}\" text=\"{catalog>Saknr} {catalog>SaknrTxt} \"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<Label text=\"成本中心\" labelFor=\"Kostl\" visible=\"false\" id=\"Label_Kostl\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<ComboBox showSecondaryValues=\"true\" required=\"true\" name=\"Kostl\" visible=\"false\"\r\n\t\t\t\t\t\t\t\t\titems=\"{ path: 'catalog>/ZshUserkostlSet', sorter: { path: 'Kostl' },templateShareable:false}\"\r\n\t\t\t\t\t\t\t\t\tselectedKey=\"{ path: 'BatchEdit>/Kostl', type: 'sap.ui.model.odata.type.String' }\" id=\"Kostl\">\r\n\t\t\t\t\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t\t\t\t\t<core:CustomData key=\"message\" value=\"请输入有效的成本中心\"></core:CustomData>\r\n\t\t\t\t\t\t\t\t\t</customData>\r\n\t\t\t\t\t\t\t\t\t<core:ListItem key=\"{catalog>Kostl}\" text=\"{catalog>Kostl} {catalog>KostlTxt} \"/>\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</ComboBox>\r\n\t\t\t\t\t\t\t\t<Label text=\"库存地点\" visible=\"true\" id=\"Label_Lgort\" labelFor=\"Lgort\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M2 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t<Input id=\"Lgort\" value=\"{BatchEdit>/Lgort}\" showValueHelp=\"true\" valueHelpOnly=\"true\" valueHelpRequest=\"handleLgortValueHelp\">\r\n\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL2 L2 M1 S12\"/>\r\n\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t</Input>\r\n\t\t\t\t\t\t\t</f:SimpleForm>\r\n\t\t\t\t\t\t</uxap:blocks>\r\n\t\t\t\t\t</uxap:ObjectPageSubSection>\r\n\t\t\t\t</uxap:subSections>\r\n\t\t\t</uxap:ObjectPageSection>\r\n\t\t</uxap:sections>\r\n\t\t<uxap:footer>\r\n\t\t\t<OverflowToolbar>\r\n\t\t\t\t<Button icon=\"sap-icon://alert\" text=\"{='查看消息' + ${message>/}.length}\" visible=\"{=${message>/}.length > 0}\" press=\"onMessagePopover\"\r\n\t\t\t\t\ttype=\"Emphasized\"></Button>\r\n\t\t\t\t<Button icon=\"sap-icon://delete\" text=\"清除消息\" press=\"onClearMessage\" visible=\"{=${message>/}.length > 0}\"/>\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button text=\"确认\" press=\"onApply\" id=\"BtSave\" type=\"Emphasized\" visible=\"true\"/>\r\n\t\t\t</OverflowToolbar>\r\n\t\t</uxap:footer>\r\n\t</uxap:ObjectPageLayout>\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/Cart.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\" controllerName=\"ZEC_CART_CREATE.controller.Cart\"\r\n\tclass=\"sapUiNoMargin\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:l=\"sap.ui.layout\" xmlns:f=\"sap.f\" xmlns:grid=\"sap.ui.layout.cssgrid\">\r\n\t<Page navButtonPress=\"onNavBack\" showNavButton=\"true\" id=\"Cart\" enableScrolling=\"true\" title=\"我的购物车\" showFooter=\"true\" floatingFooter=\"true\" busy=\"{globalVar>/busy}\" busyIndicatorDelay=\"{globalVar>/delay}\">\r\n\t\t<!--<Panel width=\"auto\" class=\"sapUiNoContentPadding\">-->\r\n\t\t<Table width=\"auto\" fixedLayout=\"true\" id=\"CartTable\"\r\n\t\t\titems=\"{ path: '/ZCDS_I_CART', parameters : { $count : true }, filters: [{path: 'ObjectId', operator: 'EQ', value1: ''}] ,sorter: { path: 'GuidI', descending: false }  }\"\r\n\t\t\tnoDataText=\"未找到数据\" mode=\"MultiSelect\" sticky=\"ColumnHeaders,HeaderToolbar\">\r\n\t\t\t<headerToolbar>\r\n\t\t\t\t<OverflowToolbar id=\"otbSubheader\">\r\n\t\t\t\t\t<Title id=\"text\" text=\"总共{cartHeader>/count}项目\"/>\r\n\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t<Title id=\"totalAmount\" text=\"总计:{cartHeader>/total}{cartHeader>/currency}\"/>\r\n\t\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t\t<Button text=\"删除\" press=\"onDelete\"></Button>\r\n\r\n\t\t\t\t</OverflowToolbar>\r\n\t\t\t</headerToolbar>\r\n\t\t\t<columns>\r\n\t\t\t\t<Column id=\"Image\" width=\"4em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"图片\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"ProductId\" width=\"6em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"商品编码\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Maktx\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"商品描述\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Lifnr\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"供应商\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"NameGp\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"供应商名称\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Category\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"类别\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Quantity\" width=\"6em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"数量\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Meins\" width=\"4em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"单位\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Waers\" width=\"4em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"货币\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Price\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"单价\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Peinh\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"价格单位\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t\t<Column id=\"Dmbtr\" width=\"8em\">\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Label text=\"金额\"/>\r\n\t\t\t\t\t</header>\r\n\t\t\t\t</Column>\r\n\t\t\t</columns>\r\n\t\t\t<ColumnListItem id=\"columnListItem\" vAlign=\"Middle\">\r\n\t\t\t\t<cells>\r\n\t\t\t\t\t<Image src=\"{path:'', formatter:'.convPicUrl'}\" densityAware=\"false\" width=\"3rem\" height=\"3rem\" class=\"sapUiSmallMarginTopBottom\"/>\r\n\t\t\t\t\t<Text text=\"{ProductId}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Text text=\"{Description}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Text text=\"{Lifnr}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Text text=\"{LifnrNam}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Text text=\"{CategoryTxt}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Input value=\"{Menge}\" change=\"onChange\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Text text=\"{Meins}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<Text text=\"{Waers}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<!--<Text text=\"{Netpr}\"/>-->\r\n\t\t\t\t\t<ObjectNumber number=\"{Netpr}\" unit=\"{Waers}\" class=\"sapMTableContentMargin\"/>\r\n\r\n\t\t\t\t\t<Text text=\"{Peinh}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t\t<!--<Text text=\"{Value}\" class=\"sapMTableContentMargin\"/>-->\r\n\t\t\t\t\t<ObjectNumber number=\"{Value}\" unit=\"{Waers}\" class=\"sapMTableContentMargin\"/>\r\n\t\t\t\t</cells>\r\n\t\t\t</ColumnListItem>\r\n\t\t</Table>\r\n\t\t<!--</Panel>-->\r\n\t\t<footer>\r\n\t\t\t<OverflowToolbar>\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button text=\"创建需求\" type=\"Emphasized\" press=\"onCreate\"></Button>\r\n\t\t\t</OverflowToolbar>\r\n\t\t</footer>\r\n\t</Page>\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/Catalog.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\" xmlns:custom=\"sap.ui.documentation\"\r\n\tcontrollerName=\"ZEC_CART_CREATE.controller.Catalog\" xmlns:html=\"http://www.w3.org/1999/xhtml\">\r\n\t<Page title=\"目录采购\" busy=\"{globalVar>/busy}\" busyIndicatorDelay=\"{globalVar>/delay}\">\r\n\t\t<headerContent>\r\n\t\t\t<OverflowToolbar>\r\n\t\t\t\t<!--<Title id=\"Title\" text=\"目录采购\">-->\r\n\t\t\t\t<!--\t<layoutData>-->\r\n\t\t\t\t<!--\t\t<ToolbarLayoutData shrinkable=\"false\"/>-->\r\n\t\t\t\t<!--\t</layoutData>-->\r\n\t\t\t\t<!--</Title>-->\r\n\t\t\t\t<ToolbarSpacer/>\r\n\t\t\t\t<Button tooltip=\"购物车\" icon=\"sap-icon://cart\" press=\"onDisplayCart\" id=\"cartButton\" type=\"Default\">\r\n\t\t\t\t\t<customData>\r\n\t\t\t\t\t\t<BadgeCustomData key=\"badge\" value=\"{globalVar>/CartCount}\" visible=\"true\"/>\r\n\t\t\t\t\t</customData>\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button tooltip=\"搜索\" id=\"openingBtn\" icon=\"sap-icon://search\" press=\"onOpenBtn\" visible=\"{= !${search>/isOpen}}\"/>\r\n\t\t\t\t<SearchField id=\"searchControl\" search=\"onSearchAll\" visible=\"{= ${search>/isOpen}}\" width=\"15em\"/>\r\n\t\t\t\t<Button tooltip=\"关闭搜索\" id=\"clostBtn\" icon=\"sap-icon://decline\" press=\"onCloseBtn\" visible=\"{= ${search>/isOpen}}\"/>\r\n\t\t\t\t<!--<custom:Search id=\"searchControl\" toggle=\"onToggleSearchMode\" search=\"onSearch\" liveChange=\"onSearchLiveChange\"-->\r\n\t\t\t\t<!--\twidth=\"{= (${appView>/bPhoneSize} && ${appView>/bSearchMode}) ? '100%' : ''}\"></custom:Search>-->\r\n\t\t\t</OverflowToolbar>\r\n\t\t</headerContent>\r\n\t\t<content>\r\n\t\t\t<SplitApp id=\"SplitApp\">\r\n\t\t\t\t<masterPages>\r\n\t\t\t\t\t<List id=\"idList\"\r\n\t\t\t\t\t\titems=\"{ path: 'CatalogList>/', sorter: { path: 'GroupType', descending: true, group: true }, groupHeaderFactory: '.getGroupHeader'}\"\r\n\t\t\t\t\t\tgrowingScrollToLoad=\"false\" growing=\"true\" growingThreshold=\"10\" class=\"sapUiTinyMarginBeginEnd sapUiTinyMarginTopBottom\">\r\n\t\t\t\t\t\t<StandardListItem title=\"{CatalogList>Name}\" counter=\"{=parseInt(${CatalogList>Count}||0)}\" type=\"Active\" press=\"onItemPress\"/>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t</masterPages>\r\n\t\t\t</SplitApp>\r\n\t\t</content>\r\n\t</Page>\r\n</mvc:View>",
		"ZEC_CART_CREATE/view/CatalogDetailPages.view.xml": "<mvc:View xmlns:core=\"sap.ui.core\" xmlns:mvc=\"sap.ui.core.mvc\" xmlns=\"sap.m\" class=\"sapUiNoMargin\"\r\n\tcontrollerName=\"ZEC_CART_CREATE.controller.CatalogDetailPages\" xmlns:html=\"http://www.w3.org/1999/xhtml\" xmlns:l=\"sap.ui.layout\"\r\n\txmlns:f=\"sap.f\" xmlns:card=\"sap.f.cards\" xmlns:mc=\"sap.suite.ui.microchart\" xmlns:grid=\"sap.ui.layout.cssgrid\"\r\n\txmlns:chart=\"sap.suite.ui.microchart\">\r\n\t<Page navButtonPress=\"onNavBack\" showHeader=\"false\" enableScrolling=\"false\">\r\n\t\t<!--<l:HorizontalLayout>-->\r\n\t\t\t<!--<SearchField width=\"50em\" placeholder=\"按部件号、供应商名称或关键字搜索\" search=\"onSearchField\">-->\r\n\t\t\t<!--\t<layoutData>-->\r\n\t\t\t<!--\t\t<OverflowToolbarLayoutData moveToOverflow=\"false\"></OverflowToolbarLayoutData>-->\r\n\t\t\t<!--\t</layoutData>-->\r\n\t\t\t<!--</SearchField>-->\r\n\t\t\t<!--<ToolbarSpacer/>-->\r\n\t\t<!--\t<Button tooltip=\"购物车\" icon=\"sap-icon://cart\" press=\"onAddCart\">-->\r\n\t\t<!--\t\t<layoutData>-->\r\n\t\t<!--\t\t\t<OverflowToolbarLayoutData moveToOverflow=\"false\"></OverflowToolbarLayoutData>-->\r\n\t\t<!--\t\t</layoutData>-->\r\n\t\t<!--\t</Button>-->\r\n\t\t<!--</l:HorizontalLayout>-->\r\n\t\t<!--</l:Vbox>-->\r\n\t\t<Panel>\r\n\t\t<!--<Panel headerText=\"最近查看的目录\">-->\r\n\t\t\t<Carousel id=\"carouselListCommodity\" height=\"auto\" pages=\"{ path: 'products>/' }\" showPageIndicator=\"false\" arrowsPlacement=\"PageIndicator\">\r\n\t\t\t\t<!--<customLayout>-->\r\n\t\t\t\t<!--\t<CarouselLayout visiblePagesCount=\"{settings>/pagesCount}\"/>-->\r\n\t\t\t\t<!--</customLayout>-->\r\n\t\t\t\t<f:Card>\r\n\t\t\t\t\t<f:header>\r\n\t\t\t\t\t\t<card:Header title=\"{products>ProductId}\"  iconSrc=\"{products>ProductPicUrl}\" iconDisplayShape=\"Square\"/>\r\n\t\t\t\t\t\t<!--<Image src=\"{products>ProductPicUrl}\" densityAware=\"false\" width=\"3rem\" height=\"3rem\" class=\"sapUiSmallMarginTopBottom\"/>-->\r\n\t\t\t\t\t</f:header>\r\n\t\t\t\t\t<f:content>\r\n\t\t\t\t\t\t<l:VerticalLayout class=\"sapUiContentPadding\" width=\"100%\">\r\n\t\t\t\t\t\t\t<l:BlockLayout>\r\n\t\t\t\t\t\t\t\t<l:BlockLayoutRow>\r\n\t\t\t\t\t\t\t\t\t<l:BlockLayoutCell title=\"主要信息\" width=\"2\">\r\n\t\t\t\t\t\t\t\t\t\t<HBox class=\"sapUiTinyMarginBottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"物料描述:\" labelFor=\"Maktx\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L1 M6 S6\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>Description}\" id=\"Maktx\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL4 L4 M6 S8\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t</HBox>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<HBox class=\"sapUiTinyMarginBottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"供应商名称:\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L1 M6 S6\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>SupplierName}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL6 L5 M6 S8\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t</HBox>\r\n\t\t\t\t\t\t\t\t\t\t<HBox class=\"sapUiTinyMarginBottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"单价:\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L1 M3 S6\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\t\r\n\t\t\t\t\t\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>Netpr}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L3 M6 S6\"  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>Waers}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L3 M6 S6\"  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"/{products>Peinh}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L3 M6 S6\"  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t</Text>\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>Meins}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<l:GridData span=\"XL1 L3 M6 S6\"  />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</layoutData>\r\n\t\t\t\t\t\t\t\t\t\t\t</Text>\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</HBox>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<HBox class=\"sapUiTinyMarginBottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"品类:\"/>\r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>Category}\"/>\r\n\t\t\t\t\t\t\t\t\t\t</HBox>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<HBox class=\"sapUiTinyMarginBottom\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Label text=\"交期:\"/> \r\n\t\t\t\t\t\t\t\t\t\t\t<Text text=\"{products>DeliveryDay} 天\"/>\r\n\t\t\t\t\t\t\t\t\t\t</HBox>\r\n\r\n\t\t\t\t\t\t\t\t\t</l:BlockLayoutCell>\r\n\t\t\t\t\t\t\t\t</l:BlockLayoutRow>\r\n\t\t\t\t\t\t\t</l:BlockLayout>\r\n\t\t\t\t\t\t</l:VerticalLayout>\r\n\t\t\t\t\t</f:content>\r\n\t\t\t\t</f:Card>\r\n\t\t\t</Carousel>\r\n\t\t</Panel>\r\n\t</Page>\r\n</mvc:View>",
		"ZEC_CART_CREATE/utils/JsonTable.js": "sap.ui.define([\r\n\t\"sap/ui/base/Object\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/ui/model/odata/ODataModel\",\r\n\t\"sap/ui/model/json/JSONModel\"\r\n], function(Object, Filter, FilterOperator, ODataModel, JSONModel) {\r\n\t\"use strict\";\r\n\t// var oJsonModel = new JSONModel();\r\n\tvar sContextPath = \"contextPath\";\r\n\t// var sEntitySet ;\r\n\treturn Object.extend(\"ZEC_CART_CREATE.utils.JsonTable\", {\r\n\r\n\t\tconstructor: function(sEntitySet, oModel) {\r\n\t\t\t//= sap.ui.getCore().getOwnComponent().getModel() \r\n\t\t\t// if(oModel)\r\n\t\t\t// {\r\n\t\t\tthis.oDataModel = oModel;\r\n\t\t\t// }\r\n\t\t\t// else{\r\n\t\t\t// \tthis.oDataModel = sap.ui.getCore().getOwnComponent().getModel(\"shComm\");\r\n\t\t\t// }\r\n\t\t\tthis.sEntitySet = sEntitySet;\r\n\r\n\t\t\tvar oSchema = this.oDataModel.getServiceMetadata().dataServices.schema[0];\r\n\r\n\t\t\tvar oEntitySet = oSchema.entityContainer[0].entitySet.find(function(x) {\r\n\t\t\t\treturn x.name === sEntitySet;\r\n\t\t\t});\r\n\t\t\tvar iBegin = oEntitySet.entityType.lastIndexOf(\".\") + 1;\r\n\r\n\t\t\tvar oEntity = oSchema.entityType.find(function(x) {\r\n\t\t\t\treturn x.name === oEntitySet.entityType.substring(iBegin);\r\n\t\t\t});\r\n\t\t\tthis.aProperties = oEntity.property;\r\n\r\n\t\t\tthis.aKeys = oEntity.key.propertyRef;\r\n\r\n\t\t\tvar aDel = [];\r\n\t\t\tthis.oDelModel = new JSONModel();\r\n\t\t\tthis.oDelModel.setData(aDel);\r\n\t\t\tvar aJson = [];\r\n\t\t\tthis.oJsonModel = new JSONModel();\r\n\t\t\tthis.oJsonModel.setData(aJson);\r\n\t\t},\r\n\t\tgetJsonModel: function() {\r\n\t\t\treturn this.oJsonModel;\r\n\t\t},\r\n\t\tsetJsonModel: function(oModel) {\r\n\t\t\t// clear cache\r\n\t\t\toModel.setData([]);\r\n\t\t\tthis.oJsonModel = oModel;\r\n\t\t\tthis.oJsonModel.setSizeLimit(1000);\r\n\t\t},\r\n\r\n\t\tsetDefaultRow: function(oRow) {\r\n\t\t\tthis.oDefaultRow = {};\r\n\t\t\tif (oRow) {\r\n\t\t\t\tthis.oDefaultRow = {};\r\n\t\t\t\t$.extend(this.oDefaultRow, oRow);\r\n\t\t\t\t// this.oDefaultRow = JSON.parse(JSON.stringify(oRow));\r\n\t\t\t\tfor (var j = 0; j < this.aProperties.length; j++) {\r\nif (this.oDefaultRow[this.aProperties[j].name] === undefined) {\r\n\t\t\t\t\t\tthis.oDefaultRow[this.aProperties[j].name] = undefined;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetDefaultRow: function() {\r\n\t\t\treturn this.oDefaultRow;\r\n\t\t},\r\n\t\tread: function(sPath, mParameters) {\r\n\t\t\t// var that = this;\r\n\t\t\tvar oRequest, mUrlParams, fnSuccess, fnError,\r\n\t\t\t\taFilters, \r\n\t\t\t\tthat = this;\r\n\t\t\t\r\n\t\t\tvar aSorters, sFilterParams, sSorterParams,\r\n\t\t\t\toFilter, oEntityType, sNormalizedPath,\r\n\t\t\t\taUrlParams, mHeaders, sMethod,\r\n\t\t\t\tsGroupId, sETag,\r\n\t\t\t\tmRequests;\r\n\t\t\t// The object parameter syntax has been used.\r\n\t\t\tif (mParameters) {\r\n\t\t\t\tmUrlParams = mParameters.urlParameters;\r\n\t\t\t\tfnSuccess = mParameters.success;\r\n\t\t\t\tfnError = mParameters.error;\r\n\t\t\t\taFilters = mParameters.filters;\r\n\t\t\t\taSorters = mParameters.sorters;\r\n\t\t\t\tsGroupId = mParameters.groupId || mParameters.batchGroupId;\r\n\t\t\t\tmHeaders = mParameters.headers;\r\n\t\t\t}\r\n\t\t\tvar sUrl = this.oDataModel.sServiceUrl;\r\n\r\n\t\t\tthis.oDataModel.read(sPath, {\r\n\r\n\t\t\t\tfilters: aFilters,\r\n\t\t\t\tsuccess: function(oData, response) {\r\n\r\n\t\t\t\t\tvar arr = [],\r\n\t\t\t\t\t\taData = [];\r\n\t\t\t\t\tarr = oData.results;\r\n\t\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\t\tvar data = {};\r\n\t\t\t\t\t\tfor (var j = 0; j < that.aProperties.length; j++) {\r\n\t\t\t\t\t\t\tdata[that.aProperties[j].name] = arr[i][that.aProperties[j].name];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar iBegin = arr[i].__metadata.id.lastIndexOf(sUrl) + sUrl.length;\r\n\t\t\t\t\t\tvar oContext = {\r\n\t\t\t\t\t\t\tbCreated: false,\r\n\t\t\t\t\t\t\tsPath: arr[i].__metadata.id.substring(iBegin)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tdata[sContextPath] = oContext;\r\n\t\t\t\t\t\taData.push(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.getJsonModel().setData(aData);\r\n\t\t\t\t\t// that.getView().setModel(glbzModel, \"GlbzList\");\r\n\t\t\t\t\tif (fnSuccess) {\r\n\t\t\t\t\t\tvar oNewData = {};\r\n\t\t\t\t\t\toNewData.results = aData;\r\n\t\t\t\t\t\tfnSuccess(oNewData, response);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\terror: function(oError) {\r\n\t\t\t\t\t\tif (fnError) {\r\n\t\t\t\t\t\t\tfnError(oError);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// fnError\r\n\t\t\t});\r\n\t\t},\r\n\t\taddRow: function(iIndex) {\r\n\t\t\tif (!this.oDefaultRow) {\r\n\t\t\t\tthis.oDefaultRow = {};\r\n\t\t\t\tfor (var j = 0; j < this.aProperties.length; j++) {\r\n\t\t\t\t\t\tthis.oDefaultRow[this.aProperties[j].name] = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar oNew = {};\r\n\t\t\t$.extend(oNew, this.oDefaultRow);\r\n\t\t\t// //Copy Undefined properties\r\n\t\t\t// for (var i = 0; i < this.aProperties.length; i++) {\r\n\t\t\t// \toNew[this.aProperties[i].name] = this.oDefaultRow[this.aProperties[i].name];\r\n\t\t\t// }\r\n\t\t\t// var oNew = JSON.parse(JSON.stringify(this.oDefaultRow));\r\n\t\t\t// var oRow = this.oDefaultRow.clone();\r\n\t\t\tvar aJson = this.oJsonModel.getData();\r\n\t\t\tif (aJson.constructor != Array) {\r\n\t\t\t\taJson = [];\r\n\t\t\t}\r\n\t\t\tif (iIndex) {\r\n\t\t\t\taJson.splice(iIndex, 0, oNew);\r\n\t\t\t} else {\r\n\t\t\t\taJson.push(oNew);\r\n\t\t\t}\r\n\t\t\tthis.oJsonModel.setData(aJson);\r\n\t\t},\r\n\t\tcopyRows: function(aIndices) {\r\n\t\t\tvar aJson = this.oJsonModel.getData();\r\n\t\t\tfor (var j = aIndices.length - 1; j >= 0; j--) {\r\n\t\t\t\tvar iIndex = aIndices[j];\r\n\t\t\t\t// var oNew = JSON.parse(JSON.stringify(aJson[iIndex]));\r\n\t\t\t\tvar oNew = {};\r\n\t\t\t\t$.extend(oNew, aJson[iIndex]);\r\n\t\t\t\t// //Copy Undefined properties\r\n\t\t\t\t// for (var i = 0; i < this.aProperties.length; i++) {\r\n\t\t\t\t// \toNew[this.aProperties[i].name] = aJson[iIndex][this.aProperties[i].name];\r\n\t\t\t\t// }\r\n\t\t\t\tif (oNew[sContextPath]) {\r\n\t\t\t\t\toNew[sContextPath] = undefined;\r\n\t\t\t\t}\r\n\t\t\t\taJson.splice(iIndex, 0, oNew);\r\n\t\t\t}\r\n\r\n\t\t\tthis.oJsonModel.setData(aJson);\r\n\t\t},\r\n\t\tremoveRows: function(aIndices) {\r\n\t\t\t// if (aIndices.length > 1) {\r\n\t\t\tvar oJsonModel = this.getJsonModel();\r\n\t\t\tfor (var j = aIndices.length - 1; j >= 0; j--) {\r\n\t\t\t\tvar iIndex = aIndices[j];\r\n\t\t\t\tvar oItem = oJsonModel.getData()[iIndex];\r\n\t\t\t\tvar oContext = oItem[sContextPath];\r\n\t\t\t\tif (oContext) {\r\n\t\t\t\t\tif (oContext.bCreated) {\r\n\t\t\t\t\t\tthis.oDataModel.deleteCreatedEntry(oContext);\r\n\t\t\t\t\t\t// oJsonModel.getData().splice(iIndex, 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar oDel = {};\r\n\t\t\t\t\t\tfor (var i = 0; i < this.aKeys.length; i++) {\r\n\t\t\t\t\t\t\toDel[this.aKeys[i].name] = oItem[this.aKeys[i].name];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar oDelContext = {\r\n\t\t\t\t\t\t\tsPath: oContext.sPath\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\toDel[sContextPath] = oDelContext;\r\n\r\n\t\t\t\t\t\tvar oDelData = this.oDelModel.getData();\r\n\t\t\t\t\t\t//去重\r\n\t\t\t\t\t\tfor (var k in oDelData) {\r\n\t\t\t\t\t\t\tif (oDel === oDelData[k]) {\r\n\t\t\t\t\t\t\t\toDelData.splice(k, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toDelData.push(oDel);\r\n\t\t\t\t\t\t// this.oDataModel.remove(oContext.sPath, {\r\n\t\t\t\t\t\t// \tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t// \t\toJsonModel.getData().splice(iIndex, 1);\r\n\t\t\t\t\t\t// \t\tsap.m.MessageToast.show(\"删除成功\");\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \terror: function(oError) {\r\n\t\t\t\t\t\t// \t\tsap.m.MessageToast.show(\"删除失败\");\r\n\t\t\t\t\t\t// \t},\r\n\t\t\t\t\t\t// \t// groupId: \"batch\"\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t// this.oDataModel.setRefreshAfterChange(false);\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// else {\r\n\r\n\t\t\t\t}\r\n\t\t\t\toJsonModel.getData().splice(iIndex, 1);\r\n\t\t\t}\r\n\t\t\t// oJsonModel.getData().push(this.oDefaultRow);\r\n\t\t\t// }\r\n\t\t\t// else\r\n\t\t\t// {\r\n\r\n\t\t\t// }\r\n\t\t},\r\n\t\tcompareKey: function(oDel, oData) {\r\n\t\t\tfor (var i = 0; i < this.aKeys.length; i++) {\r\n\t\t\t\tif (oDel[this.aKeys[i].name] !== oData[this.aKeys[i].name]) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\texchangePath: function(oDel, oData) {\r\n\t\t\tvar sPath = sContextPath;\r\n\t\t\tif (oDel[sPath]) {\r\n\t\t\t\tvar oContext = oDel[sPath];\r\n\t\t\t\toDel[sPath] = oData[sPath];\r\n\t\t\t\toData[sPath] = oContext;\r\n\t\t\t\tif (oDel[sPath]) {\r\n\t\t\t\t\tvar oItem = this.oDataModel.getOriginalProperty(oDel[sPath].sPath);\r\n\t\t\t\t\tif (oItem !== undefined) {\r\n\t\t\t\t\t\tfor (var i = 0; i < this.aKeys.length; i++) {\r\n\t\t\t\t\t\t\toDel[this.aKeys[i].name] = oItem[this.aKeys[i].name];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tsaveData: function() {\r\n\t\t\t// var that = this;\r\n\t\t\t// that.sEntry = sEntry;\r\n\t\t\t// var sEntityType = this.oDataModel.getServiceMetadata().dataServices.schema[0].entityType;\r\n\t\t\t// var oEntity = sEntityType.filter(function(p) {\r\n\t\t\t// \treturn p.name === that.sEntry;\r\n\t\t\t// });\r\n\t\t\tvar oData = this.getJsonModel().getData();\r\n\t\t\tvar sPath = sContextPath;\r\n\t\t\tvar sEntrySet = \"/\" + this.sEntitySet;\r\n\t\t\tvar oDelData = this.oDelModel.getData();\r\n\t\t\tif (oDelData.length) {\r\n\t\t\t\tfor (var i in oDelData) {\r\n\t\t\t\t\tfor (var j in oData) {\r\n\t\t\t\t\t\tif (oDelData[i][sPath] && this.compareKey(oDelData[i], oData[j])) {\r\n\t\t\t\t\t\t\tthis.exchangePath(oDelData[i], oData[j]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (var k = oDelData.length - 1; k >= 0; k--) {\r\n\t\t\t\t\tif (oDelData[k][sPath]) {\r\n\t\t\t\t\t\tif (oDelData[k][sPath].bCreated) {\r\n\t\t\t\t\t\t\tthis.oDataModel.deleteCreatedEntry(oDelData[k][sPath]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.oDataModel.remove(oDelData[k][sPath].sPath, {\r\n\t\t\t\t\t\t\t\t// success: function(oData, response) {\r\n\t\t\t\t\t\t\t\t// \t// sap.m.MessageToast.show(\"删除成功\");\r\n\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t// error: function(oError) {\r\n\t\t\t\t\t\t\t\t// \t// sap.m.MessageToast.show(\"删除失败\");\r\n\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\tgroupId: \"batch\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.oDataModel.bDelete = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//从待删除表中去掉删除的记录\r\n\t\t\t\t\toDelData.splice(k, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < oData.length; i++) {\r\n\t\t\t\tif (!oData[i][sPath]) {\r\n\t\t\t\t\tvar oRow = {};\r\n\t\t\t\t\tfor (var j = 0; j < this.aProperties.length; j++) {\r\n\t\t\t\t\t\t\toRow[this.aProperties[j].name] = oData[i][this.aProperties[j].name];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar oContext = this.oDataModel.createEntry(sEntrySet, {\r\n\t\t\t\t\t\tproperties: oRow,\r\n\t\t\t\t\t\tsuccess: function(oData, response) {\r\n\t\t\t\t\t\t\tvar sUrl = this.oDataModel.sServiceUrl;\r\n\t\t\t\t\t\t\tvar iBegin = oData.__metadata.id.lastIndexOf(sUrl) + sUrl.length;\r\n\t\t\t\t\t\t\tvar sPath = oData.__metadata.id.substring(iBegin);\r\n\t\t\t\t\t\t\tvar aData = this.getJsonModel().getData();\r\n\t\t\t\t\t\t\tvar oItem = aData.find(function(x) {\r\n\t\t\t\t\t\t\t\tif (x[sContextPath]) {\r\n\t\t\t\t\t\t\t\t\treturn x[sContextPath].sPath === sPath;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\t\tfor (var i = 0; i < this.aProperties.length; i++) {\r\n\t\t\t\t\t\t\t\toItem[this.aProperties[i].name] = oData[this.aProperties[i].name];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}.bind(this),\r\n\t\t\t\t\t\tgroupId: \"batch\",\r\n\t\t\t\t\t\trefreshAfterChange: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\toData[i][sPath] = oContext;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tvar oContextPath = oData[i][sPath];\r\n\r\n\t\t\t\t\tif (this.aProperties) {\r\n\t\t\t\t\t\tfor (var j = 0; j < this.aProperties.length; j++) {\r\n\t\t\t\t\t\t\t// data[this.aProperties[j].name] = arr[i][this.aProperties[j].name];\r\n\t\t\t\t\t\t\tthis.oDataModel.setProperty(oContextPath.sPath + \"/\" + this.aProperties[j].name, oData[i][this.aProperties[j].name]);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t});\r\n});",
		"ZEC_CART_CREATE/utils/Validator.js": "/*global sap */\r\n\r\nsap.ui.define([\r\n\t'sap/ui/core/message/Message',\r\n\t'sap/ui/core/MessageType'\r\n], function(Message, MessageType) {\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * @name        nl.qualiture.plunk.demo.utils.Validator\r\n\t *\r\n\t * @class       \r\n\t * @classdesc   Validator class.<br/>\r\n\t *\r\n\t * @version     Oktober 2015\r\n\t * @author      Robin van het Hof\r\n\t */\r\n\tvar Validator = function() {\r\n\t\tthis._isValid = true;\r\n\t\tthis._isValidationPerformed = false;\r\n\t};\r\n\r\n\t/**\r\n\t * Returns true _only_ when the form validation has been performed, and no validation errors were found\r\n\t * @memberof nl.qualiture.plunk.demo.utils.Validator\r\n\t *\r\n\t * @returns {boolean}\r\n\t */\r\n\tValidator.prototype.isValid = function() {\r\n\t\treturn this._isValidationPerformed && this._isValid;\r\n\t};\r\n\r\n\t/**\r\n\t * Recursively validates the given oControl and any aggregations (i.e. child controls) it may have\r\n\t * @memberof nl.qualiture.plunk.demo.utils.Validator\r\n\t *\r\n\t * @param {(sap.ui.core.Control|sap.ui.layout.form.FormContainer|sap.ui.layout.form.FormElement)} oControl - The control or element to be validated.\r\n\t * @return {boolean} whether the oControl is valid or not.\r\n\t */\r\n\tValidator.prototype.validate = function(oControl) {\r\n\t\tthis._isValid = true;\r\n\t\t// 这里会导致所有的消息被清空\r\n\t\tsap.ui.getCore().getMessageManager().removeAllMessages();\r\n\t\tthis._validate(oControl);\r\n\t\treturn this.isValid();\r\n\t};\r\n\r\n\t/**\r\n\t * Recursively validates the given oControl and any aggregations (i.e. child controls) it may have\r\n\t * @memberof nl.qualiture.plunk.demo.utils.Validator\r\n\t *\r\n\t * @param {(sap.ui.core.Control|sap.ui.layout.form.FormContainer|sap.ui.layout.form.FormElement)} oControl - The control or element to be validated.\r\n\t */\r\n\tValidator.prototype._validate = function(oControl) {\r\n\t\t// \"header\", \r\n\t\tvar aPossibleAggregations = [\"sections\", \"subSections\", \"blocks\", \"rows\", \"cells\", \"items\", \"content\", \"form\", \"formContainers\", \"formElements\", \"fields\"],\r\n\t\t\taControlAggregation = null,\r\n\t\t\toControlBinding = null,\r\n\t\t\taValidateProperties = [\"value\", \"selectedKey\", \"text\"], // yes, I want to validate Select and Text controls too\r\n\t\t\tisValidatedControl = false,\r\n\t\t\toExternalValue, oInternalValue,\r\n\t\t\ti, j;\r\n\r\n\t\t// only validate controls and elements which have a 'visible' property\r\n\t\tif (oControl instanceof sap.ui.core.Control ||\r\n\t\t\toControl instanceof sap.ui.layout.form.FormContainer ||\r\n\t\t\toControl instanceof sap.ui.layout.form.FormElement) {\r\n\r\n\t\t\t// only check visible controls (invisible controls make no sense checking)\r\n\t\t\tif (oControl.getVisible()) {\r\n\r\n\t\t\t\t// check control for any properties worth validating \r\n\t\t\t\tfor (i = 0; i < aValidateProperties.length; i += 1) {\r\n\t\t\t\t\tif (oControl.getBinding(aValidateProperties[i])) {\r\n\r\n\t\t\t\t\t\t// Add Mandatory check by ibm-yangsh\r\n\t\t\t\t\t\tif (oControl.getMetadata().getName() === \"sap.m.Select\") {\r\n\t\t\t\t\t\t\t// if (oControl.getForceSelection() && !oControl.getBinding(aValidateProperties[i]).getValue()) {\r\n\t\t\t\t\t\t\tif (oControl.getForceSelection() && !oControl.getSelectedKey()) {\r\n\t\t\t\t\t\t\t\tthis._isValid = false;\r\n\t\t\t\t\t\t\t\toControlBinding = oControl.getBinding(aValidateProperties[i]);\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getMessageManager().addMessages(\r\n\t\t\t\t\t\t\t\t\tnew Message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: \"必输项不能为空\",\r\n\t\t\t\t\t\t\t\t\t\ttype: MessageType.Error,\r\n\t\t\t\t\t\t\t\t\t\ttarget: (oControlBinding.getContext() ? oControlBinding.getContext().getPath() + \"/\" : \"\") +\r\n\t\t\t\t\t\t\t\t\t\t\toControlBinding.getPath(),\r\n\t\t\t\t\t\t\t\t\t\tprocessor: oControl.getBinding(aValidateProperties[i]).getModel()\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (oControl.isA(\"sap.m.InputBase\")) { if (oControl.getRequired() && !oControl.getBinding(aValidateProperties[i]).getValue()) \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis._isValid = false;\r\n\t\t\t\t\t\t\toControlBinding = oControl.getBinding(aValidateProperties[i]);\r\n\t\t\t\t\t\t\tsap.ui.getCore().getMessageManager().addMessages(\r\n\t\t\t\t\t\t\t\tnew Message({\r\n\t\t\t\t\t\t\t\t\tmessage: \"必输项不能为空\",\r\n\t\t\t\t\t\t\t\t\ttype: MessageType.Error,\r\n\t\t\t\t\t\t\t\t\ttarget: (oControlBinding.getContext() ? oControlBinding.getContext().getPath() + \"/\" : \"\") +\r\n\t\t\t\t\t\t\t\t\t\toControlBinding.getPath(),\r\n\t\t\t\t\t\t\t\t\tprocessor: oControl.getBinding(aValidateProperties[i]).getModel()\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// check if a data type exists (which may have validation constraints)\r\n\t\t\t\t\t\tif (oControl.getBinding(aValidateProperties[i]).getType()) {\r\n\t\t\t\t\t\t\t// try validating the bound value\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\toControlBinding = oControl.getBinding(aValidateProperties[i]);\r\n\t\t\t\t\t\t\t\toExternalValue = oControl.getProperty(aValidateProperties[i]);\r\n\t\t\t\t\t\t\t\toInternalValue = oControlBinding.getType().parseValue(oExternalValue, oControlBinding.sInternalType);\r\n\t\t\t\t\t\t\t\toControlBinding.getType().validateValue(oInternalValue);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// catch any validation errors\r\n\t\t\t\t\t\t\tcatch (ex) {\r\n\t\t\t\t\t\t\t\tthis._isValid = false;\r\n\t\t\t\t\t\t\t\toControlBinding = oControl.getBinding(aValidateProperties[i]);\r\n\t\t\t\t\t\t\t\tsap.ui.getCore().getMessageManager().addMessages(\r\n\t\t\t\t\t\t\t\t\tnew Message({\r\n\t\t\t\t\t\t\t\t\t\tmessage: ex.message,\r\n\t\t\t\t\t\t\t\t\t\ttype: MessageType.Error,\r\n\t\t\t\t\t\t\t\t\t\ttarget: (oControlBinding.getContext() ? oControlBinding.getContext().getPath() + \"/\" : \"\") +\r\n\t\t\t\t\t\t\t\t\t\t\toControlBinding.getPath(),\r\n\t\t\t\t\t\t\t\t\t\tprocessor: oControl.getBinding(aValidateProperties[i]).getModel()\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tisValidatedControl = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if the control could not be validated, it may have aggregations\r\n\t\t\t\tif (!isValidatedControl) {\r\n\t\t\t\t\tfor (i = 0; i < aPossibleAggregations.length; i += 1) {\r\n\t\t\t\t\t\taControlAggregation = oControl.getAggregation(aPossibleAggregations[i]);\r\n\r\n\t\t\t\t\t\tif (aControlAggregation) {\r\n\t\t\t\t\t\t\t// generally, aggregations are of type Array\r\n\t\t\t\t\t\t\tif (aControlAggregation instanceof Array) {\r\n\t\t\t\t\t\t\t\tfor (j = 0; j < aControlAggregation.length; j += 1) {\r\n\t\t\t\t\t\t\t\t\tthis._validate(aControlAggregation[j]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// ...however, with sap.ui.layout.form.Form, it is a single object *sigh*\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tthis._validate(aControlAggregation);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._isValidationPerformed = true;\r\n\t};\r\n\r\n\treturn Validator;\r\n});",
		"ZEC_CART_CREATE/utils/ValueHelpHelper.js": "sap.ui.define([\r\n\t\"sap/ui/base/Object\",\r\n\t\"sap/ui/comp/valuehelpdialog/ValueHelpDialog\",\r\n\t\"sap/ui/model/Filter\",\r\n\t\"sap/ui/model/FilterOperator\",\r\n\t\"sap/ui/model/odata/ODataModel\",\r\n\t\"sap/ui/model/json/JSONModel\",\r\n\t\"sap/ui/comp/filterbar/FilterBar\",\r\n\t\"sap/ui/comp/filterbar/FilterGroupItem\",\r\n\t\"sap/m/Input\",\r\n\t\"sap/m/SearchField\"\r\n], function(Object, ValueHelpDialog, Filter, FilterOperator, ODataModel, JSONModel, FilterBar, FilterGroupItem,\r\n\tInput, SearchField) {\r\n\t\"use strict\";\r\n\r\n\treturn Object.extend(\"ZEC_CART_CREATE.utils.ValueHelpHelper\", {\r\n\r\n\t\tonInit: function() {\r\n\r\n\t\t},\r\n\r\n\t\tconstructor: function(model) {\r\n\t\t\tthis.model = model;\r\n\t\t},\r\n\t\tinitFilters: function(aFilters) {\r\n\t\t\tthis._aInitFilters = aFilters;\r\n\t\t},\r\n\t\texcludeFilters: function(aFields) {\r\n\t\t\tthis._aFilterFields = aFields;\r\n\t\t},\r\n\t\texcludeColumns: function(aFields) {\r\n\t\t\tthis._aColumnsFields = aFields;\r\n\t\t},\r\n\t\tsetModel: function(sBinding, sKey) {\r\n\t\t\tvar oSchema = this.model.getServiceMetadata().dataServices.schema[0];\r\n\r\n\t\t\tvar oEntitySet = oSchema.entityContainer[0].entitySet.find(function(x) {\r\n\t\t\t\treturn x.name === sBinding;\r\n\t\t\t});\r\n\t\t\tvar iBegin = oEntitySet.entityType.lastIndexOf(\".\") + 1;\r\n\r\n\t\t\tvar oEntity = oSchema.entityType.find(function(x) {\r\n\t\t\t\treturn x.name === oEntitySet.entityType.substring(iBegin);\r\n\t\t\t});\r\n\r\n\t\t\tthis.oColModel = {\r\n\t\t\t\tcols: []\r\n\t\t\t};\r\n\r\n\t\t\tthis.aFilterGroup = [];\r\n\t\t\tvar i;\r\n\r\n\t\t\tfor (i = 0; i < oEntity.property.length; i++) {\r\n\t\t\t\t\r\n\t\t\t\tif (this._aColumnsFields) {\r\n\t\t\t\t\tif (this._aColumnsFields.indexOf(oEntity.property[i].name) >= 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tvar oLabel = oEntity.property[i].extensions.find(function(x) {\r\n\t\t\t\t\treturn x.name === \"label\";\r\n\t\t\t\t});\r\n\t\t\t\tvar col = {\r\n\t\t\t\t\tlabel: oLabel.value,\r\n\t\t\t\t\ttemplate: oEntity.property[i].name\r\n\t\t\t\t};\r\n\t\t\t\tif(oEntity.property[i].type === \"Edm.DateTime\"){\r\n\t\t\t\t\tcol.type=\"date\";\r\n\t\t\t\t\tcol.oType= new sap.ui.model.odata.type.Date();\r\n\t\t\t\t}\r\n\t\t\t\tthis.oColModel.cols.push(col);\r\n\r\n\t\t\t\tif (sKey === oEntity.property[i].name) {\r\n\t\t\t\t\tthis.sTitle = oLabel.value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this._aFilterFields) {\r\n\t\t\t\t\tif (this._aFilterFields.indexOf(oEntity.property[i].name) >= 0) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.aFilterGroup.push(new FilterGroupItem({\r\n\t\t\t\t\tgroupTitle: \"More Fields\",\r\n\t\t\t\t\tgroupName: \"gn1\",\r\n\t\t\t\t\tname: oEntity.property[i].name,\r\n\t\t\t\t\tlabel: oLabel.value,\r\n\t\t\t\t\tcontrol: new Input(oEntity.property[i].name),\r\n\t\t\t\t\tvisibleInFilterBar: true\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\topenValueHelp: function(binding, sKey, sKeyDes, onOk) {\r\n\r\n\t\t\tvar that = this;\r\n\r\n\t\t\tthis.binding = \"/\" + binding; // table model\r\n\r\n\t\t\tthis.col = {}; // culomn\r\n\t\t\tthis.setModel(binding, sKey);\r\n\r\n\t\t\tvar oValueHelpDialog = new ValueHelpDialog({\r\n\r\n\t\t\t\t// basicSearchText: \"search\",\r\n\t\t\t\ttitle: this.sTitle || \"Search\",\r\n\t\t\t\tsupportMultiselect: false,\r\n\t\t\t\tsupportRanges: false,\r\n\t\t\t\tsupportRangesOnly: false,\r\n\t\t\t\tkey: sKey,\r\n\t\t\t\tdescriptionKey: sKeyDes || \"\",\r\n\t\t\t\tok: function(oEvent) {\r\n\t\t\t\t\tvar oTaken = oEvent.getParameter(\"tokens\")[0];\r\n\t\t\t\t\tvar sReKey = oTaken.getProperty(\"key\");\r\n\t\t\t\t\tvar sText = oTaken.getProperty(\"text\");\r\n\t\t\t\t\t// var sPath = oEvent.getSource()._oSelectedItems.getItems()[0];\r\n\t\t\t\t\t// var oItem = oEvent.getSource()._oSelectedItems.items[sPath];\r\n\t\t\t\t\tvar oItem = oTaken.data(\"row\");\r\n\t\t\t\t\toValueHelpDialog.close();\r\n\t\t\t\t\tonOk.call(this, sReKey, sText, oItem);\r\n\t\t\t\t},\r\n\t\t\t\tcancel: function(oControlEvent) {\r\n\t\t\t\t\toValueHelpDialog.close();\r\n\t\t\t\t},\r\n\t\t\t\tafterClose: function() {\r\n\t\t\t\t\toValueHelpDialog.destroy();\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t// bind table\r\n\t\t\toValueHelpDialog.getTableAsync().then(function(oTable) {\r\n\t\t\t\toTable.setModel(new JSONModel(that.oColModel), \"columns\");\r\n\t\t\t\toTable.setModel(that.model);\r\n\t\t\t\tvar filters = [];\r\n\t\t\t\tif (that._aInitFilters) {\r\n\t\t\t\t\tfilters = that._aInitFilters;\r\n\t\t\t\t}\r\n\t\t\t\tif (oTable.bindRows) {\r\n\t\t\t\t\t// oTable.bindRows(that.binding);\r\n\t\t\t\t\toTable.bindRows({\r\n\t\t\t\t\t\tpath: that.binding,\r\n\t\t\t\t\t\tfilters: filters\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (oTable.bindItems) {\r\n\t\t\t\t\toTable.bindAggregation(\"items\", that.binding,\r\n\t\t\t\t\t\tfunction(sId, oContext) {\r\n\t\t\t\t\t\t\tvar aCols = oTable.getModel(\"columns\").getData().cols;\r\n\r\n\t\t\t\t\t\t\treturn new sap.m.ColumnListItem({\r\n\t\t\t\t\t\t\t\tcells: aCols.map(function(column) {\r\n\t\t\t\t\t\t\t\t\tvar colname = column.template;\r\n\t\t\t\t\t\t\t\t\treturn new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\t\ttext: \"{\" + colname + \"}\"\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"\", filters\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t\t// });\r\n\t\t\t\t// if (oTable instanceof sap.m.Table) {\r\n\t\t\t\t// \toTable.bindItems({\r\n\t\t\t\t// \t\tpath: that.binding,\r\n\t\t\t\t// \t\tfilters: filters\r\n\t\t\t\t// \t});\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \toTable.bindRows({\r\n\t\t\t\t// \t\tpath: that.binding,\r\n\t\t\t\t// \t\tfilters: filters\r\n\t\t\t\t// \t});\r\n\t\t\t\t// }\r\n\t\t\t});\r\n\r\n\t\t\t// oValueHelpDialog.setRangeKeyFields(this.aRange);\r\n\r\n\t\t\tvar oFilterBar = new FilterBar({\r\n\t\t\t\tadvancedMode: true,\r\n\t\t\t\tfilterBarExpanded: true, // Device.system.phone,\r\n\t\t\t\t//showGoOnFB: !Device.system.phone,\r\n\t\t\t\tfilterGroupItems: this.aFilterGroup,\r\n\t\t\t\tsearch: function(oEvent) {\r\n\t\t\t\t\t//\tvar aSearchItems = oEvent.mParameters.selectionSet;\r\n\t\t\t\t\tvar filters = [];\r\n\t\t\t\t\tif (that._aInitFilters) {\r\n\t\t\t\t\t\tfor (var element in that._aInitFilters) {\r\n\t\t\t\t\t\t\tfilters[element] = that._aInitFilters[element];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.each(arguments[0].getParameter(\"selectionSet\"), function(key, value) {\r\n\t\t\t\t\t\tif (value.getValue()) {\r\n\t\t\t\t\t\t\tfilters.push(new Filter(value.getId(), FilterOperator.Contains, value.getValue()));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (oValueHelpDialog.getTable() instanceof sap.m.Table) {\r\n\t\t\t\t\t\t// oValueHelpDialog.getTable().bindItems({\r\n\t\t\t\t\t\t// \tpath: that.binding,\r\n\t\t\t\t\t\t// \tfilters: filters,\r\n\t\t\t\t\t\t// \tand: true\r\n\t\t\t\t\t\t// });\r\n\t\t\t\t\t\toValueHelpDialog.getTable().bindAggregation(\"items\", that.binding, function(sId, oContext) {\r\n\t\t\t\t\t\t\t\tvar aCols = oValueHelpDialog.getTable().getModel(\"columns\").getData().cols;\r\n\r\n\t\t\t\t\t\t\t\treturn new sap.m.ColumnListItem({\r\n\t\t\t\t\t\t\t\t\tcells: aCols.map(function(column) {\r\n\t\t\t\t\t\t\t\t\t\tvar colname = column.template;\r\n\t\t\t\t\t\t\t\t\t\treturn new sap.m.Label({\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \"{\" + colname + \"}\"\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\"\", filters\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\toValueHelpDialog.getTable().bindRows({\r\n\t\t\t\t\t\t\tpath: that.binding,\r\n\t\t\t\t\t\t\tfilters: filters,\r\n\t\t\t\t\t\t\tand: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t},\r\n\t\t\t\tclear: function(oEvent) {\r\n\t\t\t\t\tsap.m.MessageToast.show(\"Clear pressed\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// oFilterBar.setBasicSearch(new SearchField({\r\n\t\t\t// \tshowSearchButton: true,\r\n\t\t\t// \tplaceholder: \"Search\",\r\n\t\t\t// \tsearch: function(oEvent) {\r\n\t\t\t// \t\tvar filters = [];\r\n\t\t\t// \t\tvar sValue = oEvent.getSource().getValue();\r\n\t\t\t// \t\t// filters.push(new Filter(value.getId(), FilterOperator.Contains, value.getValue()));\r\n\r\n\t\t\t// \t\tfilters.push(new Filter(\"Kosar\", FilterOperator.Contains, sValue));\r\n\r\n\t\t\t// \t\t// oValueHelpDialog.getFilterBar().search();\r\n\t\t\t// \t\toValueHelpDialog.getTable().bindRows({\r\n\t\t\t// \t\t\tpath: that.binding,\r\n\t\t\t// \t\t\tfilters: filters,\r\n\t\t\t// \t\t\tand: false\r\n\r\n\t\t\t// \t\t});\r\n\t\t\t// \t}\r\n\t\t\t// }));\r\n\r\n\t\t\toValueHelpDialog.setFilterBar(oFilterBar);\r\n\r\n\t\t\t// oValueHelpDialog.oSelectionTitle.setText(\"Select Search\");\r\n\t\t\t// oValueHelpDialog.oSelectionTitle.setVisible(true);\r\n\t\t\t// oValueHelpDialog.oSelectionButton.setVisible(true);\r\n\r\n\t\t\toValueHelpDialog.open();\r\n\r\n\t\t}\r\n\r\n\t});\r\n\r\n});"
	}
});